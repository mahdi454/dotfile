import{a as En}from"./chunk-5IF7UAPA.js";import{a as Ce}from"./chunk-AQX4M3AB.js";import{a as Sn}from"./chunk-DKSHHOGF.js";import{a as Pn}from"./chunk-4BRWPI5K.js";import{a as vn,b as An}from"./chunk-U557C5SO.js";import{a as Dn}from"./chunk-HUU4WO6F.js";import{a as ao}from"./chunk-UM364UVK.js";import"./chunk-QZG7YQTK.js";import"./chunk-XYWBSVTR.js";import{$ as un,Ja as wn,Ka as Tn,La as Fn,Ma as X,S as cn,Y as dn,Z as mn,_ as pn,ga as gn,ha as bn,ia as yn,ja as de,ka as me,la as hn,ma as xn,na as Bn,oa as pe,pa as Cn,sa as kn,w as oe}from"./chunk-FADT747G.js";import{c as ln}from"./chunk-LTPMKRAS.js";import"./chunk-3JF2QXJE.js";import"./chunk-OLW3L37F.js";import"./chunk-CCUXU2GU.js";import{b as fn}from"./chunk-PTZJLI7L.js";import"./chunk-QHN65AEO.js";import"./chunk-KS7RCTZG.js";import{a as sn}from"./chunk-QEXGR5WT.js";import"./chunk-L4RFQ6RY.js";import"./chunk-SHAEZV7V.js";import"./chunk-S24UABH5.js";import"./chunk-ZE6HXUUA.js";import{a as K}from"./chunk-X3ESGVCB.js";import"./chunk-5UZO3TVF.js";import"./chunk-DERIAD33.js";import"./chunk-EGXLQXDH.js";import{h as Be,m as an}from"./chunk-TSP4CJ7O.js";import{a as L}from"./chunk-CCQRCL2K.js";import"./chunk-ERPPDNZG.js";import"./chunk-INIFY56O.js";import"./chunk-IVMV7P4T.js";import{a as on,b as ne,c as tn}from"./chunk-T6LDDI5K.js";import"./chunk-HPOS2V3B.js";import{b as rn}from"./chunk-XYJX6G2K.js";import"./chunk-J6Y2BR3C.js";import"./chunk-B745CFYO.js";import{D as Ze,G as Ke,H as Ye,K as he,L as Qe,M as xe,a as V,c as $e,d as h,e as w}from"./chunk-AWKYXRT4.js";import"./chunk-H3FFS4GT.js";import"./chunk-GTBW7SFI.js";import"./chunk-TIFZOZS6.js";import"./chunk-PTZMRZUV.js";import"./chunk-VQVTLSDS.js";import{a as ee,b as qe,k as nn}from"./chunk-OKP6DFCI.js";import{U as Xe,Z as Je,o as c,ra as Re,rb as I,wa as en}from"./chunk-WIQ4WVKX.js";import{$ as ce,_a as je,aa as We,ka as Ge}from"./chunk-CZNVQ2ZN.js";import"./chunk-GBDVRVXI.js";import"./chunk-UCBZOSRF.js";import"./chunk-NV3TFZ4C.js";import"./chunk-B226KCTA.js";import{d as Oe,o as Ue,s as _e}from"./chunk-GJU3JL4E.js";import"./chunk-QTIYKADD.js";import"./chunk-XFLX2RRO.js";import{c as Ne,d as _}from"./chunk-BCLUZY4R.js";import"./chunk-GQEPK4C4.js";import"./chunk-BTKBODVJ.js";import"./chunk-PFT3L2T6.js";import{Ta as Me,mc as Le,nc as He,zc as Ve}from"./chunk-LVTCV2WT.js";import"./chunk-WFPABEAU.js";import"./chunk-775LAOS6.js";import"./chunk-LDMZMUWY.js";import"./chunk-X2SBUKU4.js";import"./chunk-OXFZHPMY.js";import"./chunk-HLHJEFRF.js";import"./chunk-S37W3WO2.js";import{Ad as se,Mb as Pe,Na as ve,Sd as Ee,Td as R,Ua as Ae,Ud as De,Va as Se,_d as Ie,ae as le,ne as ze}from"./chunk-6ZVJZYTQ.js";import"./chunk-DFKC7QAI.js";import{a as ae,b as Fe,m as U}from"./chunk-56SJOU6P.js";import{S as ye,i as Te,x as be}from"./chunk-CBSQD5B4.js";import"./chunk-N7UFQNLW.js";import{_a as q}from"./chunk-VNNHZNYI.js";import"./chunk-4P36KWOF.js";import{a as M}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as D,h as u,n as g}from"./chunk-3KENBVE7.js";u();g();var r=D(M());u();g();var H=D(M()),zn=D(ao());u();g();var S=D(M());u();g();var W=new on(_);var so=c(ee.button)`
  background: none;
  background-color: rgba(60, 49, 91, 0.4);
  border: 1px solid rgb(60, 49, 91);
  border-radius: 8px;
  cursor: pointer;
  height: 100%;
  padding: 10px 12px;
  width: 100%;
  &:hover {
    background-color: rgba(60, 49, 91, 0.6);
  }
`,lo=c(ee.div)`
  align-items: center;
  display: flex;
`,co=c.img`
  margin-right: 12px;
  width: 44px;
`,mo=c(I).attrs({lineHeight:17,size:14})`
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  flex: 1;
  overflow: hidden;
  text-align: left;
`,po=c.div`
  position: relative;
  top: -15px;
  right: -3px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  display: flex;
  height: 20px;
  justify-content: center;
  width: 20px;
`,uo=({banner:e})=>{let{t:n}=U(),o=wn(),{mutateAsync:t}=We(),{handleShowModalVisibility:a,handleHideModalVisibility:d}=X(),l=(0,S.useCallback)(x=>{let T=ne(e);switch(W.onBannerClick(T),e.bannerType){case"Deep Link":{let{destinationType:f,url:y}=e;o(x,{destinationType:f,url:y});break}case"Modal":{let{interstitial:f,destinationType:y,url:k}=e,{title:B,lineItems:F=[],imageUrl:p,primaryButtonText:v=n("commandContinue"),secondaryButtonText:A=n("commandDismiss")}=f,E=tn(e),P=F.map(N=>({icon:N.imageUrl,subtitle:N.description,title:N.title}));a("interstitial",{bodyTitle:B,details:P,icon:p,onDismiss:()=>{W.onInterstitialDismiss(E)},FooterComponent:()=>S.default.createElement(nn,{primaryText:v,secondaryText:A,onPrimaryClicked:()=>{o(x,{destinationType:y,url:k}),W.onInterstitialPrimaryClick(E),d("interstitial")},onSecondaryClicked:()=>{W.onInterstitialSecondaryClick(E),d("interstitial")}})}),W.onInterstitialSeen(E);break}}},[e,a,d,n,o]),b=(0,S.useCallback)(x=>{x.stopPropagation(),t({actionBannerId:e.id});let T=ne(e);W.onBannerDismiss(T)},[e,t]);return(0,S.useMemo)(()=>({banner:e,onClickBanner:l,onCloseBanner:b}),[e,l,b])},go=S.default.memo(({banner:e,onClickBanner:n,onCloseBanner:o})=>S.default.createElement(so,{layout:!0,onClick:n},S.default.createElement(lo,{layout:!0},S.default.createElement(co,{src:e.imageUrl}),S.default.createElement(mo,{weight:600},e.description),S.default.createElement(po,{onClick:o},S.default.createElement(Je,{fill:"#ffffff",width:8}))))),In=e=>{let n=uo(e);return S.default.createElement(go,{...n})};var fo=()=>{let{data:e={banners:[]}}=ce(),{data:n}=Ee(),{banners:o}=e,t=(0,zn.default)(n),a=(0,H.useCallback)(l=>{if(!n||t!==n)return;let b=o[l],x=ne(b);W.onBannerSeen(x)},[o,n,t]),d=(0,H.useMemo)(()=>o.map(l=>({key:l.id,node:H.default.createElement(In,{banner:l})})),[o]);return(0,H.useMemo)(()=>({identifier:n??"",items:d,itemHeight:74,onIndexChange:a}),[d,n,a])},bo=H.default.memo(({identifier:e,items:n,onIndexChange:o,itemHeight:t})=>H.default.createElement(En,{items:n,onIndexChange:o,key:e,itemHeight:t})),yo=()=>{let e=fo();return H.default.createElement(bo,{...e})},Nn=()=>{let{data:[e]}=q(["kill-action-banners"]);return e?null:H.default.createElement(yo,null)};u();g();var m=D(M());u();g();var G=D(M()),Mn=({children:e,maxFontSize:n})=>{let o=(0,G.useRef)(null),[t,a]=(0,G.useState)(n);return(0,G.useEffect)(()=>{let d=o.current;if(!d)return;let l=new ResizeObserver(()=>{let b=t;d.querySelectorAll("*").forEach(T=>{for(;T.scrollWidth>d.clientWidth&&b>10;)b-=1,T.style.fontSize=`${b}px`}),a(b)});return l.observe(d),()=>{l.disconnect()}},[t]),G.default.createElement(h,{ref:o,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},G.default.createElement("div",{style:{fontSize:`${t}px`,whiteSpace:"nowrap"}},e))};var ho=c(L).attrs({align:"center"})`
  width: 100%;
  background: ${e=>e.background};
`,xo=c(L).attrs({align:"center"})`
  margin-top: 2rem;
`,ke=c(L).attrs({align:"center",justify:"center",width:"100%"})`
  height: 5.3rem;
`,Ln=c(sn).attrs({height:"8px",borderRadius:"6px",backgroundColor:"#484848"})`
  opacity: 0.2;
`,Hn=c(K)`
  height: 8px;
  border-radius: 6px;
  background-color: ${ye("#999999",.5)};
  opacity: 0.5;
`,Bo=c.div`
  display: flex;
  flex-direction: row;
  padding: 16px 5px;
  justify-content: center;
  align-items: center;
  gap: 6px;
  flex: 1 0 0;
  border-radius: 62px;
  backdrop-filter: blur(2px);
  background: rgba(0, 0, 0, 0.2);
`,Co=c(I).attrs({size:15,weight:"600",color:"#FFF",lineHeight:20})``,ko=c(I).attrs({size:36,weight:"bold",color:"#777"})``,wo=c(K).attrs({justify:"center"})``,To=c(I).attrs({weight:500,size:18})`
  border-radius: 6px;
  padding: 2px 5px;
`,Fo=c.div`
  display: flex;
  flex-direction: row;
  gap: 8px;
  width: 326px;
  margin-top: 2rem;
  margin-bottom: 22px;
  > * {
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.16);
  }
`,vo=c.div`
  padding: 16px;
  padding-bottom: 0px;
`,Ao=c.div`
  padding: 32px 16px;
  width: 100%;
`,So={minimumFractionDigits:2,maximumFractionDigits:2},Vn=m.default.memo(({hasFungibles:e,isErrorTokens:n,isLoading:o,isHidingAllFungibles:t,isReadOnlyAccount:a,value:d,earnings:l,showDollarValues:b,shouldShowPartialError:x,partialErrorMessage:T,ctaActions:f})=>{let{t:y}=U(),k=Eo(l),B=Po({earnings:l,isNeutral:!b||o||t}),F=Do(d,l),{buttonDisabled:p}=Io({isLoading:o,isEnabled:e||t,isErrorTokens:n});return m.default.createElement(ho,{background:B},x?m.default.createElement(vo,null,m.default.createElement(kn,{partialErrorMessage:T})):null,m.default.createElement(xo,null,b?o?m.default.createElement(ke,null,m.default.createElement(Ln,{width:"184px",margin:"0 0 10px 0"}),m.default.createElement(Ln,{width:"112px"})):e||t?m.default.createElement(m.default.Fragment,null,m.default.createElement(h,{width:"100%",marginBottom:10},m.default.createElement(Mn,{maxFontSize:38},m.default.createElement(oe,{font:"inherit",fontWeight:"semibold",value:d,intlNumberFormatOptions:So}))),m.default.createElement(wo,null,m.default.createElement(oe,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:l}),m.default.createElement(To,{color:k,backgroundColor:ye(k,.1)},F))):n?m.default.createElement(ke,null,m.default.createElement(Hn,{width:"184px",margin:"0 0 10px 0"}),m.default.createElement(Hn,{width:"112px"})):null:m.default.createElement(ke,null,m.default.createElement(ko,null,"\u2013"))),a?m.default.createElement(Fo,null,m.default.createElement(Bo,null,m.default.createElement(Xe,{width:20,height:20,fill:"#FFFFFF"}),m.default.createElement(Co,null,y("readOnlyAccountBannerWarning")))):m.default.createElement(Ao,null,m.default.createElement(me,{disabled:p,actions:f,uiContextName:"home",maxButtons:4})))}),Po=({earnings:e,isNeutral:n})=>n||e===void 0||e===0?"linear-gradient(180deg, rgba(136, 136, 136, 0.05) 0%, rgba(136, 136, 136, 0) 100%)":e>0?"linear-gradient(180deg, rgba(33, 229, 111, 0.05) 0%, rgba(33, 229, 111, 0) 100%)":"linear-gradient(180deg, rgba(235, 55, 66, 0.05) 0%, rgba(235, 55, 66, 0) 100%)",Eo=e=>e===void 0||e===0?"#777777":e>0?"#21E56F":"#EB3742",Do=(e,n)=>{let o=e===void 0,t=n===void 0,a=t||n>=0?"+":"-";return o||t?"-":`${a}${Math.abs(Me(e-n,e)).toFixed(2)}%`},Io=({isLoading:e,isEnabled:n,isErrorTokens:o})=>{let t="primary",a=!1;switch(!0){case e:t="secondary",a=!0;break;case n:t="primary",a=!1;break;case o:t="secondary",a=!0}return{buttonTheme:t,buttonDisabled:a}};u();g();var j=D(M());var zo=c(L).attrs({align:"center"})``,No=c.div`
  width: 48px;
  height: 48px;
  position: relative;
  margin-bottom: 15px;
  border-radius: 100%;
  background: rgba(255, 220, 98, 0.2);
`,Mo=c(K).attrs({align:"center",justify:"center"})`
  height: 100%;
`,Lo=c(I).attrs({size:17,weight:500,lineHeight:22,margin:"0 0 10px 0"})``,Ho=c(I).attrs({size:15,weight:500,lineHeight:21,margin:"0 0 15px 0",color:"#777777"})``,Vo=c(I).attrs({size:16,weight:500,lineHeight:22,margin:"0",color:"#AB9FF2"})``,On=j.default.memo(e=>j.default.createElement(zo,null,j.default.createElement(No,null,j.default.createElement(Mo,null,j.default.createElement(en,{width:22,exclamationFill:"transparent",circleFill:"#FFE920"}))),j.default.createElement(Lo,null,e.title),j.default.createElement(Ho,null,e.description),j.default.createElement(Vo,{onClick:e.refetch},e.buttonText)));u();g();var J=D(M());var Oo=c(K).attrs({justify:"center",margin:"0 auto",width:"auto"})`
  cursor: pointer;
  height: 48px;
  margin-bottom: 10px;
  p {
    font-weight: 500;
  }
  &:hover {
    p {
      color: #ab9ff2 !important;
    }
    svg {
      fill: #ab9ff2;
      path {
        stroke: #ab9ff2;
      }
      circle {
        stroke: #ab9ff2;
      }
    }
  }
`,Uo=c(I).attrs({size:16,color:"#777777",weight:500,margin:"0 0 0 10px",lineHeight:19,noWrap:!0})``,Un=J.default.memo(e=>J.default.createElement(Oo,{onClick:e.onClick},J.default.createElement(rn,null,J.default.createElement(Re,null)),J.default.createElement(Uo,null,e.buttonText)));u();g();var C=D(M());u();g();var _n={bannersStack:"_51gazn18w _51gazn1c3 _51gazn129 _51gazngl _51gazncx _51gazneb",bannersStackHeading:"_51gaznm _51gazn332",banner:"_1lb45bv2",bannerTitle:"_51gazn10 _51gazn33h _51gazn7",bannerDescription:"_51gaznr _51gazn332 _51gaznbn _51gazn128",bannerImage:"_51gazn11k _51gazn12u"};var Zn=()=>{let{data:e}=R(),{data:n}=se(e?.identifier),o=n?.value===0,{data:t}=ce();return t&&t.banners.length>0?null:C.default.createElement(qe,null,o&&C.default.createElement(ee.div,{key:"zero-balance-banners",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},style:{width:"100%"}},C.default.createElement(_o,null)))},_o=()=>{let{t:e}=U(),{handleShowModalVisibility:n,handleHideModalVisibility:o}=X(),{data:t}=R(),a=(0,C.useCallback)(()=>{_.capture("zeroBalanceBannerBuyCryptoClickedByUser"),n("onramp")},[n]),d=(0,C.useCallback)(()=>{_.capture("zeroBalanceBannerDepositCryptoClickedByUser"),t&&n("receive",{account:t,onCloseClick:()=>o("receive")})},[o,n,t]);return C.default.createElement("div",{className:Wo},C.default.createElement(w,{className:Go,children:e("zeroBalanceHeading")}),C.default.createElement("div",{className:Wn,onClick:a},C.default.createElement(L,null,C.default.createElement(w,{className:Gn,color:"textSecondary",children:e("zeroBalanceBuyCryptoTitle")}),C.default.createElement(w,{className:jn,children:e("zeroBalanceBuyCryptoDescription")})),C.default.createElement("img",{className:$n,src:"/images/zero-balance/buy-crypto.svg"})),C.default.createElement("div",{className:Wn,onClick:d},C.default.createElement(L,null,C.default.createElement(w,{className:Gn,color:"textSecondary",children:e("zeroBalanceDepositTitle")}),C.default.createElement(w,{className:jn,children:e("zeroBalanceDepositDescription")})),C.default.createElement("img",{className:$n,src:"/images/zero-balance/transfer-crypto.svg"})))},{bannersStack:Wo,bannersStackHeading:Go,banner:Wn,bannerTitle:Gn,bannerDescription:jn,bannerImage:$n}=_n;u();g();var te=D(M());function Kn(e,n,o){let t=le(),[a,d]=(0,te.useState)(!1);(0,te.useEffect)(()=>{t||d(!1)},[o,t]),(0,te.useEffect)(()=>{a||!n.length||!e.length||t||(de.walletBalance(o,n,e),d(!0))},[o,n,e,a,t])}u();g();var i=D(M());u();g();var s=D(M()),Qn=({data:e,fetchStatus:n,headerText:o})=>{switch(n){case"pending":return s.default.createElement(s.default.Fragment,null,s.default.createElement(h,{paddingBottom:8},s.default.createElement(w,{font:"bodySemibold",color:"textSecondary"},o)),s.default.createElement(jo,null));case"success":return e?s.default.createElement(s.default.Fragment,null,s.default.createElement(h,{paddingBottom:8},s.default.createElement(w,{font:"bodySemibold",color:"textSecondary"},o)),s.default.createElement($o,{items:e})):null;case"error":return null}},ue=()=>s.default.createElement(h,{justifyContent:"center",alignContent:"center",flex:1,gap:4,paddingLeft:16,paddingY:14},s.default.createElement(xe,{width:60,font:"caption"}),s.default.createElement(xe,{width:100,font:"caption"})),jo=()=>s.default.createElement(Qe,{backgroundColor:"bgRow",borderRadius:"row"},s.default.createElement(h,{borderRadius:"row",direction:"row"},s.default.createElement(ue,null),s.default.createElement(h,{width:1,backgroundColor:"bgArea"}),s.default.createElement(ue,null)),s.default.createElement(h,{height:1,backgroundColor:"bgArea"}),s.default.createElement(h,{borderRadius:"row",direction:"row"},s.default.createElement(ue,null),s.default.createElement(h,{width:1,backgroundColor:"bgArea"}),s.default.createElement(ue,null))),Yn=({value:e,label:n})=>s.default.createElement(h,{justifyContent:"center",alignContent:"center",flex:1,paddingX:16,paddingY:14,gap:2},e&&(typeof e=="string"?s.default.createElement(w,null,e):e),s.default.createElement(w,{color:"textSecondary",font:"caption"},n)),$o=({items:e})=>s.default.createElement(h,{backgroundColor:"bgRow",borderRadius:"row",direction:"column"},e.map(({left:n,right:o,key:t},a)=>s.default.createElement(s.Fragment,{key:t},s.default.createElement(h,{direction:"row"},s.default.createElement(Yn,{value:n.value,label:n.label}),s.default.createElement(h,{width:1,backgroundColor:"bgArea"}),s.default.createElement(Yn,{value:o.value,label:o.label})),a!==e.length-1&&s.default.createElement(h,{height:1,backgroundColor:"bgArea"}))));var Zo=()=>i.default.createElement("div",{className:re.unverifiedBanner},i.default.createElement($e.AlertTriangle,{size:18}),i.default.createElement(w,{children:ae.t("publicFungibleUnverifiedToken"),font:"caption"})),Xn=({caip19:e,fungibleKey:n,title:o,entryPoint:t})=>{let a=pe(),d=(0,i.useMemo)(()=>p=>{_.capture("onPublicFungibleSwapClick",{data:{caip19:e}}),a({sellFungibleCaip19:p.sellFungibleCaip19,buyFungibleCaip19:p.buyFungibleCaip19})},[e,a]),l=(0,i.useCallback)(p=>{self.open(p)},[]),b=Ge(),{canBuy:x,openBuy:T}=gn(e,"publicFungible","fiatOnrampFromPublicFungible"),f=(0,i.useCallback)(p=>{navigator.clipboard.writeText(p),cn(Fe("publicFungibleDetailLinkCopied"))},[]),y=(0,i.useMemo)(()=>{let p=Ae(e);return p.resourceType==="address"?i.default.createElement(un,{copyString:p.address},Pe(p.address)):null},[e]),{data:[k]}=q(["enable-ugc-swaps"]),B=je(e),F=_e({caip19:e,canBuy:x,canSwap:b,entryPoint:t,fungibleKey:n,fungibleAnalytics:de,openBuy:T,openLink:l,openSwapper:d,title:o,onShare:f,copyAddress:y,includeUgcItemTypes:k,refetchBondingCurve:B});return i.default.createElement(Cn,{header:i.default.createElement(an,null,o),content:i.default.createElement("div",{className:re.container},F.items.map(p=>{let v=Ko(p);return v?i.default.createElement(i.default.Fragment,{key:v.key},v.element):null}))})};function Ko(e){if(e.type==="unverifiedBanner")return{element:i.default.createElement(Zo,null),key:e.type};if(e.type==="sectionHeader")return{element:i.default.createElement(w,{color:"textSecondary",className:re.sectionTitle,children:e.data}),key:[e.type,e.data].join(":")};if(e.type==="about")return{element:i.default.createElement(hn,{text:e.data}),key:e.type};if(e.type==="links")return{element:i.default.createElement("div",{className:re.linkContainer},i.default.createElement(Bn,{data:e.data})),key:e.type};if(e.type==="priceHistory")return{element:i.default.createElement(xn,{...e.data}),key:e.type};if(e.type==="cta")return{element:i.default.createElement("div",{className:re.ctaContainer},i.default.createElement(me,{actions:e.data.actions,uiContextName:"publicFungibleDetail",maxButtons:4})),key:e.type};if(e.type==="table")return qn(e.data.rows),{element:i.default.createElement(fn,{rows:e.data.rows}),key:[e.type,e.data.key].join(":")};if(e.type==="ugcWarningBanner")return{element:i.default.createElement(yn,{caip19:e.data.caip19,spamStatus:e.data.spamStatus}),key:e.type};if(e.type==="tableWithBondingCurveProgress")return qn(e.data.rows),{element:i.default.createElement(bn,{caip19:e.data.caip19,rows:e.data.rows}),key:[e.type,e.data.key].join(":")};if(e.type==="balance"){let{fungible:n,holdings:o,status:t}=e.data;return{element:i.default.createElement(h,{marginTop:12},i.default.createElement(Qn,{fetchStatus:t,headerText:ae.t("publicFungibleDetailYourBalance"),data:[{key:"balance",left:{value:`${Ve(n.data.balance)} ${n.data.symbol}`,label:"Quantity"},right:{value:i.default.createElement(oe,{value:n.data.usd}),label:"Value"}},o&&{key:"holdings",left:{value:i.default.createElement(he,{color:"sentiment",value:Number(o.pnl)}),label:"All-time return"},right:{value:i.default.createElement(he,{value:Number(o.averageCost)}),label:"Average cost"}}].filter(Te)})),key:e.type}}return e.type==="error"?{element:i.default.createElement(h,{flex:1,padding:16,justifyContent:"center",alignItems:"center"},i.default.createElement(w,{color:"textSecondary"},ae.t("publicFungibleDetailErrorLoading"))),key:e.type}:null}function qn(e){for(let n of e)if("change"in n){let o=n.change;if(!n.value||typeof n.value!="string")return;let t=o.charAt(0)==="-";n.value=i.default.createElement("div",{className:V({flexDirection:"row"})},i.default.createElement(w,{font:"body",children:n.value}),i.default.createElement(w,{className:V({paddingLeft:6}),font:"body",color:t?"accentAlert":"accentSuccess",children:o}))}}var re={container:V({display:"flex",flexDirection:"column",gap:"list"}),sectionTitle:V({font:"bodySemibold",paddingTop:12}),about:V({font:"body"}),price:V({textAlign:"center",font:"heading1"}),linkContainer:V({paddingTop:16,paddingBottom:8}),ctaContainer:V({paddingTop:16}),unverifiedBanner:V({display:"flex",flex:1,gap:8,backgroundColor:"bgRow",padding:16,borderRadius:16})};var Yo=r.default.memo(({visibilityOverrides:e,fungibles:n,isMainnet:o,onMouseEnter:t})=>{let{data:[a]}=q(["enable-unified-token-pages"]),{t:d}=U(),{pushDetailView:l}=Be(),b=(0,r.useRef)(document.getElementById("home-tab"));(0,r.useEffect)(()=>{let f=document.getElementById("home-tab");f&&(b.current=f)},[]);let x=(0,r.useCallback)(({networkID:f,chainName:y,fungibleKey:k,name:B,symbol:F,tokenAddress:p,type:v,walletAddress:A,spamStatus:E,splTokenAccount:P,caip19:N})=>{_.capture("assetDetailClick",{data:{address:p,chain:y,chainId:ve.getChainID(f),isNativeOfType:y,networkId:f,type:"fungible",spamStatus:E,name:B}}),l(a?r.default.createElement(Xn,{caip19:N,fungibleKey:k,entryPoint:"home"}):r.default.createElement(Tn,{networkID:f,chainName:y,name:B,symbol:F,fungibleKey:k,tokenAddress:p,splTokenAccount:P,type:v,walletAddress:A}))},[l,a]),T=(0,r.useCallback)(({key:f,index:y,style:k})=>{let F=Math.min(y+1,n.length),p=[];for(let v=y;v<F;v++){let A=n[v],E=A.type,{chain:P,name:N,symbol:$,key:O,tokenAddress:Z,walletAddress:ie}=A.data,Y=N??d("assetDetailUnknownToken"),ge=Se(Le(A));p.push(r.default.createElement(mn,{...pn(A,e),key:`${O}-${y}`,onClick:()=>x({networkID:P.id,chainName:P.name,fungibleKey:O,name:Y,symbol:$,tokenAddress:Z,type:E,walletAddress:ie,splTokenAccount:A.type==="SPL"?A.data.splTokenAccountPubkey:void 0,spamStatus:A.data.spamStatus,caip19:ge}),onMouseEnter:t,showBalance:!0,showCurrencyValues:o}))}return r.default.createElement("div",{key:f,style:k},p)},[n,o,x,t,d,e]);return r.default.createElement(Ye,{scrollElement:b.current??void 0},({height:f=0,isScrolling:y,registerChild:k,scrollTop:B})=>r.default.createElement(Ze,{disableHeight:!0,style:{width:"100%"}},({width:F})=>r.default.createElement("div",{ref:k},r.default.createElement(Ke,{autoHeight:!0,width:F,height:f,scrollTop:B,isScrolling:y,rowCount:n.length,rowHeight:dn+10,rowRenderer:T}))))}),Qo=be({seconds:5}),qo=be({seconds:10}),Xo=()=>{let{data:e}=R(),{data:n}=se(e?.identifier),{shouldShowAdditionalPermissionsInterstitial:o}=An(),{pushDetailView:t}=Be(),a=Ne("enable-base"),d=pe(),{handleShowModalVisibility:l,handleHideModalVisibility:b,closeAllModals:x}=X(),T=(0,r.useCallback)(()=>{e&&l("onramp")},[l,e]),f=(0,r.useCallback)(()=>{e&&l("receive",{account:e,onCloseClick:()=>b("receive")})},[b,l,e]),y=(0,r.useCallback)(()=>{d({})},[d]),k=(0,r.useCallback)(()=>{l("sendFungibleSelect")},[l]),{t:B}=U(),F=(0,r.useMemo)(()=>({manageTokenList:B("homeManageTokenList"),errorTitle:B("homeErrorTitle"),errorDescription:B("homeErrorDescription"),errorButton:B("homeErrorButtonText")}),[B]),{ctaActions:p,shouldShowPartialError:v,partialErrorMessage:A}=Ue({onTappingBuy:T,onTappingReceive:f,onTappingSend:k,onTappingSwap:y,account:e}),{accountBalance:E,accountId:P}=(0,r.useMemo)(()=>({accountBalance:n?.value,accountId:e?.identifier??""}),[n?.value,e?.identifier]),N=e?.isReadOnly,$=!le(),O=Oe(Q=>Q.resetSendSlice);(0,r.useEffect)(function(){P&&O()},[P,O]);let{fungibles:Z,visibilityOverrides:ie,portfolio:Y,isHidingAllFungibles:ge,isLoadingVisibilityOverrides:Jn,isLoadingTokens:Rn,isLoadingPrices:eo,isErrorTokens:no,refetch:oo}=He({useTokenQueryOptions:{staleTime:Qo,refetchInterval:qo}}),{mutate:to}=De();ze({accountBalance:E,accountId:P,enabled:$,value:Y.value,setAccountBalance:to});let ro=Ie();Kn(Z,ro,P);let io=(0,r.useMemo)(()=>({fungibles:Z,earnings:Y.earnings,value:Y.value,isMainnet:$,translations:F,visibilityOverrides:ie,ctaActions:p,showReceiveModal:f,handleShowModalVisibility:l,handleHideModalVisibility:b}),[ie,Z,Y,F,$,f,l,b,p]),fe=Ce(Q=>Q.publicFungibleDetailProps),we=Ce(Q=>Q.clearNotifyHomeFungiblePush);return(0,r.useEffect)(()=>{fe&&(t(r.default.createElement(Fn,{...fe})),we(),setTimeout(()=>x(),50))},[fe,t,we,x]),{data:io,isHidingAllFungibles:ge,isLoading:Jn||Rn||eo,isErrorTokens:no,isReadOnlyAccount:N,refetch:oo,shouldShowPartialError:v,partialErrorMessage:A,shouldShowAdditionalPermissionsInterstitial:o,isBaseFeatureEnabled:a}},Jo=()=>{let{data:e,isHidingAllFungibles:n,isLoading:o,isErrorTokens:t,isReadOnlyAccount:a,refetch:d,shouldShowPartialError:l,partialErrorMessage:b,shouldShowAdditionalPermissionsInterstitial:x,isBaseFeatureEnabled:T}=Xo(),{fungibles:f,translations:y,isMainnet:k,earnings:B,value:F,visibilityOverrides:p,ctaActions:v,handleShowModalVisibility:A}=e,{manageTokenList:E,errorTitle:P,errorDescription:N,errorButton:$}=y,O=f.length>0;return r.default.createElement("div",{id:"home-tab"},r.default.createElement(Vn,{earnings:B,value:F,hasFungibles:O,isErrorTokens:t,isLoading:o,isHidingAllFungibles:n,isReadOnlyAccount:a,showDollarValues:k,shouldShowPartialError:l,partialErrorMessage:b,ctaActions:v}),r.default.createElement(L,{align:"center",padding:"0 16px 16px"},!a&&r.default.createElement(r.default.Fragment,null,r.default.createElement(Zn,null),r.default.createElement(Nn,null)),!Dn()&&r.default.createElement(r.default.Fragment,null,r.default.createElement(Sn,null),T&&r.default.createElement(Pn,null)),x&&r.default.createElement(vn,null),o?[1,2,3].map(Z=>r.default.createElement(ln,{key:`fungible-token-row-loader-${Z}`})):O?r.default.createElement(Yo,{visibilityOverrides:p,fungibles:f,isMainnet:k}):n?null:r.default.createElement(On,{title:P,description:N,buttonText:$,refetch:d}),o?null:O||n?r.default.createElement(Un,{buttonText:E,onClick:()=>A("fungibleVisibility")}):null))},fa=Jo;export{fa as default};
//# sourceMappingURL=HomeTabPage-6ULNBYUV.js.map
