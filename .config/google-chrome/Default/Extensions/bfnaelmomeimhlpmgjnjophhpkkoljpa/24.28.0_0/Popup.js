import{a as At}from"./chunk-QO5CLCT7.js";import{a as et,b as Y,c as pt,d as ct,e as ut,f as ft,g as gt,h as ht,i as bt,k as Pt}from"./chunk-HYGLGCCF.js";import"./chunk-UM364UVK.js";import{a as Ke,b as Ye,d as nt}from"./chunk-CPE7FT6D.js";import"./chunk-AOFTB55F.js";import"./chunk-ESXKWKRD.js";import"./chunk-QZG7YQTK.js";import"./chunk-XYWBSVTR.js";import"./chunk-GAMV7M6N.js";import"./chunk-ZNZZRKNQ.js";import"./chunk-2WECCVZD.js";import"./chunk-E5R3LR47.js";import"./chunk-R37HR6ZK.js";import"./chunk-UHY2DDPT.js";import"./chunk-FXZSCE5Y.js";import"./chunk-B7D6E7MG.js";import{a as Xe}from"./chunk-PQSEBVON.js";import"./chunk-VHCQKD7Y.js";import"./chunk-7A6HLO4U.js";import"./chunk-IKHULP2P.js";import{a as q}from"./chunk-T27XGMXK.js";import"./chunk-AUOG6CT3.js";import"./chunk-5DG6WSA2.js";import"./chunk-XJWRT6N6.js";import{Ma as j,Na as lt,W as st,d as je,m as Ge}from"./chunk-FADT747G.js";import"./chunk-LTPMKRAS.js";import"./chunk-3JF2QXJE.js";import"./chunk-OLW3L37F.js";import"./chunk-CCUXU2GU.js";import"./chunk-PTZJLI7L.js";import"./chunk-QHN65AEO.js";import"./chunk-KS7RCTZG.js";import"./chunk-QEXGR5WT.js";import"./chunk-L4RFQ6RY.js";import"./chunk-SHAEZV7V.js";import{b as at}from"./chunk-S24UABH5.js";import"./chunk-ZE6HXUUA.js";import"./chunk-X3ESGVCB.js";import"./chunk-5UZO3TVF.js";import"./chunk-DERIAD33.js";import"./chunk-EGXLQXDH.js";import{d as tt,g as ot,j as rt}from"./chunk-TSP4CJ7O.js";import"./chunk-CCQRCL2K.js";import"./chunk-ERPPDNZG.js";import"./chunk-INIFY56O.js";import"./chunk-IVMV7P4T.js";import"./chunk-J3Y4UZBD.js";import"./chunk-EGXKEBKM.js";import{a as dt,b as mt,c as xt}from"./chunk-AL3OYAXA.js";import{b as yt}from"./chunk-DEQQGOVJ.js";import"./chunk-T6LDDI5K.js";import"./chunk-HPOS2V3B.js";import"./chunk-XYJX6G2K.js";import{j as Oe,l as U}from"./chunk-J6Y2BR3C.js";import{b as Se}from"./chunk-B745CFYO.js";import{V as Le,Y as Ie,d as Q,e as X,fa as He}from"./chunk-AWKYXRT4.js";import"./chunk-H3FFS4GT.js";import"./chunk-GTBW7SFI.js";import{a as vt}from"./chunk-KNP7SVKQ.js";import{c as Re}from"./chunk-TIFZOZS6.js";import"./chunk-PTZMRZUV.js";import{a as it}from"./chunk-VQVTLSDS.js";import{a as C,b as L}from"./chunk-OKP6DFCI.js";import{Z as Je,a as Ve,b as O,c as De,d as $e,e as We,f as K,g as Ue,i as qe,l as Qe,o as x,wa as Ze}from"./chunk-WIQ4WVKX.js";import{a as Dt,c as _e}from"./chunk-CKV2SJW7.js";import{ca as Ne,fb as Ee}from"./chunk-CZNVQ2ZN.js";import"./chunk-GBDVRVXI.js";import"./chunk-UCBZOSRF.js";import"./chunk-NV3TFZ4C.js";import"./chunk-B226KCTA.js";import"./chunk-GJU3JL4E.js";import{e as W}from"./chunk-QTIYKADD.js";import"./chunk-XFLX2RRO.js";import{a as Ce,d as _}from"./chunk-BCLUZY4R.js";import{a as ke}from"./chunk-GQEPK4C4.js";import"./chunk-BTKBODVJ.js";import{f as ce}from"./chunk-PFT3L2T6.js";import{Db as Me,Fb as Fe,Ib as ze,O as Pe,P as Ae,Q as Be,W as we,X as Te}from"./chunk-LVTCV2WT.js";import"./chunk-WFPABEAU.js";import"./chunk-775LAOS6.js";import{a as $t}from"./chunk-LDMZMUWY.js";import"./chunk-X2SBUKU4.js";import"./chunk-OXFZHPMY.js";import"./chunk-HLHJEFRF.js";import"./chunk-S37W3WO2.js";import{Cd as ue,Jd as fe,Na as le,Q as oe,Sd as ge,T as re,Td as he,Zd as ye,_d as be,ae as ve,be as xe,fc as de,qc as me,tc as pe}from"./chunk-6ZVJZYTQ.js";import{K as ne}from"./chunk-DFKC7QAI.js";import{m as E}from"./chunk-56SJOU6P.js";import{S as v}from"./chunk-CBSQD5B4.js";import"./chunk-N7UFQNLW.js";import{_a as H,ba as $,ka as ie,qa as ae,ta as se,z as te}from"./chunk-VNNHZNYI.js";import"./chunk-4P36KWOF.js";import{a as M}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as T,h as s,n as l}from"./chunk-3KENBVE7.js";s();l();var n=T(M()),Vt=T(Dt());s();l();var V=T(M());s();l();var J={container:"_1nscgt61 _51gazn1ar _51gazn1b4 _51gaznqm _51gaznvd _51gaznqp _51gaznt1 _51gaznxp _51gazn18w",notification:"_1nscgt63 _51gaznn0 _51gaznny _51gaznpu _51gaznow _51gaznbp _51gazn9a _51gazne4 _51gazn6v _51gaznkx _51gaznk3 _51gaznlr _51gaznj9 _51gaznqg _51gaznqe _51gaznqi _51gaznqc _51gazn2t2 _51gazn2jw _51gazn21k _51gazn2aq _51gazn1k2"};var Bt=()=>{let{data:[e]}=H(["enable-sidepanel-tx-notifications"]),t=Ye();if(e!==!0||!t)return null;let i={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}},d={initial:{y:-40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},transition:{duration:.5,ease:[.5,0,.2,1]}};return V.createElement(L,{mode:"wait"},V.createElement(C.div,{className:J.container,...i},V.createElement(C.div,{className:J.notification,key:t?.req?.id||"sidepanel",...d},V.createElement(Pt,null))))};s();l();var o=T(M());s();l();var y=T(M());var wt=({expired:e})=>{let{t}=E(),[i,d]=(0,y.useState)(!1),{data:c=[]}=fe("seedless-seeds-only"),{handleShowModalVisibility:p}=j(),f=c.length>0,g=(0,y.useCallback)(()=>{p("seedlessVerifyPinPage")},[p]);(0,y.useEffect)(()=>{e&&d(!1)},[e]);let m=(0,y.useCallback)(()=>{d(!0)},[]),h=(0,y.useCallback)(()=>{d(!0),g()},[g]);return!f||!e||i?null:y.default.createElement(Q,{padding:"screen",position:"absolute",insetX:0,zIndex:10,className:st.toastPosition},y.default.createElement(Le,{onClose:m,icon:"Info",actions:{children:t("seedlessVerifyPinVerifyButtonText"),onPress:h}},y.default.createElement(Q,{gap:8},y.default.createElement(X,{font:"captionSemibold",color:"bgWallet",children:t("seedlessVerifyToastPrimaryText")}),y.default.createElement(X,{font:"caption",color:"bgWallet",children:t("seedlessVerifyToastSecondaryText")}))))};s();l();s();l();s();l();s();l();s();l();async function Tt(e){let t=await oe.api().headers({Accept:"application/json"}).get(`/alert/v1?locale=${e}`);if(!re(t))throw new Error("Failed to retrieve Solana network health");return t.data}function Ct(e,t){return ie({queryKey:["solana","health",{locale:e}],refetchInterval:60*2500,enabled:t,async queryFn(){return await Tt(e)}})}function Z(e,t){let{data:i}=Ct(e,t);return t?i:void 0}var u=T(M());s();l();var F=T(M());var kt=(0,F.createContext)(null),St=()=>{let e=(0,F.useContext)(kt);if(!e)throw new Error("Missing banner context. Make sure you're wrapping your component in a <BannerProvider />");return e},Mt=({children:e})=>{let t=[],i=(m,h)=>{switch(h.type){case"create":return m.concat(h.payload);case"delete":return m.filter(({id:B})=>B!==h.payload.id);case"reset":return t;default:throw new Error("There was an error dispatching a banner action.")}},[d,c]=(0,F.useReducer)(i,t),p=m=>{let{type:h,variant:B,message:a,dismissable:b=!0,icon:S,autohide:A=!0,delay:z=5e3,onClick:D}=m;(!h||!B||!a)&&console.error("You must supply a type, variant and message when creating a Banner.");let I=ne();return c({type:"create",payload:{id:I,type:h,variant:B,message:a,dismissable:b,icon:S,autohide:A,delay:z,onClick:D}}),A&&setTimeout(()=>{f({id:I})},z),I},f=m=>c({type:"delete",payload:{id:m.id}}),g=()=>c({type:"reset"});return F.default.createElement(kt.Provider,{value:{banners:d,createBanner:p,deleteBanner:f,resetBanners:g}},e)};var Ft=x.button`
  cursor: ${e=>e.onClick?"pointer":"default"};
  display: flex;
  align-items: center;
  vertical-align: middle;
  overflow: visible;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  background-color: transparent;
  width: 100%;
  padding: 10px 16px;

  svg {
    fill: #fff;
    margin-right: 8px;
  }
`,Wt=x(C.div)`
  position: relative;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: ${e=>{switch(e.variant){case"primary":return v("#AB9FF2",.7);case"success":return v("#21E56F",.7);case"warning":return v("#E5A221",.7);case"danger":return v("#EB3742",.7);default:return v("#E5A221",.7)}}};

  ${Ft} {
    &:focus-visible {
      border-color: ${e=>{switch(e.variant){case"primary":return v("#AB9FF2",.7);case"success":return v("#21E56F",.7);case"warning":return v("#E5A221",.7);case"danger":return v("#EB3742",.7);default:return v("#E5A221",.7)}}};
    }
  }
`,Ut=x.p`
  color: #ffffff;
  font-size: 14px;
  font-weight: 500;
  line-height: 19px;
  text-align: left;

  svg {
    margin-right: 10px;
  }
`,qt=x.button`
  cursor: pointer;
  position: absolute;
  right: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  margin: 0;
  padding: 0;
  overflow: visible;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  background-color: transparent;

  &:focus,
  &:focus-visible {
    border-color: ${v("#FFFFFF",.3)};
  }

  svg {
    fill: #ffffff;
    margin: 0;
  }
`,jt=(e,t,i)=>{let{banners:d,createBanner:c,deleteBanner:p}=St(),f=d[d.length-1],{handleShowModalVisibility:g}=j(),{showSettingsMenu:m}=rt(),{t:h,i18n:B}=E(),{cluster:a}=e(),S=be().some(w=>le.isSolanaNetworkID(w)),A=Z(B.language,S),z=t(),D=i();(0,u.useEffect)(()=>{let w=d.find(N=>N.type==="testnet-mode");w&&p({id:w.id}),D?c({type:"testnet-mode",variant:"warning",message:h("featureNotSupportedOnLocalNet"),dismissable:!1,autohide:!1,onClick:()=>m(void 0,u.default.createElement(Y,null))}):z&&c({type:"testnet-mode",variant:"warning",message:h("connectionClusterTestnetMode"),dismissable:!1,autohide:!1,onClick:()=>m(void 0,u.default.createElement(Y,null))})},[D,z,h]),(0,u.useEffect)(()=>{if(!a)return;let w=d.find(N=>N.type==="network-health");if(a==="mainnet-beta"){if(A){let{bannerVariant:N,bannerMessage:G,notificationMessageTitle:R,notificationMessage:ee}=A;!!N&&!!G?G!==w?.message&&c({type:"network-health",variant:N,message:G,dismissable:!1,icon:u.default.createElement(Ze,{width:14,height:14,circleFill:"#FFFFFF",exclamationFill:"transparent"}),autohide:!1,onClick:ee&&R?()=>g("networkHealth",{variant:N,title:R,message:ee}):void 0}):w&&p({id:w.id})}}else w&&p({id:w.id})},[a,A]);let I=(0,u.useCallback)(()=>{f&&p({id:f.id})},[p,f]);return{banner:f,dismissBanner:I}},Gt=u.default.memo(e=>{let{banner:t,dismissBanner:i}=e;return u.default.createElement(L,null,t&&u.default.createElement(Wt,{key:"banner",role:"banner","aria-live":t?.autohide?"assertive":"polite","aria-atomic":"true",variant:t.variant,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{ease:"easeOut",duration:.2}},u.default.createElement(Ft,{tabIndex:t.onClick?1:-1,onClick:t.onClick},t.icon,u.default.createElement(Ut,null,t.message)),t.dismissable&&u.default.createElement(qt,{onClick:i},u.default.createElement(Je,{width:14,fill:"#FFFFFF"}))))}),Qt=()=>{let e=jt(ze,ve,xe);return u.default.createElement(Gt,{...e})},zt=()=>u.default.createElement(Qt,null);s();l();var r=T(M());s();l();var Nt=T($t()),k=T(M());var Xt=x(C.div)`
  position: absolute;
  top: 0px;
  left: 0;
  width: 0;
  height: 2px;
  background-color: #ab9ff2;
`,Et=({refs:e,activeRoute:t,onFinishedAnimating:i,isAnimating:d})=>{let[{x:c,width:p},f]=(0,k.useState)({x:0,width:0}),g=(0,k.useCallback)(()=>{e&&e[t]&&e[t].current&&f({x:e[t].current.offsetLeft,width:e[t].current.getBoundingClientRect().width})},[t,e]);return(0,k.useEffect)(()=>{g()},[t,e,g]),(0,k.useEffect)(()=>{let m=(0,Nt.default)(()=>{g()},500);return self.addEventListener("resize",m),()=>{self.removeEventListener("resize",m)}}),k.default.createElement(Xt,{animate:{x:c,width:p},style:{opacity:d?1:0},onAnimationComplete:i,transition:{duration:.4,type:"spring"}})};var _t=.1,Lt=10,Kt=60,Yt=x.div`
  position: relative;
  height: ${Kt}px;
  display: flex;
`,Jt=x(C.div)`
  flex: 1;
  overflow-x: hidden;
  padding: ${({padding:e})=>typeof e=="number"?e:16}px;
`,Zt=x(nt)`
  flex: 1;
  display: flex;
  justify-content: space-around;
  padding: 0px 10px;
`,Ht=r.default.memo(({items:e})=>{let t=O(),i=tt(t),[d,c]=(0,r.useState)(!1),p=(0,r.useMemo)(()=>e.find(a=>Ve({path:`/${a.route}`,end:!0},t.pathname)),[e,t.pathname]),f=p&&p.route,g=(0,r.useMemo)(()=>e.reduce((a,b)=>(a[b.route]=(0,r.createRef)(),a),{}),[e]),m=t.pathname!=i?.pathname&&i?.pathname!=null,h=(0,r.useMemo)(()=>e.map(a=>{let b=r.default.memo(()=>{let S=0;return m&&(S=Rt(e,t.pathname,i?.pathname??"")?Lt:-Lt),r.default.createElement(Jt,{id:"tab-content","data-testid":`tab-content-${a.route}`,initial:{x:S,opacity:0},animate:{x:0,opacity:1},exit:{opacity:0},transition:{duration:_t},padding:a.padding},r.default.createElement(ot,{shouldResetOnAccountChange:!0},a.renderContent()))});return r.default.createElement(K,{key:a.route,path:`/${a.route}`,element:r.default.createElement(b,null)})}),[e,t]),B=(0,r.useCallback)(a=>{c(!0),_.capture("tabPress",{data:{target:a}}),se.addBreadcrumb("generic",`Tab changed to ${a}`,"info")},[]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(L,{mode:"wait",initial:!1},r.default.createElement(Ue,{location:t,key:t.pathname},h,r.default.createElement(K,{key:"redirection",element:r.default.createElement(C.div,{exit:{opacity:0},transition:{duration:_t}},r.default.createElement(We,{to:e[0]?e[0].route:"/"}))}))),r.default.createElement(Yt,null,r.default.createElement(Et,{refs:g,activeRoute:f,onFinishedAnimating:()=>c(!1),isAnimating:d}),r.default.createElement(Zt,{role:"tablist","aria-orientation":"horizontal"},e.map(a=>r.default.createElement(to,{isActive:f===a.route,key:a.route,item:a,ref:g[a.route],isAnimating:d,onClick:()=>B(a.route)})))),r.default.createElement("div",{"aria-hidden":!0,"data-testid":"current-route","data-location":t.pathname}))},(e,t)=>Fe(e.items.map(i=>i.route),t.items.map(i=>i.route))),Rt=(e,t,i)=>{let d=e.findIndex(p=>p.route===It(t)),c=e.findIndex(p=>p.route===It(i));return d>c},It=e=>e==="/"?e:e.replace(/^\/+/g,""),eo=x(qe)`
  display: block;
  padding: 15px 0px;
  margin: 0px 12px;
  position: relative;
  width: 100%;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  :hover {
  }
  :after {
    content: "";
    position: absolute;
    top: -1px;
    left: 0;
    height: 2px;
    width: 100%;
    border-radius: 2px;
    ${e=>e.$isActive&&!e.$isAnimating&&"background-color: #AB9FF2;"}
    ${e=>e.$isAnimating&&"background-color: transparent;"}
  }
`,to=(0,r.forwardRef)(({isActive:e,item:t,isAnimating:i,onClick:d},c)=>r.default.createElement(eo,{"aria-label":t.label,"data-testid":`bottom-tab-nav-button-${t.route}`,$isActive:e,$isAnimating:i,to:t.route,ref:c,onClick:d},t.renderButton({isActive:e})));var oo=o.default.lazy(()=>import("./HomeTabPage-6ULNBYUV.js")),ro=o.default.lazy(()=>import("./CollectionsPage-ETJQQSB3.js")),no=o.default.lazy(()=>import("./SwapTabPage-CVMP2GJ4.js")),io=o.default.lazy(()=>import("./RecentActivity-PJBLZH4V.js")),ao=o.default.lazy(()=>import("./ExploreTabPage-5H6DWLL7.js")),so=o.default.lazy(()=>import("./HomeHeaderRightButtons-PSJ4VEPE.js")),lo=o.default.lazy(()=>import("./SwapSettingsButton-GWFLC72F.js")),Ot=()=>{let{data:e=[]}=ue();ye();let{data:[t]}=H(["frontend-enable-session-start"]),{mutateAsync:i}=ce();q(()=>{bt.onAppSessionStart(e)},e.length>0&&t);let{mutate:d}=Ne();return q(()=>{d()},!0),q(()=>{i()},te),o.default.createElement(o.default.Fragment,null,o.default.createElement(mo,null),o.default.createElement(zt,null),o.default.createElement(po,null),o.default.createElement("div",{id:W}))},mo=()=>{let{pathname:e}=O(),t=(0,o.useMemo)(()=>e==="/swap"?o.default.createElement(lo,null):e==="/"?o.default.createElement(so,null):null,[e]);return o.default.createElement(ft,{rightMenuButton:t})},po=()=>{let{data:e}=ge(),{data:t}=he({authRepository:U}),{data:[i]}=H(["enable-pin-verification-timer"]),{data:d}=Ge(i),c=t?.isReadOnly,p=$.isFeatureEnabled("kill-swapper")||c,f=$.isFeatureEnabled("kill-explore"),g=$.isFeatureEnabled("kill-collectibles"),{t:m}=E(),{pathname:h}=O(),B=De(),{closeAllModals:a}=at();Me(),(0,o.useEffect)(()=>{a(),h!=="/"&&B("/")},[e]);let b=(0,o.useCallback)(A=>({isActive:z})=>o.default.createElement(He,{animationName:A,isActive:z}),[]),S=(0,o.useMemo)(()=>[{label:m("homeTab"),route:"/",renderButton:b("tabBarHome"),renderContent:()=>o.default.createElement(oo,null),padding:0},g?null:{label:m("collectiblesTab"),route:"/collectibles",renderButton:b("tabBarCollectibles"),renderContent:()=>o.default.createElement(ro,null)},p?null:{label:m("swapTab"),route:"/swap",renderButton:b("tabBarSwapper"),renderContent:()=>o.default.createElement(no,null)},{label:m("activityTab"),route:"/notifications",renderButton:b("tabBarActivity"),renderContent:()=>o.default.createElement(io,null)},f?null:{label:m("exploreTab"),route:"/explore",renderButton:b("tabBarExplore"),renderContent:()=>o.default.createElement(ao,null),padding:0}].filter(A=>A!==null),[g,f,p,m,b]);return o.default.createElement(o.Suspense,null,o.default.createElement(wt,{expired:d?.expired??!1}),o.default.createElement(Ht,{items:S}))};ke();ae.init({provider:vt});_e();Be(new Ce);Pe((e,t)=>we(e,t,_));Ae(Te);var co=()=>{let{isSidebarOpen:e}=Xe();(0,n.useEffect)(()=>{_.capture("popupOpen")},[]);let t=(0,n.useCallback)(()=>{Se({url:"onboarding.html"}),self.close()},[]);return n.default.createElement(n.default.Fragment,null,n.default.createElement($e,{future:{v7_startTransition:!0}},n.default.createElement(Qe,{theme:it},n.default.createElement(Ie,null,n.default.createElement(xt,{backgroundColor:"#222222"}),n.default.createElement(Re,null,n.default.createElement(et,{withBorder:!0},n.default.createElement(yt,null,n.default.createElement(Oe,null,n.default.createElement(me,{analytics:_},n.default.createElement(Mt,null,n.default.createElement(Ee,null,n.default.createElement(de,{authRepository:U},n.default.createElement(pe,{userRepository:mt,claimUsernameSigner:dt},n.default.createElement(je,{seedlessRepository:At},n.default.createElement(ct,{openOnboarding:t},n.default.createElement(ht,null,n.default.createElement(lt,null,n.default.createElement(pt,null,n.default.createElement(ut,null,n.default.createElement(Ot,null))))))),e&&n.default.createElement(Ke,null,n.default.createElement(Bt,null)))))),n.default.createElement("div",{id:W}),n.default.createElement(gt,null))))))))))},uo=document.getElementById("root"),fo=(0,Vt.createRoot)(uo);fo.render(n.default.createElement(co,null));
//# sourceMappingURL=Popup.js.map
