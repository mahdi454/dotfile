import{a as Ee}from"./chunk-AQX4M3AB.js";import{La as Ie,M,Ma as ke,oa as ve,w as Ce}from"./chunk-FADT747G.js";import{a as be}from"./chunk-KS7RCTZG.js";import{a as T}from"./chunk-QEXGR5WT.js";import{h as fe}from"./chunk-TSP4CJ7O.js";import{a as Se}from"./chunk-ERPPDNZG.js";import{a as c,b as S,c as he,d as ge,e as h}from"./chunk-AWKYXRT4.js";import{a as L,c as xe}from"./chunk-OKP6DFCI.js";import{c as ye,o as k}from"./chunk-WIQ4WVKX.js";import{B as me,C as ue}from"./chunk-CZNVQ2ZN.js";import{d as pe}from"./chunk-BCLUZY4R.js";import{mc as j}from"./chunk-LVTCV2WT.js";import{Td as de,Va as z,jd as ce}from"./chunk-6ZVJZYTQ.js";import{m as le}from"./chunk-56SJOU6P.js";import{N as ne,S as ae,ha as se,w as ie}from"./chunk-CBSQD5B4.js";import{a as W}from"./chunk-7X4NV6OJ.js";import{f as V,h as g,n as y}from"./chunk-3KENBVE7.js";g();y();g();y();g();y();var N=class{constructor(e){this.onExploreTabClickedByUser=e=>{this.#e.capture("onExploreTabClickedByUser",{data:{explore:e}})};this.onExploreTabTitlesDragged=()=>{this.#e.capture("onExploreTabTitlesDragged")};this.onExploreFilterChangedByUser=e=>{this.#e.capture("onExploreFilterChangedByUser",{data:{explore:e}})};this.onExploreListShownToUser=e=>{this.#e.capture("onExploreListShownToUser",{data:{explore:e}})};this.onExploreCarouselShownToUser=e=>{this.#e.capture("onExploreCarouselShownToUser",{data:{explore:e}})};this.onExploreListItemClickedByUser=e=>{let{context:r,...i}=e;this.#e.capture("onExploreListItemClickedByUser",{data:{explore:{context:r||"explore",...i}}})};this.onExploreCarouselItemClickedByUser=e=>{this.#e.capture("onExploreCarouselItemClickedByUser",{data:{explore:e}})};this.onExploreLearnItemClickedByUser=e=>{this.#e.capture("onExploreLearnItemClickedByUser",{data:{explore:e}})};this.onExploreCarouselDragged=e=>{this.#e.capture("onExploreCarouselDragged",{data:{explore:e}})};this.searchedByUser=e=>{this.#e.capture("searchedByUser",{data:{search:e}})};this.searchItemClickedByUser=e=>{this.#e.capture("searchItemClickedByUser",{data:{search:e}})};this.onExploreSectionClickedByUser=e=>{this.#e.capture("onExploreSectionClickedByUser",{data:{explore:e}})};this.onExploreShortcutClickedByUser=e=>{this.#e.capture("onExploreShortcutClickedByUser",{data:{explore:e}})};this.#e=e}#e};var q=new N(pe);g();y();var o=V(W());g();y();var a=V(W());g();y();var b=V(W());var Te=t=>{if(typeof t=="number")return t;switch(t??"small"){case"normal":return 48;case"small":return 32;case"xsmall":return 24;case"xxsmall":return 16}},qe=t=>{switch(t){case"square":return 6;case"circle":default:return 0}},we=k(be)`
  border-radius: ${t=>t.borderradius}px;
  width: 100%;
  height: 100%;
`,Xe=k.div`
  width: ${t=>t.width}px;
  height: ${t=>t.height}px;
  align-items: center;
  justify-content: center;
  background-color: ${t=>ae(t.color,t.alpha??.1)};
`,F=({src:t,fallback:e,alt:r,size:i="normal",shape:s="circle",style:p,onDragStart:m})=>{let l=e??b.default.createElement(_e,null,"?"),u=Te(i),f=Te(i),d=qe(s);return s==="circle"?b.default.createElement(Se,{color:"#222222",diameter:u,style:p},b.default.createElement(we,{src:t,fallback:l,alt:r||void 0,width:u,height:f,borderradius:d,onDragStart:m,loader:b.default.createElement(T,{borderRadius:`${d}px`,width:`${u}px`,height:`${f}px`})})):b.default.createElement(Xe,{color:"#222222",width:u,height:f,style:p},b.default.createElement(we,{src:t,fallback:l,alt:r||"",width:u,height:f,borderradius:d,onDragStart:m,loader:b.default.createElement(T,{borderRadius:`${d}px`,width:`${u}px`,height:`${f}px`})}))},_e=k.div`
  font-size: 22px;
  line-height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
`;var Ge=({item:t,index:e,onClick:r})=>{let i=t.type==="token"?t.data.data.symbol:t.data.name,s=(0,a.useCallback)(l=>{l.preventDefault()},[]),p=t.type==="token"?a.default.createElement(M,{image:{type:"fungible",src:t.data.data.logoUri,fallback:t.data.data.symbol??""},tokenType:t.data.type,chainMeta:t.data.data.chain,size:36}):a.default.createElement(F,{src:t.data.imageUrl,size:36,shape:"square",onDragStart:s}),m=(0,a.useCallback)(()=>{r(e,t)},[e,r,t]);return a.default.createElement("div",{className:H.buttonContainer},a.default.createElement("div",{className:H.button,onClick:m},p,a.default.createElement(h,{className:H.text,color:"white",children:i??""})))},Le=({items:t,onClick:e})=>{let r=xe(0),i=(0,a.useRef)(null),[s,p]=(0,a.useState)(0),m=(0,a.useMemo)(()=>{let l=self.innerWidth-s;return Math.min(0,l)},[s]);return(0,a.useEffect)(()=>{i.current&&p(i.current.scrollWidth)},[t]),a.default.createElement(ge,{overflow:"hidden"},a.default.createElement(L.div,{ref:i},a.default.createElement(L.div,{className:H.scrollView,style:{x:r},drag:"x",dragConstraints:{left:m,right:0}},t.map((l,u)=>a.default.createElement(Ge,{key:u,item:l,index:u,onClick:e})))))},H={scrollView:c({paddingTop:8,display:"flex",flexDirection:"row",paddingLeft:8}),buttonContainer:c({paddingRight:10}),button:c({display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:{base:"bgRow",hover:"bgButton"},cursor:"pointer",borderRadius:12,paddingX:6,paddingY:6,height:48}),text:c({font:"body",color:"white",paddingLeft:6,whiteSpace:"nowrap"})};var Je=k.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: solid 1px;
  width: 100%;
  padding: 10px 0;
  padding-right: 16px;
  border-color: ${t=>t.isLast?S.colors.legacy.bgWallet:S.colors.legacy.borderSecondary};
`,x={searchResultsContainer:c({marginTop:16,width:"100%"}),searchResultsHeaderContainer:c({paddingX:16,paddingY:4,display:"flex",alignItems:"center",justifyContent:"space-between"}),searchResult:c({display:"flex",alignItems:"center",paddingLeft:16,gap:16,height:56,maxHeight:56,cursor:"pointer"}),searchResultTextContainer:c({display:"flex",flexDirection:"column"}),hover:c({cursor:"pointer"}),picturePlaceholder:c({borderRadius:6,height:32,width:32}),noResultsContainer:c({position:"absolute",top:64,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:56}),tokenSecondaryContainer:c({display:"flex",gap:4,alignItems:"center"}),dotContainer:c({display:"flex",justifyContent:"center",alignItems:"center",width:8}),dot:c({backgroundColor:"textSecondary",width:4,height:4,borderRadius:"circle"}),secondaryAction:c({display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:10,padding:6})},oo=({searchedDapps:t,tokens:e,priceMap:r,isPriceMapLoading:i,showMoreDapps:s,setShowMoreDapps:p,renderShowMoreDappsButton:m,showMoreTokens:l,setShowMoreTokens:u,renderShowMoreTokensButton:f,entryPoint:d,recentlyViewedSearchItems:C=[],searchQuery:A})=>{let{t:v}=le(),{pushDetailView:D}=fe(),_=ve(),{handleHideModalVisibility:w}=ke(),B=Ee(n=>n.setNotifyHomeFungiblePush),G=d==="home",U=ye(),J=ce(),{mutate:I}=me(J),{mutate:Q}=ue(J),{data:De}=de(),K=De?.isReadOnly,R=(0,o.useMemo)(()=>t.map((n,E)=>({type:"generic",key:n.id,"data-testid":`search-result-dapp-${n.name}`,image:o.default.createElement(F,{src:n.imageUrl,size:"small",shape:"square"}),textMain:o.default.createElement(h,{children:n.name,font:"body"}),textSecondary:o.default.createElement(h,{children:n.category||"",font:"caption",color:"textSecondary"}),onClick:async()=>{Pe({addRecentlySearchedItem:I,dapp:n,position:E+1,entryPoint:d})}})),[t,I,d]),Y=(0,o.useMemo)(()=>e.map((n,E)=>{let $=z(j(n)),ee=r[$],te=ee?.price,oe=te!==void 0,O=ee?.usd_24h_change,re=O!==void 0,ze=oe||re;return{type:"generic",key:$,"data-testid":`search-result-token-${n.data.symbol}`,image:o.default.createElement(M,{image:{type:"fungible",src:n.data.logoUri,fallback:n.data.symbol||n.data.tokenAddress},tokenType:n.type,chainMeta:n.data.chain,size:32}),textMain:o.default.createElement(h,{children:ie(n.data.name||"",25),font:"body"}),textSecondary:o.default.createElement("div",{className:x.tokenSecondaryContainer},o.default.createElement(h,{children:n.data.symbol||"",font:"caption",color:"textSecondary"}),i?o.default.createElement(o.default.Fragment,null,o.default.createElement(T,{width:"36px",height:"14px",borderRadius:"8px"}),o.default.createElement(T,{width:"48px",height:"14px",borderRadius:"8px"})):o.default.createElement(o.default.Fragment,null,ze?o.default.createElement("div",{className:x.dotContainer},o.default.createElement("div",{className:x.dot})):null,oe?o.default.createElement(Ce,{value:te,font:"caption",color:"textSecondary"}):null,re?o.default.createElement(h,{children:`${se(O,{includePlusPrefix:!0})}%`,font:"caption",color:O>=0?"accentSuccess":"accentAlert"}):null)),secondaryAction:K?void 0:{icon:o.default.createElement(he.Swap,null),onClick:je=>{je.stopPropagation(),_({buyFungibleCaip19:$}),d==="home"&&setTimeout(()=>{w("searchPage")},50)}},onClick:async()=>{Ae({addRecentlySearchedItem:I,token:n,position:R.length+E+1,entryPoint:d,navigate:U,setNotifyHomeFungiblePush:B,handleHideModalVisibility:w,pushDetailView:D})}}}),[e,r,i,K,d,_,w,I,R.length,U,B,D]),Be=(0,o.useMemo)(()=>({type:"recentSearchItems",key:"recentSearchItems",items:C,onClick:async(n,E)=>{E.type==="token"?Ae({addRecentlySearchedItem:I,token:E.data,position:n,entryPoint:d,navigate:U,setNotifyHomeFungiblePush:B,handleHideModalVisibility:w,pushDetailView:D}):Pe({addRecentlySearchedItem:I,dapp:E.data,position:n,entryPoint:d})}}),[I,w,d,U,D,C,B]),Ue=C.length?v("commandClear"):void 0,Re=(0,o.useCallback)(()=>{Q()},[Q]),Me=f?v(s?"exploreShowLess":"exploreShowMore"):void 0,Fe=(0,o.useCallback)(()=>{u(!l)},[u,l]),He=m?v(s?"exploreShowLess":"exploreShowMore"):void 0,$e=(0,o.useCallback)(()=>{p(!s)},[p,s]);if(!t.length&&!e.length)return o.default.createElement("div",{className:x.noResultsContainer,"data-testid":"explore-search-results-nodata"},o.default.createElement(h,{children:v("dappBrowserSearchNoAppsTokens"),font:"bodyMedium",color:"textSecondary"}));let Oe=A==null||A.length===0,Ve=C.length&&Oe?o.default.createElement(X,{testId:"explore-search-results",title:o.default.createElement(h,{children:v("dAppBrowserRecents"),font:"title1Semibold"}),items:[Be],accessoryText:Ue,accessoryOnPress:Re}):null,Z=R.length?o.default.createElement(X,{testId:"explore-search-results",title:o.default.createElement(h,{children:v("exploreSites"),font:"title1Semibold"}),items:R,accessoryText:He,accessoryOnPress:$e}):null,We=Y.length?o.default.createElement(X,{testId:"explore-search-results",title:o.default.createElement(h,{children:v("exploreTokens"),font:"title1Semibold"}),items:Y,accessoryText:Me,accessoryOnPress:Fe}):null;return o.default.createElement(o.default.Fragment,null,Ve,G?void 0:Z,We,G?Z:void 0)},Ne=({hoverColor:t,baseColor:e,...r})=>o.default.createElement(L.div,{...r,whileHover:{background:t},style:{background:e},transition:{ease:[.5,1,.89,1],duration:.1}}),X=({items:t,title:e,testId:r,accessoryText:i,accessoryOnPress:s})=>o.default.createElement("div",{className:x.searchResultsContainer,"data-testid":r},o.default.createElement("div",{className:x.searchResultsHeaderContainer},e,i?o.default.createElement(h,{className:x.hover,children:i,font:"caption",color:"textSecondary",onPress:s}):null),t.map((p,m)=>o.default.createElement(Qe,{...p,isLast:m===t.length-1}))),Qe=t=>{let[e,r]=(0,o.useState)(!1),[i,s]=(0,o.useState)(!1);if(t.type==="recentSearchItems")return o.default.createElement(Le,{items:t.items,onClick:t.onClick});let{onClick:m,image:l,isLast:u,textMain:f,textSecondary:d,secondaryAction:C,"data-testid":A}=t;return o.default.createElement(Ne,{className:x.searchResult,onClick:m,"data-testid":A,baseColor:S.colors.legacy.bgWallet,hoverColor:i?S.colors.legacy.bgWallet:S.colors.legacy.bgButton,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},o.default.createElement("div",null,l),o.default.createElement(Je,{isLast:u},o.default.createElement("div",{className:x.searchResultTextContainer},f,d),C?o.default.createElement(Ne,{className:x.secondaryAction,onClick:C.onClick,baseColor:e?S.colors.legacy.borderPrimary:S.colors.legacy.bgButton,hoverColor:S.colors.legacy.borderPrimary,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},C.icon):null))};function Pe({addRecentlySearchedItem:t,dapp:e,position:r,entryPoint:i}){t({type:"dapp",data:e}),self.open(ne(e.domain).origin),q.searchItemClickedByUser({itemDetails:{position:r,title:e.name,id:e.id,type:"site",uiContext:i}})}function Ae({addRecentlySearchedItem:t,token:e,position:r,entryPoint:i,navigate:s,setNotifyHomeFungiblePush:p,pushDetailView:m}){let l=z(j(e));q.searchItemClickedByUser({itemDetails:{position:r,title:e.data.name||e.data.symbol||l,id:l,type:"token",uiContext:i}}),i==="home"?(s("/"),setTimeout(()=>{p({caip19:l,title:e.data.name??void 0,entryPoint:"homeSearch"})},25),setTimeout(()=>{t({type:"token",data:e})},75)):(m(o.default.createElement(Ie,{caip19:l,title:e.data.name??void 0,entryPoint:"exploreSearch"})),t({type:"token",data:e}))}export{q as a,oo as b};
//# sourceMappingURL=chunk-ZCIH3CJ5.js.map
