import{J as g,Ma as p}from"./chunk-FADT747G.js";import{j as b}from"./chunk-TSP4CJ7O.js";import{h as y,i as A}from"./chunk-B745CFYO.js";import{k as w}from"./chunk-OKP6DFCI.js";import{Z as h,d as P,ea as c}from"./chunk-CZNVQ2ZN.js";import{a as f}from"./chunk-BCLUZY4R.js";import{rc as d}from"./chunk-6ZVJZYTQ.js";import{m as S}from"./chunk-56SJOU6P.js";import{x as u}from"./chunk-CBSQD5B4.js";import{a as x}from"./chunk-7X4NV6OJ.js";import{f as F,h as l,n as m}from"./chunk-3KENBVE7.js";l();m();var i=F(x());l();m();var I="_19n0krs0";var D=u({days:3}),M=new f,Ai=()=>{let t=d(),{isOpen:s}=b(),{data:o,isSuccess:e}=h("AdditionalPermissions"),{handleShowModalVisibility:n}=p(),a=e&&!o&&!s;return(0,i.useEffect)(()=>{a&&(n("additionalPermissions"),t.capture("allSitesPermissionsSeen",{data:{uiContext:"interstitial"}}))},[n,a,t]),null};function hi(){let[t,s]=(0,i.useState)(null),[o,e]=(0,i.useState)(!1),{data:n}=c("AdditionalPermissions");return(0,i.useEffect)(()=>{(async()=>{let r=await P(M);(!r||r&&Date.now()-r>D)&&e(!0)})()},[]),(0,i.useEffect)(()=>{y().then(r=>{s(r)})},[t]),{shouldShowAdditionalPermissionsInterstitial:(0,i.useMemo)(()=>t===null?!1:!t,[t])&&!n&&o}}var T=()=>{let{t}=S(),s=d(),{handleHideModalVisibility:o}=p(),{mutate:e}=c("AdditionalPermissions"),n=(0,i.useCallback)(()=>{s.capture("allSitesPermissions",{data:{uiContext:"interstitial",oldValue:!1,newValue:!1,choice:"commandDontAllow"}}),e(),o("additionalPermissions")},[o,e,s]),a=(0,i.useCallback)(async()=>{let C=await A();s.capture("allSitesPermissions",{data:{uiContext:"interstitial",oldValue:!1,newValue:C,choice:"commandAllow"}}),e(),o("additionalPermissions")},[o,e,s]),r={icon:i.default.createElement("img",{className:I,src:"/images/additional-permissions/interstitial.webp"}),bodyTitle:t("interstitialAdditionalPermissionsTitle"),bodyDescription:t("interstitialAdditionalPermissionsSubtitle"),FooterComponent:()=>i.default.createElement(w,{primaryText:t("commandAllow"),onPrimaryClicked:a,secondaryText:t("commandDontAllow"),onSecondaryClicked:n}),onDismiss:n};return i.default.createElement(g,{...r})},wi=T;export{Ai as a,hi as b,T as c,wi as d};
//# sourceMappingURL=chunk-U557C5SO.js.map
