import{a as Te}from"./chunk-BJ6QEPA7.js";import{a as ke}from"./chunk-YM6B3STJ.js";import{e as Ae}from"./chunk-7ZFVAV4G.js";import"./chunk-2WECCVZD.js";import{M as Ie,Ma as G}from"./chunk-FADT747G.js";import"./chunk-LTPMKRAS.js";import"./chunk-3JF2QXJE.js";import"./chunk-OLW3L37F.js";import"./chunk-CCUXU2GU.js";import"./chunk-PTZJLI7L.js";import"./chunk-QHN65AEO.js";import"./chunk-KS7RCTZG.js";import{a as Q}from"./chunk-QEXGR5WT.js";import"./chunk-L4RFQ6RY.js";import"./chunk-SHAEZV7V.js";import"./chunk-S24UABH5.js";import"./chunk-ZE6HXUUA.js";import"./chunk-X3ESGVCB.js";import"./chunk-5UZO3TVF.js";import{h as N}from"./chunk-DERIAD33.js";import"./chunk-EGXLQXDH.js";import"./chunk-TSP4CJ7O.js";import{a as q}from"./chunk-CCQRCL2K.js";import"./chunk-ERPPDNZG.js";import"./chunk-INIFY56O.js";import"./chunk-IVMV7P4T.js";import"./chunk-T6LDDI5K.js";import"./chunk-HPOS2V3B.js";import"./chunk-XYJX6G2K.js";import"./chunk-J6Y2BR3C.js";import"./chunk-B745CFYO.js";import{L as E,M as ve,a as i,b as be,c as xe,d as he,e as P,q as z,u as H,v as ye}from"./chunk-AWKYXRT4.js";import"./chunk-H3FFS4GT.js";import"./chunk-GTBW7SFI.js";import"./chunk-TIFZOZS6.js";import"./chunk-PTZMRZUV.js";import"./chunk-VQVTLSDS.js";import{j as Pe}from"./chunk-OKP6DFCI.js";import{j as Ce,o as b,rb as j}from"./chunk-WIQ4WVKX.js";import{Ca as ue,Ra as fe,Va as ge,Wa as we,cb as Se,ia as se,ja as pe,qa as le,va as ce,ya as me,za as de}from"./chunk-CZNVQ2ZN.js";import"./chunk-GBDVRVXI.js";import"./chunk-UCBZOSRF.js";import"./chunk-NV3TFZ4C.js";import"./chunk-B226KCTA.js";import"./chunk-GJU3JL4E.js";import"./chunk-QTIYKADD.js";import"./chunk-XFLX2RRO.js";import{d as ie}from"./chunk-BCLUZY4R.js";import"./chunk-GQEPK4C4.js";import"./chunk-BTKBODVJ.js";import"./chunk-PFT3L2T6.js";import"./chunk-LVTCV2WT.js";import"./chunk-WFPABEAU.js";import"./chunk-775LAOS6.js";import"./chunk-LDMZMUWY.js";import"./chunk-X2SBUKU4.js";import"./chunk-OXFZHPMY.js";import"./chunk-HLHJEFRF.js";import"./chunk-S37W3WO2.js";import{Na as ne,_d as ae}from"./chunk-6ZVJZYTQ.js";import"./chunk-DFKC7QAI.js";import{m as w}from"./chunk-56SJOU6P.js";import{S as Z}from"./chunk-CBSQD5B4.js";import"./chunk-N7UFQNLW.js";import"./chunk-VNNHZNYI.js";import"./chunk-4P36KWOF.js";import{a as C}from"./chunk-7X4NV6OJ.js";import"./chunk-UNDMYLJW.js";import{f as v,h as t,n}from"./chunk-3KENBVE7.js";t();n();var m=v(C());t();n();var S=v(C());t();n();var l=v(C());t();n();var Ge=v(C());var O=b.div`
  display: flex;
  align-items: center;
  height: 36px;
  input {
    font-size: ${e=>e.fontSize??34}px;
    line-height: 1;
    font-weight: 600;
    padding: 0;
    background: none;
  }
`,sr=b.div`
  width: 100%;
  margin-top: 11px;
  margin-bottom: 10px;
`;var pr=b.div`
  color: #ab9ff2;
  font-size: 14px;
  font-weight: 400;
  white-space: nowrap;
  cursor: pointer;
  margin-left: 5px;
  border-radius: 8px;
  padding: 8px;
  &:hover {
    background-color: #333333;
  }
`;t();n();var x=v(C()),V={container:i({display:"flex",flexDirection:"column",gap:0,backgroundColor:"bgRow",borderRadius:"table",padding:20}),tokenContainer:i({display:"flex",flexDirection:"row",alignItems:"center",minHeight:48}),accessoryContainer:i({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),actionsContainer:i({display:"flex",flexDirection:"row",gap:0,backgroundColor:"accentPrimary"}),spacer:i({flex:1}),selector:i({display:"flex",gap:8,flexDirection:"row",backgroundColor:{base:"gray",hover:"borderPrimary"},paddingY:4,paddingLeft:4,paddingRight:8,alignItems:"center",borderRadius:"full",cursor:"pointer"})},W=({input:e,isLoading:r,onSelectorPress:o,perspective:d,selectorIcon:s,selectorLabel:a,accessories:c})=>{let{t:p}=w(),k=p(d==="buy"?"swapAssetCardBuyTitle":"swapAssetCardSellTitle"),g=(0,x.useMemo)(()=>{if(c)return x.default.createElement("div",{className:V.accessoryContainer},c)},[c]);return x.default.createElement("div",{className:V.container},x.default.createElement(P,{font:"labelSemibold",color:"textTertiary",children:k}),x.default.createElement("div",{className:V.tokenContainer},e,x.default.createElement("div",{className:V.spacer}),r?x.default.createElement(E,{width:112,height:24}):x.default.createElement("div",{onClick:o,className:V.selector,"data-testid":`${d}-token-button`},s,x.default.createElement(P,{font:"captionSemibold",color:"textPrimary",children:a}),x.default.createElement(xe.ChevronDown,{size:14}))),g)};t();n();var Ne=32,Y="_4ag7710",Fe="_4ag7712 _51gaznqk _51gaznvd _51gaznrp";var U={filters:i({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:i({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:i({marginRight:2}),accessoryContainer:i({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:i({flex:1}),pointer:i({cursor:"pointer"})},Le=({asset:e,perspective:r,onInputChange:o,onFungibleTap:d,onFilterTap:s,switchCurrencyDenomination:a,onBalanceTap:c})=>{let{amount:p,balance:k,fungible:g,isAmountEditable:L,isAmountLoading:y,isSecondaryAmountLoading:u,isWarning:A,secondaryAmount:B,amountPrefix:D,selectedFilter:K,filters:R,supportsCurrencyDenominationSwitching:ee}=e,{t:re}=w(),$e=l.default.createElement(Ie,{image:{type:"fungible",src:g.data?.logoUri,fallback:g.data?.symbol||g.data?.tokenAddress},size:32,tokenType:g.type,chainMeta:g.data?.chain}),He=T=>T.length>16?16:T.length>14?18:T.length>12?20:22,Qe=(0,l.useMemo)(()=>{let T=He(p);return y?l.default.createElement(E,{width:100,height:18,borderRadius:12}):l.default.createElement(O,{hasWarning:A,fontSize:T},l.default.createElement(P,{font:"heading3",children:D,className:U.currencyPrefix}),l.default.createElement(N,{name:"amount",border:"0",placeholder:"0",warning:A,value:p,decimalLimit:g.data?.decimals,disabled:!L,onUserInput:o}))},[y,A,D,p,g.data?.decimals,L,o]),oe=(0,l.useMemo)(()=>u?l.default.createElement(E,{width:40,height:18,borderRadius:12}):B?l.default.createElement(P,{font:"caption",color:"textSecondary",children:B}):null,[u,B]),te=(0,l.useMemo)(()=>{let T=M=>{switch(M){case .25:return"25%";case .5:return"50%";case 1:return re("swapAssetCardMaxButton")}};return R.map(M=>l.default.createElement(H,{key:M,active:M===K,children:T(M),onChange:()=>s(M),className:Y}))},[R,re,K,s]),qe=(0,l.useMemo)(()=>l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:U.secondaryContainer,onClick:a},oe,ee?l.default.createElement(z,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:{base:"gray",hover:"borderPrimary"},color:"textSecondary",className:U.pointer}):null),l.default.createElement("div",{className:U.spacer}),l.default.createElement(P,{font:"caption",color:{base:"textSecondary",hover:c?"textPrimary":void 0},children:k,onPress:c}),l.default.createElement("div",{className:U.filters},te)),[k,te,c,oe,ee,a]);return l.default.createElement(W,{perspective:r,input:Qe,selectorIcon:$e,selectorLabel:g.data?.symbol??"",onSelectorPress:d,accessories:qe})};t();n();var _=v(C());var Be=({onSelectorTap:e,perspective:r})=>{let{t:o}=w();return _.default.createElement(W,{perspective:r,input:_.default.createElement(O,{hasWarning:!1,fontSize:32},_.default.createElement(N,{name:"amount",border:"0",placeholder:"0",warning:!1,value:"",decimalLimit:0,disabled:!0,onUserInput:()=>{}})),selectorIcon:_.default.createElement(z,{icon:"Plus",size:28,shape:"circle",color:"textPrimary",backgroundColor:"bgArea"}),selectorLabel:o("commandSelect"),onSelectorPress:e,accessories:_.default.createElement(P,{font:"caption",color:"textSecondary",children:"$0"})})};t();n();var f=v(C());var X={filters:i({display:"flex",flexDirection:"row",alignItems:"center",gap:4,marginLeft:2}),secondaryContainer:i({display:"flex",flexDirection:"row",alignItems:"center",gap:6}),currencyPrefix:i({marginRight:2}),accessoryContainer:i({alignItems:"center",display:"flex",flexDirection:"row",gap:6,marginTop:6}),spacer:i({flex:1})},Ye=[.5,1],De=({perspective:e})=>{let{t:r}=w(),o=(0,f.useMemo)(()=>{let c=Number(be.typography.font.heading3.fontSize.replace("px",""));return f.default.createElement(O,{fontSize:c},f.default.createElement(N,{name:"amount",border:"0",placeholder:"0",warning:!1,value:e==="sell"?"":"0",onUserInput:()=>{}}))},[e]),d=(0,f.useMemo)(()=>f.default.createElement(P,{font:"caption",color:"textSecondary",children:"$0"}),[]),s=(0,f.useMemo)(()=>{let c=p=>{switch(p){case .25:return"25%";case .5:return"50%";case 1:return r("swapAssetCardMaxButton")}};return Ye.map(p=>f.default.createElement(H,{active:!1,children:c(p),onChange:()=>{},className:Y}))},[r]),a=(0,f.useMemo)(()=>f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:X.secondaryContainer},d,e==="sell"?f.default.createElement(z,{icon:"SwapVertical",size:20,shape:"circle",backgroundColor:"gray",color:"textSecondary"}):null),f.default.createElement("div",{className:X.spacer}),f.default.createElement(ve,{font:"caption",width:64}),e==="sell"?f.default.createElement("div",{className:X.filters},s):null),[s,d,e]);return f.default.createElement(W,{perspective:e,input:o,isLoading:!0,selectorIcon:null,selectorLabel:"",onSelectorPress:()=>{},accessories:a})};var Me={container:i({display:"flex",flexDirection:"column",flex:1}),assets:i({gap:12,display:"flex",flexDirection:"column"})},ze=({onSelectAsset:e,isLoadingInitialAssets:r})=>{let{buy:o,sell:d,switchPerspective:s,setAmount:a,switchCurrencyDenomination:c,setFilter:p}=de(),{t:k}=w(),g=(0,S.useCallback)(async(y,u)=>{await ie.capture("swapperSwapDefaultQuoteSelected",{data:{quotePercentageValue:y}}),p(y,u)},[p]),L=(0,S.useMemo)(()=>[{perspective:"sell",asset:d},{perspective:"buy",asset:o}].map(({asset:y,perspective:u})=>{if(!y)return S.default.createElement(Be,{key:u+"select",perspective:u,onSelectorTap:()=>e(u)});if(r)return S.default.createElement(De,{key:u+"loading",perspective:u});let A=y.filters.length>0?()=>p(1,u):void 0,B=S.default.createElement(Le,{key:u,asset:y,perspective:u,switchCurrencyDenomination:c,onFungibleTap:()=>e(u),onInputChange:D=>{a(u,D)},onFilterTap:D=>g(D,u),onBalanceTap:A});return u==="buy"?S.default.createElement(he,{position:"relative",key:u+"swap-button"},B,S.default.createElement("div",{className:Fe,style:{pointerEvents:"none"}},S.default.createElement(ye,{label:k("swapperSwitchTokens"),size:Ne,shape:"circle",onClick:s,backgroundColor:{base:"accentPrimary",hover:"accentPrimaryLight"},icon:"SwapVertical"}))):B}),[d,o,r,c,g,e,a,p,s,k]);return S.default.createElement("div",{className:Me.container},S.default.createElement("div",{className:Me.assets},L))};t();n();var $=v(C());t();n();var Oe=v(C());var Ze={autoSlippageOptIn:"autoSlippageOptIn"},We=()=>{let{handleShowModalVisibility:e}=G();return(0,Oe.useCallback)(r=>{let o=Ze[r];if(!o)throw new Error(`Swap review interceptor modal not found or configured for ${r}.`);e(o)},[e])};var _e=()=>{let{goToInsufficientBalance:e,goToSwapReview:r,goToSwapTermsOfService:o,goToConfirmation:d}=Te(),{executeInterceptors:s}=we(),a=We(),c=(0,$.useCallback)(()=>{s(a)==="continue"&&r()},[s,r,a]),p=(0,$.useCallback)(()=>{s(a)==="continue"&&d()},[s,a,d]),{disabled:k,title:g,type:L,onClick:y}=fe({goToInsufficientBalance:e,goToSwapReview:c,goToSwapTermsOfService:o,goToConfirmation:p});function u(A){return A==="primary"?"primary":A==="alert"?"warning":"default"}return $.default.createElement(Pe,{type:"submit",theme:u(L),disabled:k,onClick:y},g)};t();n();var F=v(C());t();n();var h=v(C());var je=b.div`
  overflow-y: "scroll";
  padding-top: 16px;
`,Xe=b.fieldset.attrs({disabled:!0})`
  pointer-events: none;
  user-select: none;
`,Je=b.div`
  position: absolute;
  z-index: 1;
  top: 0;
  height: 100vh;
  width: 100%;
  background-color: ${Z("#222222",.75)};
`,Ee=b.div`
  background-color: ${Z("#E5A221",.7)};
  padding: 12px 15px;
  position: absolute;
  /* TODO: change 15px to 16px and create a screen padding constant like on mobile */
  top: -15px;
  left: -15px;
  right: 15px;
  width: calc(100% + 2 * 15px);
`,Ve=b(j).attrs({size:14,lineHeight:19,weight:500,color:"#fff",textAlign:"left"})``,J=({message:e,swapDisabled:r=!0,children:o})=>r?h.default.createElement(h.default.Fragment,null,h.default.createElement(Je,{"data-testid":"disable-overlay"},h.default.createElement(Ee,null,h.default.createElement(Ve,null,e))),h.default.createElement(Xe,{"data-testid":"disable-wrapper"},o)):h.default.createElement(je,null,h.default.createElement(Ee,null,h.default.createElement(Ve,null,e)),h.default.createElement(h.default.Fragment,null,o));var Ke=b.div`
  display: flex;
  flex: 1;
  padding-bottom: 16px;
  margin-bottom: -16px; // fix extension padding issue when scrollable or not
`,Ue=F.default.memo(({children:e})=>{let r=ae(),o=r.every(p=>ne.isMainnetNetworkID(p)),s=pe().some(p=>r.includes(p)),{t:a}=w(),c=(0,F.useMemo)(()=>({availableOnlyOnMainnet:a("swapAvailableOnMainnet"),notAvailableOnSelectedNetwork:a("swapNotAvailableOnSelectedNetwork")}),[a]);return o?s?F.default.createElement(Ke,null,e):F.default.createElement(J,{message:c.notAvailableOnSelectedNetwork,swapDisabled:!0},e):F.default.createElement(J,{message:c.availableOnlyOnMainnet,swapDisabled:!0},e)});var Re=()=>{let[e]=Ce(),r=e.get("sellFungible")??void 0,o=e.get("sellAmount")??void 0,d=e.get("buyFungible")??void 0,s=ue();me({skipInitialBuyFungible:!0}),le();let{isLoading:a}=ce({paramsSellFungible:r,paramsSellAmount:o,paramsBuyFungible:d});return(0,m.useLayoutEffect)(()=>s,[s]),{isLoadingInitialAssets:a}},er=({isLoadingInitialAssets:e})=>{let{quoteResponse:r,hasNoRoutes:o}=se(),{handleShowModalVisibility:d}=G(),s=(0,m.useCallback)(p=>{d(p==="sell"?"swapSellAssetSelect":"swapBuyAssetSelect")},[d]),a=Se({goToAssetSelect:s}),c=(0,m.useMemo)(()=>m.default.createElement(ze,{onSelectAsset:a,isLoadingInitialAssets:e}),[e,a]);return m.default.createElement(ge,null,m.default.createElement(Ue,null,m.default.createElement(q,{justify:"space-between",flex:1},m.default.createElement(q,{align:"normal"},c,r||o?m.default.createElement(ke,null):null),m.default.createElement(q,null,r?m.default.createElement(_e,null):null))))},rr=()=>{let{isLoadingInitialAssets:e}=Re();return e?m.default.createElement(m.default.Fragment,null,m.default.createElement(Q,{height:"120px",borderRadius:"8px 8px 0 0"}),m.default.createElement(Ae,{gap:1}),m.default.createElement(Q,{height:"120px",borderRadius:"0 0 8px 8px"})):m.default.createElement(er,{isLoadingInitialAssets:e})},gt=rr;export{gt as default};
//# sourceMappingURL=SwapTabPage-CVMP2GJ4.js.map
