{"version":3,"file":"mic_access.bundle.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://matebrowserextensions/./src/pages/mic_access/mic_access.js"],"sourcesContent":["/**\n * Created by chernikovalexey on 8/14/16.\n *\n * =========================\n * To the AMO Reviewer Team:\n *\n * This file is not even used in Firefox, because your browser\n * does not support speech recognition out of the box. Hence, this file is only\n * executed on Google Chrome.\n */\n\nwindow.addEventListener(\n  \"DOMContentLoaded\",\n  function () {\n    window.speechRecognition =\n      window.SpeechRecognition ||\n      window.mozSpeechRecognition ||\n      window.webkitSpeechRecognition ||\n      window.msSpeechRecognition;\n\n    const body_el = document.getElementsByTagName(\"body\")[0];\n    const head_el = document.getElementsByClassName(\"head\")[0];\n    const note_el = document.getElementsByClassName(\"note\")[0];\n    const button_el = document.getElementsByTagName(\"button\")[0];\n    const subnote_el = document.getElementsByClassName(\"subnote\")[0];\n\n    document.title = chrome.i18n.getMessage(\"MicAccess_PageTitle\");\n    head_el.innerHTML = chrome.i18n.getMessage(\"MicAccess_Title\");\n    note_el.innerHTML = chrome.i18n.getMessage(\"MicAccess_Note\");\n    button_el.innerHTML = chrome.i18n.getMessage(\"MicAccess_UnlockButton\");\n    subnote_el.innerHTML = chrome.i18n.getMessage(\n      \"MicAccess_HowToUnlock\",\n      chrome.runtime.getURL(\"/\")\n    );\n\n    const r = new window.speechRecognition();\n    r.lang = \"en-US\";\n    r.interimResults = true;\n    r.continuous = true;\n\n    r.onstart = function (e) {\n      r.stop();\n      window.close();\n    };\n\n    r.onerror = function (e) {\n      if (e.error === \"not-allowed\") {\n        body_el.style.marginTop = \"60px\";\n        button_el.style.display = \"inline-block\";\n        subnote_el.style.display = \"block\";\n\n        button_el.onclick = async function () {\n          await chrome.tabs.create({\n            url: \"chrome://settings/content/microphone\",\n          });\n        };\n      }\n    };\n\n    r.start();\n  },\n  false\n);\n"],"names":[],"sourceRoot":""}