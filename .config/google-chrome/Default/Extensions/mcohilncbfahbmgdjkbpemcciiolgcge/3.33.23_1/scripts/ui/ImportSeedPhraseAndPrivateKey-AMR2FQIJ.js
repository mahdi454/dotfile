import{a as ke,b as ve}from"./chunk-DLZS443R.js";import{b as Ht}from"./chunk-TITDIP2G.js";import{a as gt}from"./chunk-XSJCOFAP.js";import{a as Ft,b as Ne,c as xe}from"./chunk-BFEWC5TP.js";import{a as bt,b as dt}from"./chunk-GT3WJZQB.js";import{a as Lt}from"./chunk-SZ3YZWWX.js";import"./chunk-I4H4MPEY.js";import"./chunk-W34TCTDQ.js";import"./chunk-3RXI6HAM.js";import"./chunk-AXG7YOIX.js";import{a as Te}from"./chunk-MNMAC6TE.js";import"./chunk-7HZMPY3W.js";import"./chunk-QTEBOXIQ.js";import{a as ye}from"./chunk-72TVZY7V.js";import{a as _e,c as ue,g as de}from"./chunk-75OW6LUI.js";import"./chunk-JJIQEHOY.js";import{h as Ee,i as Ce,p as Ae,q as Ie}from"./chunk-5EKAQ7RI.js";import"./chunk-VCDGXBMA.js";import"./chunk-WTLSVELU.js";import"./chunk-4HHM4J4U.js";import"./chunk-CA4PB6NG.js";import"./chunk-SCXRHDUG.js";import"./chunk-5STCPPZU.js";import"./chunk-FLFVNMKM.js";import"./chunk-26PQCAXO.js";import{b as fe,c as he}from"./chunk-3REMR6BD.js";import"./chunk-GPU2UKRI.js";import"./chunk-UA4GAS73.js";import"./chunk-SUQW5NCT.js";import"./chunk-TUUPYEC6.js";import"./chunk-DQ2UEFEE.js";import{a as St}from"./chunk-ZUBNNPBM.js";import{e as we,f as ge}from"./chunk-2SHHGXPQ.js";import"./chunk-UK4SAM7E.js";import{a as R}from"./chunk-LXIBKSOK.js";import"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import{F as ce,Ra as pe,X as kt,a as It,fb as vt}from"./chunk-DUKP4BLI.js";import{b as Y}from"./chunk-S3O4LR55.js";import{q as P}from"./chunk-FZCNSMLW.js";import"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import{o as me}from"./chunk-KCWFMCND.js";import{A as ie,Ga as le,w as Nt}from"./chunk-3TDWET6C.js";import{ia as ae}from"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import"./chunk-VPGNJAK6.js";import{ta as Ct,ua as At,ya as se}from"./chunk-W6Q44ZHW.js";import{d as Et,f as re}from"./chunk-3HS6AHPS.js";import"./chunk-WSUAESF2.js";import"./chunk-O2FUKKO3.js";import"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import{a as oe,c as W}from"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import{Mc as ne,V as Wt,Ya as Ye,Za as Rt,ec as te,fc as Ze,ma as Qt,u as Jt,wb as Ue,wc as et,y as He}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import{H as it,M as ut,p as xt,q as zt,x as $t}from"./chunk-J3CEQI22.js";import{pa as Kt,r as _t}from"./chunk-VFHYER2K.js";import{L as nt,w as s,x as jt}from"./chunk-KJIO572I.js";import{b as Xt}from"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import{T as ee,c as Ge,ca as C}from"./chunk-KALFZBR5.js";import{a as Ve}from"./chunk-V55FEIYE.js";import{a as tt}from"./chunk-EAZTJZU7.js";import"./chunk-YTRW5WTJ.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-WPMHLM7C.js";import"./chunk-P7DU4NJA.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as k,m as l,o as m}from"./chunk-ZCHLW7CF.js";l();m();var V=k(tt()),Fe=k(Nt());nt();l();m();var y=k(tt()),Pt=k(Nt()),ht=k(me());Kt();nt();se();Ye();re();l();m();var O=k(tt()),Se=k(Nt()),at=k(Ve());nt();Ue();l();m();function Mt({visible:t,setVisible:o,confirm:f,chooseNetworkList:w,supportChainsList:_,setChooseNetWorkList:x}){let h=(0,Se.useSelector)(le),[d,b]=(0,O.useState)(!1),z=(0,O.useMemo)(()=>_.map(n=>n.chainName),[_]),F=(0,O.useMemo)(()=>_.filter(n=>!(bt.includes(n.chainName)||dt.includes(n.chainName))).map(n=>({...h.find(g=>g.baseChain===n.chainName),imported:n.imported})),[h,_]),L=(0,O.useMemo)(()=>xe.map(({chain:n,...I})=>z.includes(n)?{chain:n,config:I,allChains:h.filter(g=>n===Rt&&dt.includes(g.baseChain)?!0:g.baseChain===n),imported:_.find(g=>g.chainName===n)?.imported}:null),[h,_]);return t?O.default.createElement("div",{className:"chains-choose-network-modal__wrap"},O.default.createElement(St,{title:s("wallet_transfer_multichain_coin_maintitle_select_network"),className:"chains-choose-network-modal__navigator",onBack:()=>o(),closeable:!1}),O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__wrap"},O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__container"},L.map(n=>{if(!n)return null;let{chain:I,imported:g,allChains:N,config:D}=n,{titleKey:Z,remindKey:$,networkCountKey:J,importPrivateKeyConfig:{supportNetworksKey:E}}=D;return O.default.createElement(Ft,{imported:g,selected:w.includes(I),handleClick:()=>{g||x(I)}},O.default.createElement(Ne,{titleKey:Z,remindKey:$,networkCountKey:J,descriptionKey:E,chainsList:N,imported:g}))}),F.map(n=>O.default.createElement(Ft,{key:n.chainName,selected:w.includes(n.baseChain),handleClick:()=>{n.imported||x(n.baseChain)},...n}))),O.default.createElement("div",{className:"chains-choose-network-modal__confirm-button-wrap"},O.default.createElement(C,{block:!0,loading:d,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:async n=>{try{b(!0),n.preventDefault(),n.stopPropagation(),await f(),b(!1)}catch{b(!1)}},className:"chains-choose-network-modal__confirm-button"},s("wallet_set_password_btn_confirm"))))):null}Mt.propTypes={visible:at.default.bool.isRequired,setVisible:at.default.func.isRequired,confirm:at.default.func.isRequired,chooseNetworkList:at.default.array.isRequired,supportChainsList:at.default.array.isRequired,setChooseNetWorkList:at.default.func.isRequired};l();m();var ft={root:"_root_o5han_1",title:"_title_o5han_4",input:"_input_o5han_7",link:"_link_o5han_12",bulk:"_bulk_o5han_18"};var be=t=>{let{history:o}=t,f=(0,Pt.useDispatch)(),w=(0,Pt.useSelector)(ie),[_,x]=(0,y.useState)(!1),[h,d]=(0,y.useState)(""),[b,z]=(0,y.useState)(""),[F,L]=(0,y.useState)(!1),[n,I]=(0,y.useState)(!1),[g,N]=(0,y.useState)(!1),[D,Z]=(0,y.useState)([]),[$,J]=(0,y.useState)([]);(0,ht.useMount)(()=>{x(o.location.pathname===kt)}),(0,ht.useUnmount)(()=>{L(!1),d(""),z(""),I(!1)});let E=p=>{N(!!p)},ot=p=>{Z([p])},G=async p=>{let{keyringName:i="",walletName:H=""}=p||{},K=`${i}-${H}`;o.push({pathname:`${ce}/key`,state:{walletName:K,anim:"1",next:It}})},rt=(0,ht.useMemoizedFn)(async()=>{let p="",i=!0;h&&!await ve(h,w)&&(i=!1,p=s("wallet_import_errortip_wrong_private_key")),L(!1),Z([]),z(p),I(i)},[h]),q=_t(rt,200),st=async p=>{L(!0),d(p),z(""),I(!1),await q()},u=async p=>{if(p?.preventDefault(),!n)return;gt();let H=(await ke(h,w))?.filter(M=>M!==Qt),K=[];for(let M=0,ct=H.length;M<ct;M++){let a=H[M],T=[a];a===Wt&&(T=[...T,...dt]),K.push(Et().checkPrivateKeyIsImported({baseChains:T,wallets:[{privateKey:h}]}))}let wt=(await Promise.allSettled(K)).map((M,ct)=>{let{value:a}=M;return a===void 0&&(a=!0),{chainName:H[ct],imported:a}}),Tt=wt.filter(({imported:M})=>!M).map(({chainName:M})=>M),yt=bt.find(M=>Tt.includes(M))||Tt[0];yt?(Z([yt]),J(wt),E(!0)):it.error({title:s("wallet_extension_imported_toast_wallet_existes"),top:0}),gt()},r=async()=>{if(!n)return;let p;try{let i=D;i.includes(Wt)&&(i=[...i,...dt]),_?p=await f(ge(i,h)):(await f(Ce(h)),await f(Ae(i))),_?G(p,i):o.push(`${vt}?from=${Lt.KEY}`)}catch(i){i.message===Ct&&it.error(s("wallet_home_toast_network_error")),i.message===At&&(it.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),z(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})))}},c=s("wallet_import_subtitle_import_private_key_desc");return y.default.createElement(y.default.Fragment,null,y.default.createElement(W.Container,{className:ft.root},y.default.createElement("form",{onSubmit:u},y.default.createElement(P.Text,{size:P.SIZE.sm,className:ft.title},s("wallet_addwallet_btn_import_private_key")),y.default.createElement(he,{elementName:"ipk"},y.default.createElement(zt.TextArea,{inputClassName:ft.input,value:h,type:"password",size:zt.SIZE.lg,placeholder:c,onChange:p=>st(p.target.value),errorType:"blur",error:b,autoComplete:"off",cleanable:!0})),!g&&y.default.createElement(R.FooterActions,{usePortal:!0,direction:oe.vertical},y.default.createElement(P.Text,{size:P.SIZE.sm,align:P.ALIGN.center,className:ft.link,onClick:()=>{ye(pe)}},s("wallet_extension_private_key_maintitle_bulk_import"),y.default.createElement(ee,{className:`okds-arrow-pointer-right-md ${ft.bulk}`})),y.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!n,loading:F,onClick:u,block:!0},s("wallet_set_password_btn_confirm"))))),y.default.createElement(Mt,{visible:g,chooseNetworkList:D,supportChainsList:$,setVisible:E,setChooseNetWorkList:ot,confirm:r}))};l();m();var A=k(tt()),We=k(Nt()),Bt=k(me()),ze=k(Te());Kt();nt();re();ne();se();l();m();Xt();ne();l();m();Xt();function Yt(t,o){switch(t){case 501:return`m/44'/501'/${o}'/0'`;case 637:return`m/44'/637'/${o}'/0'/0'`;case 118:return`m/44'/118'/0'/0/${o}`;case 1001:case 1011:case 2892:return`m/44'/60'/0'/0/${o}`;case 1003:return`m/44'/394'/0'/0/${o}`;case 1006:return`m/44'/459'/0'/0/${o}`;case 1008:return`m/44'/529'/0'/0/${o}`;case 1010:return`m/44'/330'/0'/0/${o}`;case 784:return`m/44'/784'/${o}'/0'/0'`;case 804:return`m/44'/60'/0'/0/${o}`;case 9004:return`m/44'/9004'/0'/0/${o}`;case 1815:return`m/1852'/1815'/${o}'/0/0`;case 1237:return`m/44'/1237'/${o}'/0/0`;case 111111:return`m/44'/111111'/0'/0/${o}`;case 397:return`m/44'/397'/${o}'`;case 607:return`m/44'/607'/${o}'`;default:return`m/44'/${t}'/0'/0/${o}`}}async function Le(t=""){try{let{wallet:o}=await ue(607);return await o.validateMnemonicOfTon({mnemonicArray:t.split(" "),password:""})}catch(o){return console.log("error:",o),!1}}async function Me(t){let o=[{type:et.HD_KEYRING,address:"",hdPath:Yt(607,0)},{type:et.TON_HD_KEYRING,address:"",hdPath:""}],{getNewAddress:f,getDerivedPrivateKey:w}=await _e();return Promise.all(o.map(async _=>{let x=await w(607,{mnemonic:t,hdPath:_.hdPath}),{address:h}=await f(607,{privateKey:x});return _.address=h,_}))}l();m();var e=k(tt()),Zt=k(Te()),Vt=k(Ge());Kt();nt();Ze();l();m();var Ot=k(tt());function Ut(t,o=[]){let f=(0,Ot.useRef)(!1);(0,Ot.useEffect)(()=>{if(f.current)return t();f.current=!0},o)}He();l();m();var Pe={topWrapper:"_topWrapper_c7vcn_1"};l();m();var je=({onWordsChange:t,onAnyWordError:o,onEditStateChange:f,onClear:w,error:_})=>{let[x,h]=(0,e.useState)("12"),[d,b]=(0,e.useState)(new Array(12).fill(null)),[z,F]=(0,e.useState)(!1),[L,n]=(0,e.useState)(-1),[I,g]=(0,e.useState)(!1),N=(0,e.useRef)(new Array(12).fill(null)),D=({text:r})=>e.default.createElement("div",{className:"mnemonic-words-menu-item"},r),Z=(0,e.useMemo)(()=>[{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_12word",{length:"12"})}),value:"12"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_15word",{length:"15"})}),value:"15"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_18word",{length:"18"})}),value:"18"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_21word",{length:"21"})}),value:"21"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_24word",{length:"24"})}),value:"24"}],[s]),[$,J]=(0,e.useState)(!1),E=(0,e.useMemo)(()=>_t(r=>{J(r)},300),[]),ot=(0,e.useCallback)(({value:r})=>{h(r),F(!0);let c=parseInt(r,10);if(c===d.length)return;let p=[...d],i=p.length;i<c?(p.length=c,N.current.length=c,p.fill(null,i,c),N.current.fill(!1,i,c)):(N.current.length=c,p.length=c),b(p),t&&t(p)},[d,t]),G=(0,e.useCallback)((r,c)=>{b(p=>{p[c]=r;let i=[...p];return t&&t(i),i}),g(!1)},[t]),rt=(0,e.useCallback)((r,c)=>{let i=(r.trim().toLowerCase().match(/\w+/gu)?.join(" ")||"").split(/\s/u);if(i.length===0)return;if(z===!1&&d.every(K=>!K)&&[12,15,18,21,24].includes(i.length)){h(`${i.length}`),b(i),t&&t(i);return}let H=[...d];for(let K=0;K<i.length;K++){let mt=c+K;if(mt>=H.length)break;H[mt]=i[K]}b(H),t&&t(H)},[t,d]),q=(0,e.useCallback)((r,c)=>{N.current[c]||(N.current[c]={}),N.current[c].error=r;let p=N.current.filter(i=>i&&i.error===!0).length;o&&o(p>0)},[o]),st=(0,e.useCallback)((r,c)=>{N.current[c]||(N.current[c]={}),N.current[c].focus=r;let p=N.current.filter(i=>i&&i.focus===!0).length>0;E(p),n(c)},[E]);Ut(()=>{f&&f($)},[$,f]);let u=()=>{let r=d.map(()=>null);b(r),t&&t(r),w&&w(),g(!0)};return e.default.createElement("div",{className:"mnemonic-words-inputs"},e.default.createElement(W.FlexBox,{className:Pe.topWrapper,align:W.ALIGN.center,justify:"space-between"},e.default.createElement("span",{className:"mnemonic-words-inputs__length-type__text"},jt("wallet_extension_import_seed_phrase_dropdown_text_ihave2",{words:e.default.createElement($t,{align:$t.DIRECTION.right,isPcShowCheck:!0,options:Z,onChange:ot,value:x,optionContClassName:"mnemonic-words-inputs__length-type-dropdown-list",optionItemClassName:"mnemonic-words-inputs__length-type-item"})})),d.some(r=>r)&&e.default.createElement("div",{className:"mnemonic-words-inputs__clear"},e.default.createElement("div",{className:"mnemonic-words-inputs__clear-button",onClick:u},e.default.createElement("span",null,s("wallet_extension_import_seed_phrase_button_clear"))))),e.default.createElement("div",{className:"mnemonic-words-inputs__container"},d.map((r,c)=>e.default.createElement(Xe,{key:c,word:d[c]?d[c]:"",onWordChange:G,onFocusChange:st,onPaste:rt,onValidate:q,index:c,focusIndex:L,cleared:I}))),_&&e.default.createElement("span",{className:"mnemonic-words-inputs__error"},_))},Xe=({index:t,onWordChange:o,onPaste:f,word:w,onValidate:_,onFocusChange:x,focusIndex:h,cleared:d})=>{let[b,z]=(0,e.useState)(!1),[F,L]=(0,e.useState)(!0),[n,I]=(0,e.useState)(!1),[g,N]=(0,e.useState)(""),D=(0,e.useCallback)(u=>{let r=u.target.value;if(te()===Jt&&r.includes(" ")){f(r,t),L(!0),x(!1,t);return}let c=(r||"").trim().toLowerCase();o(c,t),N(c)},[t,o]),Z=(0,e.useCallback)(u=>{u.preventDefault(),u.stopPropagation();let r=u.clipboardData.getData("text");f(r,t),L(!0),x(!1,t)},[t,f]),$=(0,e.useCallback)(u=>{let r=Boolean(u)&&!Zt.wordlists.english.includes(u);z(r),_&&_(r,t)},[t,_]),J=(0,e.useCallback)(()=>{L(!0),x(!1,t)},[t,x]);Ut(()=>{F&&$(w)},[w,F,$]);let E=(0,e.useMemo)(()=>{if(!g)return[];let u=g.replace(/[^a-zA-Z]/gm,"");if(!u)return[];let r=Zt.wordlists.english.filter(c=>new RegExp(`^${u}`).test(c));return r.length===1&&r[0]===u?[]:(r.length>6&&(r.length=6),r)},[g]),ot=(0,e.useCallback)(()=>{L(!1),I(!0),x(!0,t),_&&_(!1,t)},[t,x,_]),G=u=>{D({target:{value:u}}),I(!1),z(!1),_&&_(!1,t),L(!0),x(!1,t),setTimeout(()=>{let r=document.querySelectorAll(".mnemonic-words-inputs__container__input");r[t+1]&&r[t+1].focus()})},rt=(0,e.useCallback)(({key:u})=>{u==="Enter"&&E.length===1&&G(E[0])},[E]),q=(0,e.useRef)(null),st=F&&w&&!b;return(0,e.useEffect)(()=>{function u(r){q.current&&!q.current.contains(r.target)&&I(!1)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[q]),(0,e.useEffect)(()=>{h!==t&&(I(!1),$(w))},[h,t]),(0,e.useEffect)(()=>{$(w)},[d]),e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-item"},e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-index"},t+1),e.default.createElement(xt,{className:"mnemonic-words-inputs__container__input-popup",arrowSize:xt.SIZE.lg,arrowStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:"8px",disabled:E.length===0,content:e.default.createElement("div",{ref:q,className:(0,Vt.default)("mnemonic-words-inputs__container__candidate",{"columns-3":E.length>=3,"columns-2":E.length===2,"columns-1":E.length===1})},E.map(u=>e.default.createElement("div",{key:u,className:"mnemonic-words-inputs__container__candidate-word",onClick:()=>G(u)},u))),show:n,placement:xt.DIRECTION.bottom,smartMode:!0,modifiers:[{name:"preventOverflow",options:{padding:16}}]},e.default.createElement(fe,{elementName:"m"},e.default.createElement("input",{className:(0,Vt.default)("mnemonic-words-inputs__container__input",{"mnemonic-words-inputs__container__input-error":b}),value:w,onBlur:J,onFocus:ot,onPaste:Z,onChange:D,onKeyDown:rt,autoComplete:"off",type:st?"password":"text"}))))},Oe=je;l();m();var U=k(tt());nt();l();m();var X={root:"_root_1337z_1",fixBox:"_fixBox_1337z_4",closeBox:"_closeBox_1337z_8",textBox:"_textBox_1337z_13",iconBox:"_iconBox_1337z_21",icon:"_icon_1337z_21",tonTitle:"_tonTitle_1337z_30",text:"_text_1337z_13"};var Je=({onClose:t=()=>{},onConfirm:o=()=>{}})=>U.default.createElement(W.Portal,{className:X.root},U.default.createElement(R.FooterActions,{className:X.fixBox},U.default.createElement("div",{className:X.closeBox},U.default.createElement(Y,{size:Y.SIZE.xl,icon:"okx-wallet-plugin-close",className:X.icon,onClick:t})),U.default.createElement(W.Box,{className:X.textBox},U.default.createElement("div",{className:X.iconBox},U.default.createElement(Y,{size:Y.SIZE.xxl,icon:"okx-wallet-plugin-warning-circle",className:X.icon})),U.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:X.tonTitle},s("wallet_extension_import_title_being_imported")),U.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:X.text},s("wallet_extension_import_subtitle_being_imported")),U.default.createElement(R.FooterActions,null,U.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:o,block:!0},s("commonall_text_btn_ok_passive")))))),Be=Je;l();m();var v=k(tt());nt();l();m();var B={root:"_root_1rxd9_1",fixBox:"_fixBox_1rxd9_4",closeBox:"_closeBox_1rxd9_9",textBox:"_textBox_1rxd9_14",iconBox:"_iconBox_1rxd9_23",icon:"_icon_1rxd9_23",tonTitle:"_tonTitle_1rxd9_32",text:"_text_1rxd9_14",switchItem:"_switchItem_1rxd9_43",address:"_address_1rxd9_50",addressTitle:"_addressTitle_1rxd9_55",tonAddress:"_tonAddress_1rxd9_59"};var Qe=({item:t})=>{let{address:o,tonTitle:f,onClick:w,iconLink:_}=t;return v.default.createElement("div",{className:B.switchItem,onClick:()=>{w&&w(t)}},v.default.createElement("div",{className:B.iconTps},v.default.createElement(Y,{size:Y.SIZE.lg,icon:_,className:B.icon})),v.default.createElement("div",{className:B.address},v.default.createElement("span",{className:B.addressTitle},f),v.default.createElement("div",null,s("wallet_extension_ton_select_ton_address")),v.default.createElement("span",{className:B.tonAddress},o)),v.default.createElement("div",{className:B.iconArrow},v.default.createElement(Y,{size:Y.SIZE.lg,icon:"okx-wallet-plugin-right",className:B.icon})))},Re=({onClose:t=()=>{},addressList:o=[]})=>v.default.createElement(W.Portal,{className:B.root},v.default.createElement(R.FooterActions,{className:B.fixBox},v.default.createElement("div",{className:B.closeBox},v.default.createElement(Y,{size:Y.SIZE.xl,icon:"okx-wallet-plugin-close",className:B.icon,onClick:t})),v.default.createElement(W.Box,{className:B.textBox},v.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:B.tonTitle},s("wallet_extension_ton_title_input_address")),v.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:B.text},s("wallet_extension_ton_desc_input_address")),o.map(f=>v.default.createElement(Qe,{item:f}))))),De=Re;l();m();var Ke={root:"_root_v31gt_1"};var $e=t=>{let{history:o}=t,f=(0,We.useDispatch)(),[w,_]=(0,A.useState)(!1),[x,h]=(0,A.useState)(!1),[d,b]=(0,A.useState)([]),[z,F]=(0,A.useState)(!1),[L,n]=(0,A.useState)(""),[I,g]=(0,A.useState)(!1),[N,D]=(0,A.useState)(!1),[Z,$]=(0,A.useState)(!1),[J,E]=(0,A.useState)(!1),[ot,G]=(0,A.useState)(!1),[rt,q]=(0,A.useState)([]);(0,Bt.useMount)(()=>{h(o.location.pathname===kt)});let st=()=>{o.replace(It)},u=(0,Bt.useMemoizedFn)(async()=>{let a=d.length>0,T=!1;for(let pt=0;pt<d.length;pt++){let qt=d[pt];(!qt||!ze.wordlists.english.includes(qt))&&(a=!1)}let j=!1,Q=!1;if(a){let{ethers:pt}=await de();a=pt.utils.isValidMnemonic(d.join(" ")),d.length===ae.TWENTYFOUR&&(j=await Le(d.join(" ")),a&&!j||!a&&j?a=!0:a&&j?(Q=!0,a=!0):a=!1),N||(T=!a)}return N&&(T=!1),F(a),$(T),{isValid:a,isTonMnemonic:j,isMnemonicNormalAndTon:Q}},[d,N]),r=_t(u,500),c=async a=>{b(a),n(""),await r()},p=a=>{g(a)},i=a=>{D(a),u()},H=()=>I?s("wallet_import_wallet_errortip_seed_phase_wrong"):Z?s("wallet_import_wallet_errortip_seed_phase_order_wrong"):L||"",K=async({isTonMnemonic:a})=>{let T=d.join(" "),j;try{x?j=await f(we(T,!0,{isTonMnemonic:a})):await f(Ee(T)),x?st(j):o.push(`${vt}?from=${Lt.SEED}`)}catch(Q){console.log("error:",Q),Q.message===Ct&&it.error(s("wallet_home_toast_network_error")),Q.message===At&&(it.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),n(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),Q.message===Ht&&n(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3}))}finally{_(!1)}gt()},mt=async()=>{await f(Ie(!0)),await K({isTonMnemonic:!0}),E(!1)},wt=async a=>{a.type===et.HD_KEYRING&&await K({isTonMnemonic:!1}),a.type===et.TON_HD_KEYRING&&await mt(),G(!1)},Tt=async()=>{let a=await Me(d.join(" "));q(a.map(T=>(T.type===et.HD_KEYRING&&(T.tonTitle=s("wallet_extension_ton_select_multi_chain_wallet"),T.iconLink="okx-wallet-plugin-ton-seedphrase",T.onClick=wt),T.type===et.TON_HD_KEYRING&&(T.tonTitle=s("wallet_extension_ton_select_ton_wallet"),T.iconLink="okx-wallet-plugin-ton-wallet",T.onClick=wt),T))),G(!0)},yt=async()=>{try{if(x)await Et().checkMnemonicIsImported({mnemonic:d.join(" ")});else return!0}catch(a){return a.message===Ht&&n(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),_(!1),!1}return!0},M=async a=>{a?.preventDefault(),_(!0);let{isValid:T,isTonMnemonic:j,isMnemonicNormalAndTon:Q}=await u();if(!(!T||!await yt())){if(Q){Tt();return}if(j){E(!0);return}await K({isTonMnemonic:!1})}},ct=H();return A.default.createElement(W.Box,{className:Ke.root},A.default.createElement("form",{onSubmit:M},A.default.createElement(Oe,{onEditStateChange:i,onAnyWordError:p,onWordsChange:c,onClear:()=>{F(!1)},error:ct}),A.default.createElement(R.FooterActions,{usePortal:!0},A.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!z||ct,loading:w,onClick:M,block:!0},s("wallet_set_password_btn_confirm"))),J&&A.default.createElement(Be,{onClose:()=>{E(!1),_(!1)},onConfirm:mt}),ot&&A.default.createElement(De,{onClose:()=>{G(!1),_(!1)},addressList:rt})))};l();m();var Dt={connect:"_connect_1lqck_1",tabs:"_tabs_1lqck_4","tabs-header":"_tabs-header_1lqck_7",tabsHeader:"_tabs-header_1lqck_7"};var Gt=class extends V.PureComponent{render(){return this.props?V.default.createElement(W.Container,null,V.default.createElement(St,{title:s("wallet_extension_import_card_title_import"),closeable:!1,stickyStyle:{zIndex:10}}),V.default.createElement("div",{className:Dt.connect},V.default.createElement(ut.Segmented,{average:!0,destroyOnHide:!0,className:Dt.tabs,headerClassName:Dt.tabsHeader,size:ut.SIZE.sm,color:ut.COLOR.grey},V.default.createElement(ut.TabPane,{id:"1",tab:s("wallet_extension_import_tab_seed_phrase")},V.default.createElement($e,{...this.props})),V.default.createElement(ut.TabPane,{id:"2",tab:s("wallet_extension_import_tab_private_key")},V.default.createElement(be,{...this.props}))))):null}},on=(0,Fe.connect)(null,null)(Gt);export{on as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ImportSeedPhraseAndPrivateKey-AMR2FQIJ.js.map
