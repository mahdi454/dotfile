import{b as _}from"./chunk-F4T6Q6QK.js";import{a as P}from"./chunk-ZRAG5WLF.js";import{a as M}from"./chunk-3BOIX6DD.js";import"./chunk-4IDSMRQU.js";import{a as b}from"./chunk-65VFWMII.js";import"./chunk-ID2G3YUZ.js";import"./chunk-7KXE5PFN.js";import"./chunk-F7YYSTTZ.js";import"./chunk-SYQTAGUC.js";import"./chunk-X6LGMUFV.js";import{a as B}from"./chunk-6M2GCKDH.js";import{a as W}from"./chunk-AQPMJGF5.js";import"./chunk-EU22H7NN.js";import{a as D}from"./chunk-KTRYKYE5.js";import"./chunk-V2A2AEVZ.js";import"./chunk-7CWLH6ZR.js";import"./chunk-UUX3UNZW.js";import"./chunk-QCTV4R7X.js";import"./chunk-SIIB3XCZ.js";import"./chunk-GUGRL7WK.js";import"./chunk-6ZHQ2QLX.js";import"./chunk-S4NIXE4H.js";import"./chunk-UTVBVZWC.js";import"./chunk-GL4YYTXQ.js";import"./chunk-4MDR2IS2.js";import"./chunk-GZN3TPOZ.js";import"./chunk-ZN3567SM.js";import"./chunk-SJCGLHGC.js";import{d as R}from"./chunk-GQYTOJVD.js";import"./chunk-7HZMPY3W.js";import"./chunk-QTEBOXIQ.js";import"./chunk-K4WB5MMU.js";import"./chunk-FSQDFL3V.js";import"./chunk-YLJ56YQC.js";import"./chunk-YVC4CAU2.js";import"./chunk-K4MSA5MN.js";import"./chunk-4HBLPFAF.js";import"./chunk-TJW4EUGS.js";import"./chunk-SJRV5U24.js";import"./chunk-PUMQ7BEU.js";import"./chunk-4OKCKO5L.js";import"./chunk-SKK4O3IC.js";import"./chunk-L4BR2EHM.js";import"./chunk-AQH6QKNE.js";import"./chunk-6IVHTBSR.js";import{a as E}from"./chunk-75OW6LUI.js";import"./chunk-W4IULSMQ.js";import"./chunk-UXRYSOKP.js";import"./chunk-ABSI53HE.js";import"./chunk-JJIQEHOY.js";import"./chunk-AE7B6XHD.js";import"./chunk-HC6T2TFK.js";import"./chunk-JMTMYFWR.js";import"./chunk-RE5SSELD.js";import"./chunk-A3B5II6P.js";import"./chunk-XVPROSYE.js";import"./chunk-E2MXYP3A.js";import"./chunk-FPV6XIHQ.js";import"./chunk-MZXFJMVC.js";import"./chunk-46PSZUMN.js";import"./chunk-MYY7DCIN.js";import"./chunk-AHIMORZ4.js";import"./chunk-XZ6AHFH2.js";import"./chunk-3DEZPDXQ.js";import"./chunk-6UFIPREK.js";import"./chunk-G4OIO3Z6.js";import"./chunk-JEIYTQ5E.js";import"./chunk-TOO5SEJU.js";import"./chunk-DUWPYFAS.js";import"./chunk-CA4PB6NG.js";import"./chunk-SCXRHDUG.js";import"./chunk-5STCPPZU.js";import"./chunk-ZVXDJZSD.js";import"./chunk-56SDY6L3.js";import"./chunk-PXWV5LKL.js";import"./chunk-M5PVKGM6.js";import"./chunk-AK34CZMZ.js";import"./chunk-QHZHYX4V.js";import"./chunk-FLFVNMKM.js";import"./chunk-YJ2NGJXA.js";import"./chunk-DQ2UEFEE.js";import"./chunk-ZUBNNPBM.js";import"./chunk-2SHHGXPQ.js";import"./chunk-UK4SAM7E.js";import"./chunk-LXIBKSOK.js";import"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import"./chunk-DUKP4BLI.js";import"./chunk-S3O4LR55.js";import"./chunk-FZCNSMLW.js";import"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import{o as Q}from"./chunk-KCWFMCND.js";import"./chunk-3TDWET6C.js";import{K as C,L as T,v as x}from"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import"./chunk-VPGNJAK6.js";import"./chunk-W6Q44ZHW.js";import"./chunk-3HS6AHPS.js";import"./chunk-JUXPONKW.js";import"./chunk-WSUAESF2.js";import"./chunk-O2FUKKO3.js";import"./chunk-GQJVAWGG.js";import"./chunk-WO5B666G.js";import"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import{Ia as S,Mb as A,Ya as N,dc as K}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import"./chunk-J3CEQI22.js";import{K as w,pa as J}from"./chunk-VFHYER2K.js";import"./chunk-KJIO572I.js";import"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import"./chunk-KALFZBR5.js";import"./chunk-V55FEIYE.js";import{a as y}from"./chunk-EAZTJZU7.js";import"./chunk-YTRW5WTJ.js";import"./chunk-3AN5FAZD.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-WPMHLM7C.js";import"./chunk-3MRE2BAK.js";import"./chunk-CSLLQXN7.js";import{a as V}from"./chunk-Y2IFB4P6.js";import"./chunk-P7DU4NJA.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as d,m as n,o as i}from"./chunk-ZCHLW7CF.js";n();i();var h=d(y());n();i();var q=d(y());N();n();i();J();K();n();i();var I=d(V());N();var G=(t={})=>{let{params:e={}}=t,{transaction:o={}}=e;return o},Y=async(t={})=>{let{contractAddress:e,contractName:o,functionName:a,functionArgs:r}=t,{getRawTransaction:s}=await E(),c={data:{type:x.CONTRACT_CALL,data:{contract:e,contractName:o,functionName:a,functionArgs:r}}};return await s(I.Currency.Stx,c)},Z=async(t={})=>{let{recipient:e,amount:o,memo:a}=t,{getRawTransaction:r}=await E(),s={data:{type:x.TRANSFER,data:{to:e,amount:o,memo:a}}};return await r(I.Currency.Stx,s)},$=async(t={})=>t.txType===T.CONTRACT_CALL?Y(t):t.txType===T.STX_TRANSFER?Z(t):"",O=async({unapproved:t={},baseCoin:e={},fromAddress:o,value:a})=>{let r=G(t),s=await $(r);return(await W({coinId:e?.coinId||S,fromAddress:o,value:a,inputData:s}))?.gasLimit||"0"};n();i();var L=d(Q()),k=d(y());var v=({unapproved:t={},baseCoin:e})=>{let[o,a]=(0,k.useState)(),[r,{setTrue:s,setFalse:c}]=(0,L.useBoolean)(!0),[m,{setTrue:p,setFalse:f}]=(0,L.useBoolean)(!1),u=B(t);return(0,k.useEffect)(()=>{(async()=>{try{s(),f();let l=await O({unapproved:t,baseCoin:e,fromAddress:u?.address,value:"0"});a(l),c()}catch{p(),c()}})()},[t?.id]),{isLoadingFee:r,isGasError:m,fee:o}},U=v;var tt=({unapproved:t,baseCoin:e,coinId:o})=>{let{fee:a,isLoadingFee:r,isGasError:s}=U({unapproved:t,baseCoin:e}),c=D(o,t.walletId)||{},{coinAmountInt:m}=c,p=G(t),f=p?.txType===T.STX_TRANSFER?p?.amount:"0",u=w(m)||A(m,a),F=w(m)||A(m,f);return{loading:r,networkFee:a,estimateFailed:s,networkFeeProps:{coinId:o,loading:r,networkFee:a,estimateFailed:s},isSufficientGas:u,isSufficientBalance:F,coinWithBalance:c}},X=tt;var et=({unapproved:t})=>{let e=R(S)||{},o=e.coinId||S,a=t?.params?.transaction?.contractAddress,{networkFee:r,estimateFailed:s,networkFeeProps:c,isSufficientGas:m,loading:p,isSufficientBalance:f,coinWithBalance:u}=X({coinId:o,unapproved:t,baseCoin:e}),F=M({baseCoin:e,unapproved:t,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,coinWithBalance:u}),{buttonGroup:l}=_({coinId:o,unapproved:t,feeLoading:p,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,extParams:{fee:r},coinWithBalance:u});return q.default.createElement(P,{unapproved:t,tipMessage:F,buttonGroup:l,networkFee:c,contractAddress:a})},j=et;n();i();var z=d(y());var H=({unapproved:t})=>{let e=t.params?.message;return z.default.createElement(b,{message:e,unapproved:t})};var Ut=({unapproved:t})=>{switch(t.method){case C.SIGN_TRANSACTION:return h.default.createElement(j,{unapproved:t});case C.SIGN_MESSAGE:return h.default.createElement(H,{unapproved:t});default:return""}};export{Ut as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Stacks-EMWRP7MU.js.map
