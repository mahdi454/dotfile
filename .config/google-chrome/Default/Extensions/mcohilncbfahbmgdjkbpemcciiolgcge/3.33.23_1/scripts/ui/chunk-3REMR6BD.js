import{e as j}from"./chunk-GPU2UKRI.js";import{e as w}from"./chunk-SUQW5NCT.js";import{g as Z}from"./chunk-TUUPYEC6.js";import{b as M,c as W}from"./chunk-C53RLQYB.js";import{x as G}from"./chunk-DUKP4BLI.js";import{q as P}from"./chunk-FZCNSMLW.js";import{o as et}from"./chunk-KCWFMCND.js";import{a as tt}from"./chunk-VPGNJAK6.js";import{g as z}from"./chunk-TW63K7CB.js";import{c as _}from"./chunk-FDCWN4NG.js";import{gc as A,mc as X,q as D,y as Q}from"./chunk-O3CM75EN.js";import{c as U,o as Y,q as O}from"./chunk-J3CEQI22.js";import{L as R,w as d}from"./chunk-KJIO572I.js";import{ca as m}from"./chunk-KALFZBR5.js";import{a as I}from"./chunk-EAZTJZU7.js";import{f as T,m as a,o as p}from"./chunk-ZCHLW7CF.js";a();p();var g=T(I());var $=({elementName:e,children:t})=>{let n={lastTimestamp:null,charCount:0,paste:!1,result:[]},[{lastTimestamp:o,charCount:r,paste:l,result:i},u]=(0,g.useState)(n),c=s=>{let v=Date.now(),L=null;if(o){let b=v-o,J=s.length-r;b>0&&(L={count:J,duration:b},i.push(L))}u({lastTimestamp:v,charCount:s.length,paste:l,result:s?[...i]:[]})},y=()=>{if(i.length>0&&r!==0&&l){let s=i.reduce((L,b)=>L+b.duration,0);w({e,l:r,d:s}),u({lastTimestamp:o,charCount:r,paste:!1,result:i})}},C=()=>{u({lastTimestamp:Date.now(),charCount:r,paste:l,result:i})},E=()=>{u({lastTimestamp:o,charCount:r,paste:!0,result:i})};return g.default.cloneElement(t,{onChange(...s){t.props.onChange&&t.props.onChange(...s),c(typeof s[0]=="string"?s[0]:s[0].target.value)},onBlur(...s){t.props.onBlur&&t.props.onBlur(...s),y()},onFocus(...s){t.props.onFocus&&t.props.onFocus(...s),C()},onPaste(...s){t.props.onPaste&&t.props.onPaste(...s),E()}})};var gt=e=>{let{elementName:t,...n}=e;return g.default.createElement($,{elementName:t},g.default.createElement(O.Password,{...n}))};var dt=({elementName:e,children:t})=>{let n={lastTimestamp:null},[{lastTimestamp:o},r]=(0,g.useState)(n),l=()=>{r({lastTimestamp:Date.now()})},i=c=>{let y=Date.now();if(o){let C=y-o;if(C>0&&c){let E={e,l:c.length,d:C};w(E)}}r({lastTimestamp:y})};return g.default.cloneElement(t,{onFocus(...c){t.props.onFocus&&t.props.onFocus(...c),l()},onPaste(...c){let y=c[0]?.clipboardData?.getData("text");t.props.onPaste&&t.props.onPaste(...c),i(y)}})},ft=$;a();p();var N=T(I()),H=T(tt()),K=T(et());X();Q();a();p();var x=T(I());R();a();p();var h={root:"_root_mkvsv_1",title:"_title_mkvsv_4",desc:"_desc_mkvsv_13",btn:"_btn_mkvsv_22",still:"_still_mkvsv_25",forgot:"_forgot_mkvsv_29"};function B({openNotification:e,resetPassword:t}){return x.default.createElement(_.Container,{className:h.root},x.default.createElement(P.Text,{className:h.title},d("wallet_extension_biometrics_dialog_title_cant_unlock")),x.default.createElement(P.Text,{className:h.desc},d("wallet_extension_biometrics_dialog_desc_cant_unlock")),x.default.createElement(m,{block:!0,category:m.CATEGORY.fill,type:m.TYPE.highlight,size:m.SIZE.lg,onClick:()=>{e()},className:h.btn},d("wallet_extension_biometrics_dialog_btn_cant_unlock_switch")),x.default.createElement(P.Text,{className:h.forgot,strong:!0,size:P.SIZE.sm,type:P.TYPE.secondary,onClick:()=>{t()}},d("wallet_extension_biometrics_btn_still_unable_unlock")))}function ot(){let e=(0,H.useHistory)(),t=(0,N.useRef)(null),n=()=>{t.current&&(t.current.destroyAll(),setTimeout(()=>{t.current=null}))},o=()=>{t.current||(t.current=Y.action({onClose:()=>{n()},visible:!0,maskClosable:!0,children:N.default.createElement(B,{openNotification:()=>{let{pathname:r,search:l}=e.location,u=A()===D;globalThis.platform.openExtensionInPopup(`${r}${l}`,null,!u)},resetPassword:()=>{n(),Z(),e.push(G)}})}))};return(0,K.useUnmount)(()=>{n()}),{open:o,close:n}}a();p();a();p();var S=T(I());a();p();function V(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=V(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function nt(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=V(e))&&(o&&(o+=" "),o+=t);return o}var q=nt;R();a();p();var k={root:"_root_g36fg_1",image:"_image_g36fg_4",btn:"_btn_g36fg_7"};function F({className:e,onPass:t}){let[n]=W(M.credentialId),o=z({light:"./static/images/passkey-light.png",dark:"./static/images/passkey-dark.png"}),[r,l]=(0,S.useState)(!1),i=async()=>{try{l(!0);let{password:u}=await j(n);t(u)}catch{l(!1)}finally{l(!1)}};return S.default.createElement(_.FlexBox,{className:q(k.root,e),direction:_.DIRECTION.vertical,align:_.ALIGN.center,justify:"center",onClick:i},S.default.createElement(U,{className:k.image,src:o,width:80,height:80}),S.default.createElement(m,{className:k.btn,category:m.CATEGORY.fill,type:m.TYPE.primary,loading:r,size:m.SIZE.md,onClick:i},d("wallet_extension_biometrics_loading_unlock")))}var le=F;export{gt as a,dt as b,ft as c,ot as d,nt as e,le as f};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3REMR6BD.js.map
