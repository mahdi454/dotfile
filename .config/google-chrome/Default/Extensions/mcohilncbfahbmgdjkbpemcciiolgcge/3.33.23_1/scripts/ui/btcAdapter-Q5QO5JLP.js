import{a as R,b as w,c as T}from"./chunk-BBSUOTL4.js";import"./chunk-5YMXUXYG.js";import"./chunk-J67TLDRO.js";import"./chunk-CV2I3OFZ.js";import{b as f}from"./chunk-5IJLIHE4.js";import{e as y}from"./chunk-75OW6LUI.js";import"./chunk-JJIQEHOY.js";import"./chunk-OFOTVKSY.js";import"./chunk-YJ2NGJXA.js";import"./chunk-W6Q44ZHW.js";import"./chunk-3HS6AHPS.js";import"./chunk-WO5B666G.js";import{a as h,u}from"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import"./chunk-J3CEQI22.js";import{M as n,pa as K}from"./chunk-VFHYER2K.js";import"./chunk-KJIO572I.js";import"./chunk-HJXNXGYU.js";import"./chunk-KALFZBR5.js";import"./chunk-V55FEIYE.js";import"./chunk-EAZTJZU7.js";import"./chunk-YTRW5WTJ.js";import"./chunk-P7DU4NJA.js";import"./chunk-AGPXVFMO.js";import"./chunk-FGSHVA46.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as H,m as p,o as l}from"./chunk-ZCHLW7CF.js";p();l();var W=H(R());K();var b=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(u);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(h))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await y(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await b.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},C=new a;export{C as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-Q5QO5JLP.js.map
