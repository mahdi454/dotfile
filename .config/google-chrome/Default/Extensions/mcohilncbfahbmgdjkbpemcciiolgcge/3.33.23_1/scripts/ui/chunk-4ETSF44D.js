import{a as Bi,b as Fi,c as Ri,d as F,f as tt,j as ot,k as Pi,l as z,m as $t,n as Wt}from"./chunk-K6OKNCUH.js";import{a as Oi}from"./chunk-BADUO7EG.js";import{b as Vt}from"./chunk-PQRUDR4H.js";import{a as Ht}from"./chunk-YI2BHXGP.js";import{a as Li}from"./chunk-CDVXLQA3.js";import{a as gi,e as wi,m as Ei,t as yi}from"./chunk-D6NWGDM6.js";import{a as Ni}from"./chunk-ZVUQCOMJ.js";import{a as vi}from"./chunk-3YTH2U6Q.js";import{a as Tt,b as Ci,c as kt}from"./chunk-TN557PDS.js";import{a as Me}from"./chunk-4MDR2IS2.js";import{d as Ti}from"./chunk-GZN3TPOZ.js";import{a as Pt}from"./chunk-SJCGLHGC.js";import{b as pi,d as Rt,g as Ot}from"./chunk-GQYTOJVD.js";import{b as Ut,e as hi}from"./chunk-AB2B4P3R.js";import{a as Ii}from"./chunk-FSQDFL3V.js";import{a as di}from"./chunk-TJW4EUGS.js";import{c as Ft}from"./chunk-SJRV5U24.js";import{c as Qo,d as Bt,f as ei}from"./chunk-AQH6QKNE.js";import{b as Mt,f as Di,g as qt,j as Gt,k as bi,l as Si}from"./chunk-JMH6N6IP.js";import{a as Ai}from"./chunk-ODKQ5CCQ.js";import{c as oi}from"./chunk-5U7ZXBMP.js";import{a as ti}from"./chunk-RUFGCIXT.js";import{b as ut}from"./chunk-T37NLQBV.js";import{b as xo}from"./chunk-RE5SSELD.js";import{d as uo}from"./chunk-XVPROSYE.js";import{D as ci,O as mi}from"./chunk-FPV6XIHQ.js";import{a as ii}from"./chunk-RPBC7DID.js";import{a as ai}from"./chunk-3DEZPDXQ.js";import{I as xt,N as fi,X as ui,Y as To,Z as xi}from"./chunk-5STCPPZU.js";import{a as ri,f as li,h as _i}from"./chunk-56SDY6L3.js";import{h as ni,i as si}from"./chunk-QHZHYX4V.js";import{Ya as Lt}from"./chunk-DUKP4BLI.js";import{b as Xo}from"./chunk-S3O4LR55.js";import{l as Wo,m as J,q as et}from"./chunk-FZCNSMLW.js";import{e as ht,f as vt}from"./chunk-WANYNTD6.js";import{o as Jo}from"./chunk-KCWFMCND.js";import{m as j,sa as bt,w as ye,y as Yo}from"./chunk-3TDWET6C.js";import{a as S,b as o,d as Z,e as ft,g as Ce}from"./chunk-EBR3PGFZ.js";import{a as Vo}from"./chunk-VPGNJAK6.js";import{d as Qe,f as Zo}from"./chunk-3HS6AHPS.js";import{e as Ne}from"./chunk-WSUAESF2.js";import{c as re}from"./chunk-FDCWN4NG.js";import{a as St}from"./chunk-5YGMD6KK.js";import{Ea as mt,Eb as Et,Fa as Uo,Gb as yt,Hb as qo,Oa as Mo,Sc as dt,Ub as mo,Uc as jo,Vc as pt,Wc as zo,Ya as co,Yb as Go,a as Ro,b as Ps,dc as po,qc as At,tc as Dt,vc as Ko}from"./chunk-O3CM75EN.js";import{A as _e,G as $o,H as pe,K as be,N as $e,O as fe,o as he,y as fo}from"./chunk-J3CEQI22.js";import{F as Oo,K as De,fa as Po,pa as Xe}from"./chunk-VFHYER2K.js";import{C as ko,L as G,e as Oe,w as s}from"./chunk-KJIO572I.js";import{T as ke,Z as Je,c as Pe,ca as Ue}from"./chunk-KALFZBR5.js";import{a as Ho}from"./chunk-V55FEIYE.js";import{a as A}from"./chunk-EAZTJZU7.js";import{f as u,m as l,o as _}from"./chunk-ZCHLW7CF.js";l();_();G();Xe();var ki="okx-wallet-plugin-report-centre",Ui="okx-wallet-plugin-nft",ks="okx-wallet-plugin-report-centre",Us="okx-wallet-plugin-lock-1",Ms="okx-wallet-plugin-swap-1",qs="okx-wallet-plugin-documentation",Mi=(e=[],t="en-US",i=!1)=>{if(!Array.isArray(e))return[[],[]];let n=new Map,a=[],r=[],c=0,m=p=>{let d=Oe(p.txTime,{format:"yyyyMMdd",locale:t});De(n.get(d))&&(n.set(d,c),r[c]={},r[c].date=d,r[c].list=[],c++);let I=n.get(d);r[I].list.push(p)};return e.forEach(p=>{p.txStatus===S.PENDING?!p.isShowPending&&i?m(p):a.push(p):m(p)}),[a,r]},No=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.MINT_NFT||t===o.CANCEL_NFT||t===o.NFT_AUTHORIZATION?Ui:t===o.NFT_CANCEL_AUTHORIZATION?qs:t===o.DAPP_NFT||t===o.CONTRACTCALL?ks:t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION?Us:t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT?Ms:ki},qi=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.BUY_NFT||t===o.SELL_NFT||t===o.MINT_NFT||t===o.DAPP_NFT||t===o.CANCEL_NFT},Gi=(e={},t={})=>{let{nftId:i}=e,{txType:n}=t;return i||n===o.ORDINAL_NFT?Ui:n===o.ORDINAL_TEXT?`${St()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:ki},Hi=(e={})=>{let{hideTxType:t}=e;return Number.isInteger(t)&&t!==Mt.NORMAL},it=e=>e.txType===o.TRANS_OUT&&e.okexAccount;l();_();var M=u(A());Xe();l();_();var ie=u(A());l();_();var qe=u(A());l();_();var We=u(A());G();Zo();zo();jo();var Gs=({tx:e,closeVisible:t,repeatVisible:i,onClose:n,onConfirm:a})=>{let r=a,c=t||i,{txHash:m,coinId:f,txId:p,include:d,coinSymbol:I}=e,N=d?.[0]?.protocolName,h=I,w=ri(),C=Rt(f)?.chainId||0,k=async()=>{try{let b=await Qe().getRequestHeaders({walletId:w,needSign:!0,currency:"usd"}),B={txHash:m,accountId:w,chainId:C};return await dt(pt.postCloseTranscation,B,{headers:b})}catch(b){let B=he.tip({title:s("extension_biz_title_cancel_transaction_failed"),confirmText:s("commonall_text_btn_ok_active"),children:We.default.createElement("div",null,b.msg),onConfirm:()=>{r(p),B.destroy()}});throw b}},L=async()=>{try{let b=await Qe().getRequestHeaders({walletId:w,needSign:!0,currency:"usd"}),B={txHash:m,accountId:w,chainId:C};await dt(pt.postRepeatTranscation,B,{headers:b})}catch(b){let B=he.tip({title:s("extension_biz_title_cancel_broadcast_failed"),confirmText:s("commonall_text_btn_ok_active"),children:We.default.createElement("div",null,b.msg),onConfirm:()=>{r(p),B.destroy()}});throw b}},V=async()=>{try{t?(ui({token_name:h,protocol:N}),await k()):i&&(xi({token_name:h,protocol:N}),await L())}catch{return}a(p),pe.success({title:s("extension_defi_toast_header_tips_request_submit")})};return We.default.createElement(he.Prompt,{visible:c,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:V,onClose:()=>{n&&n()},confirmText:s("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:Ue.TYPE.highlight,size:Ue.SIZE.lg},renderContent:b=>We.default.createElement(b,null,We.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},t&&s("extension_defi_toast_title_release_utxo"),i&&s("extension_defi_toast_title_rebroadcast")),We.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},t&&s("extension_defi_toast_desc_release_utxo"),i&&s("extension_defi_toast_desc_rebroadcast")))})},Vi=Gs;function Hs({data:e,onRefresh:t}){let{showCloseTransaction:i,showTxRepeatBroadcast:n,include:a,coinSymbol:r}=e,[c,m]=(0,qe.useState)(!1),[f,p]=(0,qe.useState)(!1),d=a?.[0]?.protocolName,I=r;return qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(ot,{showCloseTransaction:i,showTxRepeatBroadcast:n,onClose:()=>{m(!0),To({token_name:I,protocol:d,button_name:"releaseutxo"})},onRepeat:()=>{p(!0),To({token_name:I,protocol:d,button_name:"rebroadcast"})}}),(c||f)&&qe.default.createElement(Vi,{tx:e,closeVisible:c,repeatVisible:f,onConfirm:N=>{t(N),m(!1),p(!1)},onClose:()=>{m(!1),p(!1)}}))}var $i=Hs;l();_();var Nt=u(A());l();_();var U=u(A()),nt=u(Pe());G();po();l();_();var H={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Vs=({currentAvgFeeRate:e,expectedFeeRate:t,currentTxSize:i,ancestorsTxSize:n,totalFee:a,totalFeeUSD:r})=>U.default.createElement("div",{className:H.transactionDetailBox},U.default.createElement("div",{className:H.transactionAccelerationDetails},U.default.createElement("p",{className:H.transactionDetailRow},n?U.default.createElement(_e,{title:s("extension_defi_popup_tooltips_feerate_before_speedup"),placement:_e.DIRECTION.topLeft,arrowAlignBoundary:!0},U.default.createElement("span",{className:(0,nt.default)(H.transactionDetailLabel,H.textUnderline)},s("extension_defi_toast_item_current_fee_rate"))):U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_current_fee_rate")),U.default.createElement("span",{className:H.transactionDetailValue},`${e} sats/vb`)),U.default.createElement("p",{className:H.transactionDetailRow},U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_speedup_rate")),U.default.createElement("span",{className:H.transactionDetailValue},`${t} sats/vb`)),U.default.createElement("p",{className:H.transactionDetailRow},U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_txn_size")),U.default.createElement("span",{className:H.transactionDetailValue},`${i}vb`)),n?U.default.createElement("p",{className:H.transactionDetailRow},U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_ancestor_txn")),U.default.createElement("span",{className:H.transactionDetailValue},`${n}vb`)):null,U.default.createElement("div",{className:H.transactionDetailRow},n?U.default.createElement(_e,{title:s("extension_defi_popup_tooltips_desc_total_fee_meaning")},U.default.createElement("span",{className:(0,nt.default)(H.transactionDetailLabel,H.textUnderline)},s("extension_defi_toast_item_total_fee"))):U.default.createElement("span",{className:(0,nt.default)(H.transactionDetailLabel)},s("extension_defi_toast_item_total_fee")),U.default.createElement("p",{className:(0,nt.default)(H.transactionDetailValue,H.transactionDetailFiatValue)},mo(a)," ~ ",r))),U.default.createElement("p",{className:H.transactionAccelerationFooter},s("extension_defi_toast_desc_0service_fee"))),$s=({tx:e,feeInfo:t,visible:i,networkError:n,onClose:a,onConfirm:r,onRetry:c})=>{let{currencyPrice:m,currencySymbol:f}=Ti(e.mainCoinId),p=`${f}${Go(Et(mo(t.totalFee),m),2)}`;return U.default.createElement(Bi,{visible:i,error:n,onClose:a,onConfirm:r,title:s("extension_defi_toast_title_speedup_txn"),headerTitle:ko("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:U.default.createElement(_e,{title:s("extension_defi_popup_tooltips_cpfp_meaning")},U.default.createElement("span",{className:(0,nt.default)(H.transactionAccelerationSubtitle,H.textUnderline)},`${s("extension_defi_toast_subtitle_using_cpfp")}`))}),content:U.default.createElement(Vs,{...t,totalFeeUSD:p}),errContent:U.default.createElement(fo.State,{title:s("extension_defi_toast_title_internet_error"),type:fo.State.TYPE.noNetwork,description:s("extension_defi_toast_subtitle_cant_get_fee"),buttonText:s("extension_defi_toast_btn_retry"),onButtonClick:()=>{c&&c()},className:H.emptyState}),confirmText:s("wallet_extension_btn_general_confirm")})},Wi=$s;l();_();var te=u(A()),Zi=u(ye());G();po();var Ws=(e,t)=>{let{address:i,mainCoinId:n,txHash:a,txId:r,btcSpeedUpInfo:c}=e,m=c?.cpfpSpeedUpUtxo?.[0].address||i,f=400002,[p,d]=(0,te.useState)(!1),[I,N]=(0,te.useState)(!1),[h,w]=(0,te.useState)(!1),[E,C]=(0,te.useState)(!1),[k,L]=(0,te.useState)(!1),[V,b]=(0,te.useState)({}),[B,ne]=(0,te.useState)({}),[W,q,ze,xe,Re]=gi({...e,address:m}),O=(0,Zi.useSelector)(bt),{currencyId:y}=O,v=Ei({address:i,coinId:n,currencyId:y,doubleConfirmSource:wi.ACCELERATE});(0,te.useEffect)(()=>{(async()=>{if(W&&q?.expectedFeeRate){let[Te,Ee,,ct]=await xe(W,q);(Te||Ee)&&b({...q,totalFee:yt(Number(q.increaseFee)+ct)})}})()},[q,W,xe]);let g=(0,te.useCallback)((me,Te)=>{if(Te==="init")if(me.msg){let Ee=he.tip({title:s("extension_biz_title_speed_up_failed"),confirmText:s("commonall_text_btn_ok_active"),children:te.default.createElement("div",null,me.msg),onConfirm:()=>{t(r),Ee.destroy()}})}else N(!0),d(!0);else{if(me?.code===f){pe.error({title:s("extension_defi_top_toast_speedup_fail")}),t(r);return}if(me?.code===Li.BALANCE_NOT_ENOUGH){xt({accelerate_status:"utxo_fail"}),pe.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}xt({accelerate_status:"other_fail"}),w(!0)}},[]),D=(0,te.useCallback)(async()=>{if(!E){try{if(Re)throw Re;C(!0);let[me,Te,,Ee]=await xe(W,q);if(me||Te)b({...q,totalFee:yt(Number(q.increaseFee)+Ee)});else{pe.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}d(!0),N(!1),w(!1)}catch(me){g(me,"init")}C(!1)}},[Re,W,q,g,E,xe]),R=ai()?.find(me=>me.coinId===n)?.localType,K=yi({coinId:n,fromAddr:m,toAddr:m,outputs:[{address:m,amount:B.sendAmountInt}],networkFee:B.networkFeeInt,localType:R,dustSize:B.totalInput,satBytes:q.expectedFeeRate,coinAmount:B.sendAmountInt,extraPublishParams:{coinAmount:B.sendAmountInt,txType:o.TRANS_OUT}});(0,te.useEffect)(()=>{(async()=>{try{let{confirm:Te,utxoList:Ee}=B;Te&&(await K({utxoList:Ee}),pe.success(s("extension_defi_top_toast_speedup_success")),xt({accelerate_status:"success"}),t(r))}catch{pe.error({title:s("extension_defi_top_toast_speedup_fail")})}})()},[B]);let de=(0,te.useCallback)(async()=>{if(k)return;if(L(!0),await Ii())try{let[Te,Ee,ct,Fs]=await xe(W,q);if(!Te&&!Ee){pe.error({title:s("extension_defi_top_text_insufficient_utxo_pay")}),xt({accelerate_status:"utxo_fail"}),L(!1);return}try{await v(ct)}catch{L(!1);return}let Lo=ct.reduce((Rs,Os)=>Rs+Os.coinAmount,0),Bo=yt(Fs,Number(q.increaseFee)),Fo=Number(qo(Lo,Bo));Ee&&(Fo=ze),ne({totalInput:Lo,sendAmountInt:Fo,networkFeeInt:Bo,utxoList:ct,confirm:!0}),N(!1),w(!1),L(!1),d(!1)}catch(Te){g(Te,"confirm"),L(!1)}},[W,q,a]),ao=(0,te.useCallback)(async()=>{I&&D(),h&&de()},[D,h,I,de]);return{isFetchingTxFee:E,btcSpeedUpHandle:D,isBTCSpeedUpDialogVisible:p,displayFee:V,isFetchBTCFeeInfoNetworkError:I,isConfirmAccelerateError:h,onConfirmAccelerateBTCTX:de,setIsBTCSpeedUpDialogVisible:d,onRetryBtcSpeedUp:ao}},Yi=Ws;function Zs({data:e,onRefresh:t}){let{isFetchingTxFee:i,btcSpeedUpHandle:n,isBTCSpeedUpDialogVisible:a,displayFee:r,isFetchBTCFeeInfoNetworkError:c,isConfirmAccelerateError:m,onConfirmAccelerateBTCTX:f,setIsBTCSpeedUpDialogVisible:p,onRetryBtcSpeedUp:d}=Yi(e,t);return Nt.default.createElement(Nt.default.Fragment,null,Nt.default.createElement(ot,{isLoading:i,canAccelerateBtcTx:!0,onBtcSpeedUp:n}),a&&Nt.default.createElement(Wi,{tx:e,feeInfo:r,networkError:c||m,visible:a,onConfirm:async()=>{await f()},onClose:()=>{p(!1)},onRetry:d}))}var Ki=Zs;function Ys({data:e,onRefresh:t}){let{from:i,coinId:n,txStatus:a,isShowSpeedUp:r,isShowCancel:c,isShowSpeedupCancel:m,mainCoinId:f,showCloseTransaction:p,showTxRepeatBroadcast:d}=e,I=Rt(n),[N,h]=(0,ie.useState)(!1),[w,E]=(0,ie.useState)(!1),C=Qo(f),k=ei(f),L=C&&a===S.PENDING,V=k&&a===S.PENDING,b=p||d,[B]=(0,ie.useState)(k&&r);(0,ie.useEffect)(()=>{fi({button_appear:B?"yes":"no"})},[B]);let[ne,W]=Ni({coinId:n,address:i,chainId:I?.chainId},{ready:L});return ie.default.createElement("div",{className:"tx-detail-action"},L&&ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(ot,{isShowCancel:c,isShowSpeedUp:r&&C,isShowSpeedupCancel:m,onCancel:()=>{h(!0)},onSpeedUp:()=>{E(!0)}}),N&&ie.default.createElement(Fi,{tx:e,signInfo:W,visible:N,onConfirm:q=>{t(q),h(!1)},onClose:()=>{h(!1)}}),w&&ie.default.createElement(Ri,{tx:e,loading:ne,signInfo:W,visible:w,onConfirm:q=>{t(q),E(!1)},onClose:()=>{E(!1)}})),V&&ie.default.createElement(ie.default.Fragment,null,b&&ie.default.createElement($i,{data:e,onRefresh:t}),B&&ie.default.createElement(Ki,{data:e,onRefresh:t})))}var ji=Ys;l();_();var ee=u(A()),Yt=u(Pe()),Ln=u(Ho());l();_();var Y=u(A()),tn=u(Pe());G();l();_();var Zt=u(A());G();l();_();var zi=u(A()),Xi=u(Jo());G();jo();zo();Zo();var Ks=e=>{let{coinId:t}=e||{},i=(0,zi.useRef)(!1),n=ni();return(0,Xi.useMemoizedFn)(async()=>{try{if(i.current===!0||!t)return;i.current=!0;let a=await Qe().getUserUniqueId(),r={coinId:t,accountId:n,userUniqueId:a},m={headers:await Qe().getSignRequestHeaders({walletId:n})},[f]=await Promise.all([mi({coinId:t}),dt(pt.postAddCoin,r,m)]);await oi(f),pe.success(s("wallet_extension_customtoken_notification_title_token_added"))}catch{pe.error(s("wallet_home_toast_network_error"))}finally{i.current=!1}})},Ji=Ks;l();_();var Qi={root:"_root_4qsur_1"};function js({coinId:e,hideTxType:t}){let i=vi(),n=(0,Zt.useMemo)(()=>!i||!e||!!i.some(r=>(r?.childrenCoin||[]).some(c=>c.coinId===e)||r.coinId===e),[e,i]),a=Ji({coinId:e});return n||t===Mt.RISKY?null:Zt.default.createElement(Xo.IconButton,{className:Qi.root,icon:"okx-wallet-plugin-add",tooltip:{title:s("wallet_extension_customtoken_tooltips_add_token"),placement:_e.DIRECTION.topLeft},onClick:a})}var en=js;l();_();var T={"retina-border-basic":"_retina-border-basic_1qsyv_1",retinaBorderBasic:"_retina-border-basic_1qsyv_1","coin-flow":"_coin-flow_1qsyv_29",coinFlow:"_coin-flow_1qsyv_29","coin-flow__include":"_coin-flow__include_1qsyv_35",coinFlowInclude:"_coin-flow__include_1qsyv_35","coin-flow__include-title":"_coin-flow__include-title_1qsyv_42",coinFlowIncludeTitle:"_coin-flow__include-title_1qsyv_42","coin-flow__include-item":"_coin-flow__include-item_1qsyv_49",coinFlowIncludeItem:"_coin-flow__include-item_1qsyv_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1qsyv_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1qsyv_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1qsyv_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1qsyv_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1qsyv_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1qsyv_70","coin-flow__protocol":"_coin-flow__protocol_1qsyv_74",coinFlowProtocol:"_coin-flow__protocol_1qsyv_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1qsyv_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1qsyv_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1qsyv_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1qsyv_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1qsyv_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1qsyv_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1qsyv_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1qsyv_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1qsyv_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1qsyv_109","coin-flow__mul-icons__top-right":"_coin-flow__mul-icons__top-right_1qsyv_113",coinFlowMulIconsTopRight:"_coin-flow__mul-icons__top-right_1qsyv_113","coin-flow__mul-icons__bottom-right":"_coin-flow__mul-icons__bottom-right_1qsyv_117",coinFlowMulIconsBottomRight:"_coin-flow__mul-icons__bottom-right_1qsyv_117","coin-flow__hidden-label":"_coin-flow__hidden-label_1qsyv_121",coinFlowHiddenLabel:"_coin-flow__hidden-label_1qsyv_121","coin-flow__label-text":"_coin-flow__label-text_1qsyv_121",coinFlowLabelText:"_coin-flow__label-text_1qsyv_121","coin-flow__label":"_coin-flow__label_1qsyv_121",coinFlowLabel:"_coin-flow__label_1qsyv_121","coin-flow__label__overflow":"_coin-flow__label__overflow_1qsyv_133",coinFlowLabelOverflow:"_coin-flow__label__overflow_1qsyv_133","coin-flow__label__expand":"_coin-flow__label__expand_1qsyv_136",coinFlowLabelExpand:"_coin-flow__label__expand_1qsyv_136","coin-flow__receive":"_coin-flow__receive_1qsyv_149",coinFlowReceive:"_coin-flow__receive_1qsyv_149","coin-flow__record-title":"_coin-flow__record-title_1qsyv_149",coinFlowRecordTitle:"_coin-flow__record-title_1qsyv_149","coin-flow__record":"_coin-flow__record_1qsyv_149",coinFlowRecord:"_coin-flow__record_1qsyv_149","coin-flow__record-left-box":"_coin-flow__record-left-box_1qsyv_160",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1qsyv_160","coin-flow__record-title-box":"_coin-flow__record-title-box_1qsyv_166",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1qsyv_166","coin-flow__tool-tip":"_coin-flow__tool-tip_1qsyv_172",coinFlowToolTip:"_coin-flow__tool-tip_1qsyv_172","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1qsyv_176",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1qsyv_176","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1qsyv_180",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1qsyv_180","protocol-margin":"_protocol-margin_1qsyv_196",protocolMargin:"_protocol-margin_1qsyv_196","coin-flow__record-icon":"_coin-flow__record-icon_1qsyv_201",coinFlowRecordIcon:"_coin-flow__record-icon_1qsyv_201","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1qsyv_209",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1qsyv_209","coin-flow__record-icon__mul-icons-wrap":"_coin-flow__record-icon__mul-icons-wrap_1qsyv_212",coinFlowRecordIconMulIconsWrap:"_coin-flow__record-icon__mul-icons-wrap_1qsyv_212","coin-flow__record-right-box":"_coin-flow__record-right-box_1qsyv_229",coinFlowRecordRightBox:"_coin-flow__record-right-box_1qsyv_229","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1qsyv_234",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1qsyv_234","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1qsyv_238",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1qsyv_238","coin-flow__record__plus":"_coin-flow__record__plus_1qsyv_245",coinFlowRecordPlus:"_coin-flow__record__plus_1qsyv_245","coin-flow__pointer":"_coin-flow__pointer_1qsyv_250",coinFlowPointer:"_coin-flow__pointer_1qsyv_250","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1qsyv_253",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1qsyv_253","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1qsyv_259",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1qsyv_259","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1qsyv_269",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1qsyv_269","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1qsyv_275",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1qsyv_275","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1qsyv_281",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1qsyv_281","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1qsyv_292",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1qsyv_292","coin-flow__claim":"_coin-flow__claim_1qsyv_297",coinFlowClaim:"_coin-flow__claim_1qsyv_297","coin-flow__claim__icon":"_coin-flow__claim__icon_1qsyv_301",coinFlowClaimIcon:"_coin-flow__claim__icon_1qsyv_301","coin-flow__claim-info":"_coin-flow__claim-info_1qsyv_304",coinFlowClaimInfo:"_coin-flow__claim-info_1qsyv_304",flowRightToken:"_flowRightToken_1qsyv_346",flowRightApply:"_flowRightApply_1qsyv_351"};var zs=(e,t)=>{!e||globalThis.platform.openTab({url:`https://${t}/${e}`})},Xs=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=15?"18px":t<=17?"16px":t<=19?"14px":(t<=22,"12px")};function Js(e){e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=13?"32px":t===14?"30px":t===15?"28px":t===16?"26px":t===17?"24px":t<=19?"22px":t<=21?"20px":t<=23?"18px":t<=26?"16px":t<=30?"14px":"12px"}function Qs({recordData:e,isNFT:t,icon:i,title:n,subTitle:a,right:r,autoWidth:c,jumpInfo:m,hasPlus:f,isNewInclude:p,addCustomCoin:d}){let I=ii(),N=St(),h=typeof i=="string"?Y.default.createElement(Ci,{isNFT:t,className:(0,tn.default)({}),src:i,alt:""}):i;return p?Y.default.createElement("div",{className:`${p?T["coin-flow__protocol"]:T["coin-flow__include"]}`},Y.default.createElement("div",{className:`${T["coin-flow__include-title"]}`},s("extension_defi_card_text_include_assets")),(e?.items||[]).map(w=>Y.default.createElement("div",{className:`${T["coin-flow__include-item"]}`},Y.default.createElement("img",{className:`${T["coin-flow__include-item-icon"]}`,alt:"",src:w.icon}),Y.default.createElement(et.AdaptiveText,{className:`${T["coin-flow__include-item-token"]}`,text:w.title,ellipsis:{tooltip:!0},autoSize:Xs},w.title),w.right))):Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("div",{className:`${T["coin-flow__record"]} ${m?T["coin-flow__pointer"]:""}`,onClick:()=>{zs(m,I)}},Y.default.createElement("div",{className:T["coin-flow__record-icon"]},h),Y.default.createElement("div",{className:T["coin-flow__record-left-box--middle"]},Y.default.createElement("div",{className:r?T["coin-flow__record-left-box--has-right"]:T["coin-flow__record-left-box"]},Y.default.createElement("div",{className:`${c?T["protocol-margin"]:T["coin-flow__record-title-box"]}`},!r||c?Y.default.createElement(et.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:Js},n):Y.default.createElement(et.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${T["coin-flow__record-title"]}`},n),a&&Y.default.createElement("div",{className:T["coin-flow__record-sub-title"]},a)),r&&Y.default.createElement("div",{className:`${T["coin-flow__record-right-box"]} ${c?"":T["coin-flow__record-halfwidth"]}`},r))),d&&Y.default.createElement(en,{...d}),m&&Y.default.createElement("img",{className:T["coin-flow__record-jumpInfo-box"],src:`${N}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),f&&Y.default.createElement(ke,{className:`${T["coin-flow__record__plus"]} okds-plus`}))}var Ct=Qs;l();_();var Q=u(A()),Co=u(Pe());G();l();_();var Ze=u(A());function er({logo:e}){let{middleLogo:t,bottomRightLogo:i,topRightLogo:n}=e||{},a=i&&i.length>0,r=n&&n.length>0;return Ze.default.createElement(Ze.default.Fragment,null,Ze.default.createElement(kt,{srcset:t&&t.length>0?t:[Ne],topRightLogo:n,bottomRightLogo:i}),(r||a)&&Ze.default.createElement("div",{className:T["coin-flow__record-icon__mul-icons-wrap"]},r&&Ze.default.createElement(kt,{className:T["coin-flow__mul-icons__top-right"],size:"small",srcset:n}),a&&Ze.default.createElement(kt,{className:T["coin-flow__mul-icons__bottom-right"],size:"small",srcset:i})))}var st=er;l();_();var Se=(e,t)=>e?t?`+ ${J(e,{symbol:t})}`:`+ ${J(e)}`:"--",Ye=(e,t)=>e?t?`- ${J(e,{symbol:t})}`:`- ${J(e)}`:"--";var{NFT_AUTHORIZATION:on,NFT_CANCEL_AUTHORIZATION:nn,CANCEL_NFT:Io,AUTHORIZATION:sn,CANCEL_AUTHORIZATION:rn,REGISTRATION:tr,DAPP_APPLY:ln,DAPP_REDEEM:_n,DAPP_CLAIM:an,BRC20_TRADE:cn,BRC20_SEND:mn,BRC20_RECEIVE:dn,BRC20_MINT:pn,BRC20_INSCRIBE:fn,BRC20_DEPLOY:un,BRC30_TRADE:or,EARN_BRC30_APPLY:xn,EARN_BRC30_REDEEM:Tn,EARN_BRC30_CLAIM:Nn,EARN_BRC30_DEPLOY:ir,BRC30_SEND:Cn,BRC30_RECEIVE:In,BRC30_INSCRIBE:gn,ORDINAL_NFT:wn,ORDINAL_TEXT:En,MINT_NFT:nr,BTC_NFT_BULK_RECEIVE:sr,BTC_NFT_BULK_SEND:rr,BTC_NFT_BULK_TRADE:lr,DEFI_MINT:_r,DEFI_REPAY:ar,RUNES_ETCH:yn,RUNES_SWEEP:hn}=o,cr="/static/images/tx-history/default-nft-detail.svg";function mr(e){return e?cr:Ne}var Ge={[sn]:"wallet_extension_header_approval_title_for",[rn]:"wallet_extension_header_approval_title_for",[Io]:"wallet_extension_text_cancel_listing_on",[on]:"wallet_extension_approve_text_for",[nn]:"wallet_extension_approve_text_for",[ln]:"wallet_extension_subtitle_into",[_n]:"wallet_extension_subtitle_receive",[an]:"wallet_extension_subtitle_from",[Tn]:"wallet_extension_subtitle_receive",[xn]:"wallet_extension_subtitle_into",[Nn]:"wallet_extension_subtitle_receive",[gn]:"wallet_extension_header_redeem_title_reveive",[fn]:"wallet_extension_header_redeem_title_reveive",[In]:"extension_wallet_details_text_include",[dn]:"extension_wallet_details_text_include",[wn]:"extension_wallet_details_text_receive",[En]:"extension_wallet_details_text_receive",[un]:"extension_wallet_details_text_receive",[pn]:"extension_wallet_details_text_receive",[Cn]:"extension_wallet_details_text_include",[mn]:"extension_wallet_details_text_include",[cn]:"extension_wallet_details_text_receive",[yn]:"extension_wallet_details_text_receive",[hn]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},dr="/static/images/tx-history/default-protocol.svg",It="/static/images/tx-history/default-brcnft.svg";function pr(e){let t=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,Q.useMemo)(()=>{let{txType:a,input:r,include:c,investTxData:m,contractInfo:f,output:p,hideTxType:d}=e,{investInfo:I,investOutCoins:N}=m??{},h=()=>!r||!r.length?null:{label:s("wallet_extension_header_redeem_title_reveive"),items:r.map(({name:y,amount:v,icon:g,nftId:D,protocolName:P,coinId:R})=>(g=g||mr(D),{isNFT:!!D,icon:g,title:Se(v,y),right:P?Q.default.createElement(fe,{className:T.protocol,size:$e.SIZE.sm},P):null,autoWidth:!!P,addCustomCoin:{coinId:R,hideTxType:d}})),className:"coin-flow__receive"},w=()=>m?{label:s("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:m?.investInfo?.investLogo?.middleLogo[0]||Ne,title:m?.investInfo?.investName,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},m?.investInfo?.poolId?`ID: ${m?.investInfo?.poolId}`:"")}]}:null,E=()=>r&&r.length>0?{label:s(Ge[e.txType]),items:r.map(({name:y,amount:v,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R,protocolName:K})=>(g=g||It,{isNFT:!!D||P||R,icon:g,title:Se(v,y),right:K?Q.default.createElement(fe,{className:T.protocol,size:$e.SIZE.sm},K):null,autoWidth:!!K})),className:"coin-flow__receive"}:null,C=()=>c?.length?{isNewInclude:!0,items:(c||[]).map(({name:y,amount:v,icon:g,vdecimalNum:D,nftId:P,brc20Coin:R,brc20sCoin:K,protocolName:de})=>({isNFT:!!P||R||K,icon:g||It,title:`- ${xo(v,{fixed:D})} ${y}`,right:de?Q.default.createElement(fe,{className:T.protocol,size:$e.SIZE.sm},de):null,autoWidth:!!de}))}:null,k=()=>({items:(p||[]).map(({name:y,amount:v,icon:g,vdecimalNum:D,nftId:P,brc20Coin:R,brc20sCoin:K})=>({isNFT:!!P||R||K,icon:g||It,title:`- ${xo(v,{fixed:D})} ${y}`}))}),L=()=>r&&r.length>0?{items:(r||[]).map(({name:y,amount:v,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R})=>({isNFT:!!D||P||R,icon:g||It,title:`+ ${J(v,{symbol:y})}`}))}:null,V=()=>({label:s(Ge[e.txType]),items:[{icon:f?.icon||dr,title:f?.name||i,subTitle:e.txType!==Io&&f?.address&&Q.default.createElement(tt,{className:T["coin-flow__record-address"],label:j(f.address),value:f.address,message:s("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),b=()=>{let{investName:y,investLogo:v,poolId:g}=I||{},D;return{isNFT:!0,label:s(Ge[e.txType]),items:[{icon:Q.default.createElement(st,{logo:v}),title:y??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},g?`ID: ${g}`:""),right:D}]}},B=()=>{let{investName:y,platformName:v,investLogo:g}=I||{},D,P="",R="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===Ce.FARM_OTHER_TOKEN&&(P=T.flowRightToken,R=T.flowRightApply),(e.investTxData.investmentDetailType===Ce.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===Ce.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===Ce.FARM_OTHER_TOKEN)&&N&&N.length>0){let[{tokenName:K,num:de}]=N;D=Q.default.createElement("div",{className:(0,Co.default)(T["coin-flow__invest-apply-right"],R)},Q.default.createElement("div",{className:T["coin-flow__invest-apply-num"]},Q.default.createElement(Tt,{text:J(de),maxWidth:"85px"})),Q.default.createElement("div",{className:(0,Co.default)(T["coin-flow__invest-apply-token"],P)},K))}return{label:s(Ge[e.txType]),items:[{icon:Q.default.createElement(st,{logo:g}),title:y??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},v??i),right:D}]}},ne=()=>({label:s(Ge[e.txType]),items:(m.investInCoins||[]).map(({tokenName:v,num:g,tokenLogo:D})=>(g=Se(g),{icon:D??t,title:`${g} ${v}`})),className:"coin-flow__receive"}),W=()=>!N||N?.length===0?null:{label:s(Ge[e.txType]),items:(N||[]).map(({tokenName:y,num:v,tokenLogo:g,tokenId:D})=>{let P=Se(v),R=e.txStatus===S.SUCCESS&&D,K=R?`${P} ${y} #${R}`:`${P} ${y}`;return{icon:g,title:K}}),className:"coin-flow__receive"},q=()=>{let y=s(Ge[e.txType]);return m?{isNFT:!0,label:y,items:(m.investInCoins||[]).map(({tokenName:v,num:g,tokenLogo:D})=>(g=Se(g),{icon:D??t,title:`${g} ${v}`})),className:"coin-flow__receive"}:null},ze=()=>{let{platformName:y,investLogo:v,investName:g}=I||{};return{label:s(Ge[e.txType]),items:[{icon:Q.default.createElement(st,{logo:v}),title:g??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},y??i)}]}},xe=()=>c&&c.length>0?{isNewInclude:!0,items:(c||[]).map(({name:y,amount:v,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R,protocolName:K})=>({isNFT:!!D||P||R,icon:g||It,title:`+ ${J(v,{symbol:y})}`,right:K?Q.default.createElement(fe,{className:T.protocol,size:$e.SIZE.sm},K):null,autoWidth:!!K,includeAssets:c}))}:null,Re=()=>null,O={[ir]:w,[gn]:E,[fn]:E,[wn]:E,[En]:E,[un]:E,[pn]:E,[yn]:E,[hn]:E,[In]:xe,[dn]:xe,[or]:E,[cn]:E,[Cn]:C,[mn]:C,[on]:V,[nn]:V,[rn]:V,[sn]:V,[Io]:V,[xn]:b,[ln]:B,[Tn]:ne,[_n]:W,[Nn]:q,[an]:ze,[tr]:Re,[nr]:h,[rr]:k,[sr]:L,[lr]:E,[_r]:W,[ar]:B};return O[a]?O[a]():n.includes(a)?h():null},[e])}var vn=pr;l();_();var oe=u(A()),rt=u(Pe());G();var bn="/static/images/tx-history/default-nft-detail.svg",fr="/static/images/tx-history/default-nft.svg",An="/static/images/tx-history/default-brcnft.svg";function Dn(e){return e?bn:Ne}var ve={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function ur(e){let t=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol");return(0,oe.useMemo)(()=>{let{txType:n,txStatus:a,approveInfo:r,input:c,output:m,investTxData:f,poolId:p}=e,{investInCoins:d}=e.investTxData||{},I=Object.values(o),N=()=>m&&m.length>0?{label:s(ve[n]),items:(m||[]).map(({name:O,amount:y,icon:v,nftId:g,brc20Coin:D,brc20sCoin:P,protocolName:R})=>({isNFT:!!g||D||P,icon:v||An,title:Ye(y,O),right:R?oe.default.createElement(fe,{className:T.protocol,size:$e.SIZE.sm},R):null,autoWidth:!!R}))}:null,h=()=>!c||!c?.length?null:{label:s("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(c||[]).map(({name:O,amount:y,icon:v,nftId:g,brc20Coin:D,brc20sCoin:P,protocolName:R})=>({isNFT:!!g||D||P,icon:v||An,title:Se(y,O),right:R?oe.default.createElement("div",{className:(0,rt.default)(T.protocol)},R):null,autoWidth:!!R}))},w=()=>({label:s(ve[n]),items:[{icon:r?.icon||Ne,title:r?.name||t}]}),E=()=>({label:s(ve[n]),items:[{icon:r?.nftCollectionIcon||fr,title:r?.nftCollectionName||s("wallet_extension_title_approve_nft_collection")}]}),C=()=>({label:s(ve[n]),items:(m||[]).map(({nftId:O,icon:y,name:v})=>({isNFT:!!O,icon:y||bn,title:v||s("wallet_extension_title_approve_nft")}))}),k=()=>{let{registerInfo:O}=e;return O?{label:"",items:[{icon:O?.icon||Ne,title:O?.name||t}],title:s("wallet_extension_title_approve_nft")}:null},L=()=>({label:s(ve[n]),items:(d||[]).map(({tokenName:O,num:y,tokenLogo:v})=>(y=Ye(y),{icon:v??t,title:`${y} ${O}`}))}),V=()=>({label:s(ve[n]),items:(d||[]).map(({tokenName:O,num:y,tokenLogo:v})=>(y=Ye(y),{icon:v??t,title:`${y} ${O}`}))}),b=()=>{let{investInfo:O,redeemShowNum:y}=e.investTxData||{},{investName:v,platformName:g,investLogo:D}=O||{},P=null,R="",K="";if(!e.investTxData)return null;let de=e.investTxData.investmentDetailType;if((de==Ce.FARM_LP_TOKEN||de==Ce.FARM_OTHER_TOKEN)&&(R=T.flowRightToken,K=T.flowRightApply),y&&d&&d.length){let ao=Ye(d[0]?.num);P=oe.default.createElement("div",{className:(0,rt.default)(T["coin-flow__invest-apply-right"],K)},oe.default.createElement("div",{className:T["coin-flow__invest-apply-num"]},oe.default.createElement(et.Text,{ellipsis:{tooltip:!0},className:T["coin-flow__invest-apply-num__tooltip"]},ao)),oe.default.createElement("div",{className:(0,rt.default)(T["coin-flow__invest-apply-token"],R)},d[0]?.tokenName))}return{label:s(ve[n]),items:[{icon:oe.default.createElement(st,{logo:D}),title:v??t,right:P,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},g??i)}]}},B=()=>f?{label:s(ve[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||Ne,title:f.investInfo.investName,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},f.investInfo.poolId?`ID: ${f.investInfo.poolId}`:"")}]}:null,ne=()=>f?{label:s(ve[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||Ne,title:f.investInfo.investName,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},p?`ID: ${p}`:"")}]}:null,W=()=>{let O;return a===S.PENDING?O=oe.default.createElement("div",{className:T["coin-flow__claim"]},s("wallet_extension_subtitle_claimwith"),oe.default.createElement(_e,{title:s("wallet_extension_card_ntfy_claim_text"),placement:_e.DIRECTION.bottomLeft},oe.default.createElement("span",{className:`okds-information-circle ${T["coin-flow__claim__icon"]}`}))):O=s(ve[n]),{label:O,items:(d||[]).map(({tokenName:y,num:v,tokenLogo:g})=>(v=Se(v),{icon:g??t,title:`${v} ${y}`,className:"coin-flow__receive"}))}},q=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:O,amount:y,icon:v,nftId:g,protocolName:D,include:P})=>({isNFT:!!g,icon:v||Dn(g),title:Ye(y,O),right:D?oe.default.createElement("div",{className:(0,rt.default)(T.protocol)},D):null,autoWidth:!!D,includeAssets:P}))}:null,ze=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:O,amount:y,icon:v,nftId:g,protocolName:D})=>({isNFT:!!g,icon:v||Dn(g),title:Ye(y,O),right:D?oe.default.createElement("div",{className:(0,rt.default)(T.protocol)},D):null,autoWidth:!!D}))}:null,xe=()=>null,Re={[o.BRC30_INSCRIBE]:N,[o.BRC20_INSCRIBE]:N,[o.BRC20_DEPLOY]:N,[o.ORDINAL_NFT]:N,[o.ORDINAL_TEXT]:N,[o.BRC20_MINT]:N,[o.BRC20_TRADE]:N,[o.BRC30_TRADE]:N,[o.BRC20_RECEIVE]:h,[o.BRC30_RECEIVE]:h,[o.RUNES_SWEEP]:N,[o.CANCEL_AUTHORIZATION]:w,[o.AUTHORIZATION]:w,[o.NFT_CANCEL_AUTHORIZATION]:E,[o.NFT_AUTHORIZATION]:E,[o.CANCEL_NFT]:C,[o.REGISTRATION]:k,[o.EARN_BRC30_APPLY]:L,[o.DAPP_APPLY]:V,[o.EARN_BRC30_REDEEM]:B,[o.DAPP_REDEEM]:b,[o.EARN_BRC30_CLAIM]:ne,[o.DAPP_CLAIM]:W,[o.BTC_NFT_BULK_SEND]:xe,[o.BTC_NFT_BULK_RECEIVE]:xe,[o.BRC20_SEND]:q,[o.BRC30_SEND]:q,[o.DEFI_MINT]:b,[o.DEFI_REPAY]:V,default:ze};return Re[n]?Re[n]():I.includes(n)?ze():null},[e])}var Sn=ur;function go({className:e,label:t,children:i}){return ee.default.createElement("div",{className:(0,Yt.default)(t?T["coin-flow__label"]:"",e)},ee.default.createElement("div",{className:T["coin-flow__label-text"]},t),ee.default.createElement("div",null,i))}function xr({className:e,label:t,children:i,isExpand:n,setExpand:a}){return ee.default.createElement("div",{className:(0,Yt.default)(t?T["coin-flow__label__overflow"]:"",e)},ee.default.createElement("div",{className:T["coin-flow__label-text"]},t),ee.default.createElement("div",null,n?i:i.slice(0,2)),ee.default.createElement(Vt,{className:T["coin-flow__label__expand"],side:n?Vt.SIDE.TOP:Vt.SIDE.BOTTOM,onClick:()=>{a(!n)}}))}function wo({data:e}){let{txType:t}=e,i=Sn(e),n=vn(e),[a,r]=(0,ee.useState)(!1);if(!i&&!n||t===o.CANCEL_NFT&&i.items.length===0)return null;let c=!i||!n,m=f=>{if(!f)return null;let{items:p,label:d,...I}=f,N=e?.investmentPath;return f?.isNewInclude?ee.default.createElement(go,{...I,label:d},ee.default.createElement(Ct,{recordData:f,isNewInclude:f?.isNewInclude})):t===o.DAPP_APPLY||t===o.DAPP_REDEEM?ee.default.createElement(go,{...I,label:d},p.map((h,w)=>ee.default.createElement(Ct,{jumpInfo:h.subTitle?N:void 0,...h,key:w,hasPlus:p.length>=2&&w!==p.length-1,label:d}))):p?.length>2?ee.default.createElement(xr,{...I,label:d,isExpand:a,setExpand:r},p.map((h,w)=>ee.default.createElement(Ct,{...h,key:w}))):ee.default.createElement(go,{...I,label:d},p?.map((h,w)=>ee.default.createElement(Ct,{jumpInfo:h.subTitle?N:void 0,...h,key:w})))};return ee.default.createElement("div",{className:(0,Yt.default)(T["coin-flow"],{[T["coin-flow__hidden-label"]]:c})},m(i),m(n))}var Bn=wo;wo.propTypes={data:Ln.default.object};wo.defaultProps={data:{}};l();_();var le=u(A()),Fn=u(Jo());Xe();G();Ko();l();_();var Ie=u(A());G();l();_();var Kt={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function Tr({address:e,network:t}){let[i,n]=(0,Ie.useState)(!1),[a,r]=(0,Ie.useState)({}),[c,m]=(0,Ie.useState)(""),f=hi(()=>{m(Ht.TYPE.ADD),r({address:e,network:t}),n(!0)}),p=I=>{n(!1),setTimeout(()=>{m(Ht.TYPE.EDIT),r({...I,network:t}),n(!0)})},d=()=>{n(!1),r({}),m("")};return Ie.default.createElement(Ie.default.Fragment,null,Ie.default.createElement("div",{className:Kt["tx-detail-info__add-address"]},Ie.default.createElement(_e,{className:Kt["tx-detail-info__add-address__tooltip"],title:i?null:s("wallet_extension_history_pop_tap_to_add"),type:_e.TYPES.neutral,placement:_e.DIRECTION.bottomRight},Ie.default.createElement(ke,{className:`${Kt["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:f}))),Ie.default.createElement(Ht,{visible:i,type:c,data:a,onClose:d,onChangeToEdit:p}))}var jt=Tr;l();_();var ge={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function Nr(e,t){let i=e||[{address:t}];return[...new Set(i.map(({address:n})=>n))]}function Cr({data:e}){let{inAdrList:t,txType:i,mainCoinId:n,coinId:a,okexAccount:r,txStatus:c}=e,[,m]=Ot(a),p=Ft({coinId:+n})?.localType,[d,I]=le.default.useState(!0),N=Ut(p),h=li(),w=Nr(t,r),E=(0,Fn.useCreation)(()=>w.map(C=>{let k=!1,L;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(L=N(C),k=!L),i===o.REDEEM&&c===S.SUCCESS&&(L={address:C,name:r});let b=Object.values(h).find(W=>!De(W[C]))?.[C],B=b?Pt(s,b,m?.symbol):s("wallet_extension_popup_title_receiving_address_copied"),ne=b?s(At[Dt[b]]):"";return{address:C,canAdd:k,msg:B,tag:ne,tag2:L}}),[t,i,N,h,m,s]);return!E||E.length===0?null:le.default.createElement("div",{className:ge.address},le.default.createElement("div",{className:ge["address-type"]},s("wallet_extension_mid_text_from")),E.map(C=>le.default.createElement(le.default.Fragment,null,le.default.createElement("div",{className:ge["address-content"]},le.default.createElement("div",{className:ge["address-string"]},C.address),le.default.createElement("div",{className:ge["address-right"]},le.default.createElement(tt,{label:C.label,value:C.address,message:C.msg}),C.canAdd&&le.default.createElement(jt,{address:C.address,network:p}))),le.default.createElement("div",{className:ge["address-container"]},C.tag&&le.default.createElement(fe,{className:ge["address-tag"]},C?.tag),C?.tag2?.name&&le.default.createElement(fe,{className:ge["address-tag"]},C?.tag2?.name)))),le.default.createElement("div",{className:d?ge.fold:ge.unfold,onClick:()=>{I(!d)}}))}var Rn=Cr;l();_();var se=u(A());l();_();var On={loaderContainer:"_loaderContainer_1dvk5_1"};var Ir=()=>se.default.createElement(re.Space,{space:54,direction:re.DIRECTION.vertical,className:On.loaderContainer},se.default.createElement(re.Space,{space:30,direction:re.DIRECTION.vertical},se.default.createElement(re.Space,{space:12,direction:re.DIRECTION.vertical},se.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),se.default.createElement(be.Input,{active:!0,style:{width:"178px",height:"32px"}})),se.default.createElement(re.Space,{space:12,direction:re.DIRECTION.vertical},se.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),se.default.createElement(be.Input,{active:!0,style:{width:"178px",height:"32px"}}))),se.default.createElement(re.Space,{space:30,direction:re.DIRECTION.vertical},se.default.createElement(re.Space,{space:12,direction:re.DIRECTION.vertical},se.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),se.default.createElement(be.Input,{active:!0,style:{width:"250px",height:"32px"}})),se.default.createElement(re.Space,{space:12,direction:re.DIRECTION.vertical},se.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),se.default.createElement(be.Input,{active:!0,style:{width:"250px",height:"32px"}})))),Pn=Ir;l();_();var ae=u(A());G();Ko();l();_();var He={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function gr({data:e}){let{to:t,txType:i,contractInfo:n,mainCoinId:a,coinId:r}=e,[,c]=Ot(r),f=Ft({coinId:+a})?.localType,p=Ut(f),d=_i(f),{label:I,toAddress:N,msg:h,tags:w,canAdd:E}=(0,ae.useMemo)(()=>{let C,k,L=!1,V=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.REDEEM||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let W=p(t);L=!W,C=s("wallet_extension_mid_text_to"),W?.name&&V.push(W.name);let q=it(e);q&&V.push(q),k=t}else{let{address:W,name:q}=n||{};C=i===o.REGISTRATION?s("wallet_extension_item_register_address"):s("wallet_extension_mid_text_interaction_address"),V.push(q),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?k=t:k=W}let b=d[k],B=b?s(At[Dt[b]]):"",ne=b?Pt(s,b,c?.symbol):s("wallet_extension_popup_title_receiving_address_copied");return V.unshift(B),{label:C,toAddress:k,tags:V,canAdd:L,msg:ne}},[i,d,p,t,s,n]);return i===o.ZK_REGISTER||!N?null:ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("div",{className:He["address-to"]},ae.default.createElement("div",{className:He["address-type"]},I),ae.default.createElement("div",{className:He["address-content"]},ae.default.createElement("div",{className:He["address-string"]},N),ae.default.createElement("div",{className:He["address-right"]},ae.default.createElement(tt,{value:N,message:h}),E&&ae.default.createElement(jt,{address:N,network:f}))),ae.default.createElement("div",{className:He["address-container"]},w.map(C=>C&&ae.default.createElement(fe,{className:He["tx-clipboard__tag"]},C)))))}var kn=gr;l();_();var $=u(A()),es=u(ye());Xe();G();co();l();_();var Be=u(A()),Un=u(Pe()),gt=u(Ho());G();l();_();var Le={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function Eo({className:e,label:t,value:i,message:n,tag:a,url:r,showExplorerUrl:c}){let[m,f]=Oi(),p=()=>{m||(f(i),$o.success({title:n||s("wallet_receive_toast_address_copied"),desc:Be.default.createElement("div",{className:Le["tx-hash__message"]},i)}))},d=()=>{!c||globalThis.platform.openTab({url:r})};return Be.default.createElement("div",{className:(0,Un.default)(Le["tx-hash"],e)},Be.default.createElement("div",{className:Le["tx-hash__inner"]},Be.default.createElement("div",{className:Le[c?"tx-hash__inner-wrap":""],onClick:d},t,a&&Be.default.createElement("div",{className:Le["tx-hash__tag"]},a)),Be.default.createElement("div",{className:Le["tx-hash__vertical"]}),Be.default.createElement("div",{className:Le["tx-hash__icon"],onClick:p},Be.default.createElement(ke,{className:`okx-wallet-plugin-copy-1 ${Le["okx-wallet-plugin-copy-1"]}`}))))}var zt=Eo;Eo.propTypes={label:gt.default.any,value:gt.default.string,message:gt.default.string,className:gt.default.string};Eo.defaultProps={label:"",value:"",className:"",message:""};l();_();var Xt=u(A());G();function wr(e){let{txType:t,approveInfo:i}=e,{amount:n,decimalNum:a}=i||{},r=(0,Xt.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?s("wallet_extension_mid_text_unlimited"):J(n,{decimals:a}),[n]);return t!==o.AUTHORIZATION?null:Xt.default.createElement(z,{label:s("wallet_extension_mid_text_approved_amount"),value:r})}var Mn=wr;l();_();var qn=u(A());G();co();function Er({txType:e,mainCoinId:t,confirmedCount:i}){return e===o.ZK_REGISTER&&t===mt?null:qn.default.createElement(z,{label:s("wallet_extension_mid_text_block_confirmation"),value:i})}var Gn=Er;l();_();var Jt=u(A());G();l();_();var Hn=u(A());Ps();function yo(){let e=pi(),t=di();return(0,Hn.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;Ro.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:e,coinsMapSize:Object.keys(t??{}).length,coinExisted:i!=null?t?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[e,t])}function yr({mainCoinId:e}){let{coin:t}=Me(e,!1),i=yo();return(0,Jt.useEffect)(()=>{setTimeout(()=>{t?.coinId||i(e)},1500)},[t,e,i]),Jt.default.createElement(z,{label:s("wallet_extension_mid_text_network"),value:t.chainName})}var Vn=yr;l();_();var Qt=u(A()),$n=u(ye());G();co();po();var hr=[mt,Uo];function vr({mainCoinId:e,txStatus:t,feeRebate:i,feeRebateUsd:n,serviceCharge:a,chainSymbol:r,serviceChargeUsd:c,feeName:m,feeDecimalNum:f,txType:p}){let d=hr.includes(e),{coin:I}=Me(e,!1),N=(0,$n.useSelector)(bt),h,w;if(p===o.DAPP_UNISAT||p===o.ZK_REGISTER&&e===mt)return null;d?(h=f,w=m):(h=I.decimals,w=r);let C=J(i||a||0,{symbol:w,decimals:h||0});if(t!==S.PENDING){let k=n||c,{usdToThisRate:L}=N,V=Et(k,L);C+=` (${Wo(V,{useApproximate:!1,symbol:N.symbol})})`}return Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement(z,{label:i?s("wallet_extension_sui_desc_network_fee_refund"):s("wallet_extension_mid_text_network_fee"),value:C}))}var Wn=vr;l();_();var Zn=u(A());G();function Ar({txType:e,investTxData:t}){if(!t||!t.lpTokenInfo||[Ce.FARM_LP_TOKEN,Ce.FARM_OTHER_TOKEN].includes(t?.investmentDetailType))return null;let i;if(e===o.DAPP_APPLY?i="wallet_extension_info_receive":e===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:a}=t.lpTokenInfo;return Zn.default.createElement(z,{label:s(i),value:J(n,{symbol:a})})}var Yn=Ar;l();_();var Xn=u(A());G();l();_();Xe();G();var Dr="okx-wallet-plugin-lock-1",br="okx-wallet-plugin-enrollment",Kn=(e={})=>{let{txType:t,assetChange:i=[],poolLogo:n}=e;if(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION||t===o.DAPP_NFT||t===o.CONTRACTCALL||t===o.CANCEL_NFT||t===o.NFT_CANCEL_AUTHORIZATION)return[e.contractIcon||No(e)];if(t===o.NFT_AUTHORIZATION)return[e.contractIcon||Dr];if(t===o.ZK_REGISTER)return[br];if(t===o.EARN_BRC30_DEPLOY)return[n];let a=i.map(r=>{let{coinImgUrl:c}=r||{};return c||Gi(r,e)});return a.reverse(),a.length===0?[No(e)]:a},eo=(e={})=>{let{txType:t,approveSymbol:i,nftCollectionName:n}=e;return Wt(t,{symbol:i,collection:n},e)};function Sr(e){let t=it(e)||j(e.to);return`${s("wallet_extension_history_list_send_to")}   ${t}`}function Lr(e){let t=j(e.from);return`${s("wallet_extension_history_list_receive_from")}   ${t}`}function Br(e){return e.contractName||j(e.to)}function Fr(e){return j(e.from)}function Rr(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function Or(e){return j(e.from)}function Pr(e){return`${s("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function kr(e){let{contractName:t,contractAddress:i}=e;return t||j(i)||""}function Ur(e,t){return[o.TRANS_OUT,o.SEND_NFT,o.BRC20_SEND,o.BRC20_RECEIVE,o.BRC30_TRADE,o.BRC30_SEND].includes(e)?Sr(t):[o.TRANS_IN,o.RECEIVE_NFT,o.BRC30_RECEIVE].includes(e)?Lr(t):e===o.CANCEL_NFT?Br(t):e===o.ZK_REGISTER?Fr(t):[o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY].includes(e)?Rr(t):e===o.BRC30_INSCRIBE?Or(t):e===o.REDEEM?Pr(t):kr(t)}var jn=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:a}=e,r=Ur(n,e);if(r&&i.push(r),a===S.PENDING){let c=Oe(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(c)}return i},zn=(e={})=>{let{assetChange:t=[],txType:i,repeatTxType:n,coinId:a}=e,{baseCoin:r}=Me(a,!0),c=Bt(r.coinId);return t.map(f=>{let{direction:p,coinAmount:d,coinSymbol:I}=f||{};if(De(d))return null;let N=null;return(d!=="0"||c&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==Z.CANCELING&&n!==Z.SPEEDING_CANCEL)&&(N=J(d)),i===o.CANCEL_NFT?{coinAmount:"",symbol:I}:{direction:p,coinAmount:N,symbol:I}}).filter(Boolean)};function Mr(e){let{txType:t}=e,i=eo(e);return t===o.ZK_REGISTER&&(i=s("wallet_extension_history_text_change_pubkey")),Xn.default.createElement(z,{label:s("wallet_extension_info_text_type"),value:i})}var Jn=Mr;l();_();var Qn={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function qr({memo:e,mainCoinId:t}){return De(e)?null:$.default.createElement(z,{label:t===Mo?s("wallet_extension_import_desc_comment"):s("wallet_extension_text_memocontent"),value:$.default.createElement(Tt,{text:e||"--",maxWidth:"260px"})})}function Gr({mev:e}){return De(e)?null:$.default.createElement(z,{label:s("wallet_extension_ton_order_header_mev"),value:$.default.createElement(Tt,{text:e||"--",maxWidth:"260px"})})}function Hr({data:e}){let t=(0,es.useSelector)(vt),{txTime:i,txHash:n,investTxData:a,txHash1:r,txHash2:c,explorerUrl:m,explorerUrl1:f,explorerUrl2:p,showExplorerUrl:d}=e;return $.default.createElement("div",{className:Qn["tx-detail-info"]},$.default.createElement(z,{label:s("wallet_extension_mid_text_time"),value:Oe(i,{format:"yyyyMMddHHmmss",locale:t})}),$.default.createElement(Jn,{...e}),$.default.createElement(Yn,{...e}),$.default.createElement(Wn,{...e}),$.default.createElement(Vn,{...e}),!r&&n&&$.default.createElement(z,{label:s("wallet_extension_mid_text_transaction_hash"),value:$.default.createElement(zt,{showExplorerUrl:d,label:j(n),value:n,url:m,message:s("wallet_extension_popup_title_transaction_hash_copied")})}),r&&$.default.createElement(z,{label:s("extension_wallet_details_item_transaction_hash1"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(zt,{showExplorerUrl:d,label:j(r),value:r,url:f,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),c&&$.default.createElement(z,{label:s("extension_wallet_details_item_transaction_hash2"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(zt,{showExplorerUrl:d,label:j(c),value:c,url:p,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),$.default.createElement(Gn,{...e}),a?.validateName&&$.default.createElement(z,{label:s("extension_wallet_history_text_validator"),value:j(a?.validateName)}),$.default.createElement(Mn,{...e}),$.default.createElement(Gr,{...e}),$.default.createElement(qr,{...e}))}var ts=Hr;l();_();var Ke={"retina-border-basic":"_retina-border-basic_1m2sh_1",retinaBorderBasic:"_retina-border-basic_1m2sh_1","tx-detail":"_tx-detail_1m2sh_29",txDetail:"_tx-detail_1m2sh_29","metax-ok-navigator":"_metax-ok-navigator_1m2sh_34",metaxOkNavigator:"_metax-ok-navigator_1m2sh_34","tx-detail__inner":"_tx-detail__inner_1m2sh_40",txDetailInner:"_tx-detail__inner_1m2sh_40","tx-detail__underline":"_tx-detail__underline_1m2sh_45",txDetailUnderline:"_tx-detail__underline_1m2sh_45","tx-detail__loading":"_tx-detail__loading_1m2sh_80",txDetailLoading:"_tx-detail__loading_1m2sh_80"};l();_();var je=u(A()),os=u(Pe());G();l();_();var lt={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var Vr={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},$r={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function Wr({className:e,data:t}){if(!t)return je.default.createElement(je.default.Fragment,null);let{txStatus:i,isShowPending:n,repeatTxType:a}=t,r="";i===S.CONFIRMING||i===S.SUCCESS?i===S.SUCCESS&&a===Z.SPEEDING_CANCEL||a===Z.CANCELING?r="tx-detail-canceled":r="tx-detail-completed":i===S.PENDING?(n&&a===Z.CONFIRMING&&(r="tx-detail-pending"),!n&&a===Z.CONFIRMING&&(r="tx-detail-waiting"),a===Z.SPEEDING&&(r="tx-detail-speeding"),a===Z.CANCELING&&(r="tx-detail-canceling"),a===Z.SPEEDING_CANCEL&&(r="tx-detail-speedingcancel")):i===S.ERROR?r="tx-detail-failed":i===S.WITHDRAWING&&(r="tx-detail-withdraw");let c=$r[r]||"";return je.default.createElement("div",{className:(0,os.default)(lt["tx-detail-status"],{[lt["tx-detail-failed"]]:r==="tx-detail-failed"},e)},je.default.createElement(ke,{className:`${lt["tx-detail-icon"]} ${c}`}),!c&&je.default.createElement(Je.Circle,{size:Je.SIZE.md,className:lt["tx-detail-loading"],loaderClassName:lt["tx-detail-loader"]}),je.default.createElement("div",null,s(Vr[r])))}var is=Wr;l();_();function Yr({params:e,onRefresh:t,onClose:i,visible:n}){let a=(0,M.useRef)(""),r=(0,M.useRef)(null),[c,m]=(0,M.useState)(),[f,p]=(0,M.useState)(!1),d=()=>{if(!e)return;let{coinId:w,address:E,orderType:C,orderId:k}=e;p(!0),ci({coinId:w,txId:a.current,address:E,orderType:C,orderId:k}).then(L=>{e&&!Oo(L)&&m({...L,address:E})}).catch(()=>{}).finally(()=>{p(!1)})};(0,M.useEffect)(()=>{e?(a.current=e.txId,d(),r.current=d):(a.current="",m(null))},[e]);let I=()=>{r.current&&a.current&&r.current()},N=ut("wallet-transaction"),h=ut("wallet-tx-confirm",{onError:I,pollingInterval:10*1e3});return(0,M.useEffect)(()=>{(N&&c?.orderTxIdList?.includes(N.data?.txId)||h&&h.data?.txId===a.current&&h.data?.confirmedCount<=h.data?.totalConfirm)&&d()},[N,h]),M.default.createElement(he.Action,{isFull:!0,titleCenter:!0,visible:n,onClose:i,title:c?M.default.createElement(is,{data:c,className:Ke["tx-detail__status"]}):M.default.createElement(M.default.Fragment,null)},M.default.createElement("div",{className:Ke["tx-detail"]},c&&!f&&M.default.createElement(M.default.Fragment,null,M.default.createElement("div",{className:Ke["tx-detail__underline"]}),M.default.createElement(Pi,{message:c.failReason}),M.default.createElement("div",{className:Ke["tx-detail__inner"]},M.default.createElement(Bn,{data:c})," ",M.default.createElement("div",{className:Ke["tx-detail__underline"]}),c&&M.default.createElement(Rn,{data:c}),c&&M.default.createElement(kn,{data:c}),M.default.createElement("div",{className:Ke["tx-detail__underline"]}),M.default.createElement(ts,{data:c}),M.default.createElement(ji,{data:c,onRefresh:w=>{a.current=w,d(),t&&t()}}))),f&&M.default.createElement(Pn,null)))}var ho=Yr;l();_();l();_();var io=u(A());l();_();var Ae=u(A()),ns=u(ye()),ss=u(Vo());l();_();G();function Kr(e,t,i){if(e===S.PENDING&&!t)return s("wallet_extension_history_list_status_waiting");if(e===S.PENDING&&t){if(i===Z.CONFIRMING)return"";if(i===Z.SPEEDING)return s("wallet_extension_send_status_speedingup");if(i===Z.CANCELING)return s("wallet_extension_send_status_canceling");if(i===Z.SPEEDING_CANCEL)return s("wallet_extension_send_status_canceling")}return""}var to=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===S.SUCCESS&&(n===Z.CANCELING||n===Z.SPEEDING_CANCEL)?s("wallet_extension_send_status_canceled"):t===S.CONFIRMING||t===S.SUCCESS?"":t===S.ERROR?s("wallet_extension_history_status_failed"):t===S.WITHDRAWING?s("wallet_extension_status_tag_withdraw"):Kr(t,i,n)},oo=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===S.SUCCESS&&(n===Z.CANCELING||n===Z.SPEEDING_CANCEL)?ft.CANCELED:t===S.CONFIRMING||t===S.SUCCESS?"":t===S.ERROR?ft.FAILED:t===S.PENDING&&!i?ft.WAITING:ft.PENDING};var jr=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,ss.useHistory)(),a=(0,ns.useSelector)(ht),r=Kn(e),c=zn(e),m=eo(e),f=jn(e,a),p=oo(e),d=to(e),I=qi(e),N=Hi(e),h=$t(f,c),w=Ae.default.createElement(F.Label,{className:"tx-history-ml4",type:p,text:d,data:e}),E=e?.dexOrderId;return Ae.default.createElement(F.ItemContainer,{onClick:()=>{E&&n.push(`${Lt}/${e.dexOrderId}`),t()}},Ae.default.createElement(F.Row,{assets:c,align:h},Ae.default.createElement(F.Info,{icons:r,title:m,details:f,label:w,data:e}),Ae.default.createElement(F.Assets,{assets:c,isValuelessNftTxType:N})),I&&Ae.default.createElement(F.NFTs,{data:e}),!E&&Ae.default.createElement(F.Actions,{data:e,onRepeat:i}))},rs=(0,Ae.memo)(jr);var zr=({data:e={},onClick:t,onRepeat:i})=>io.default.createElement(rs,{data:e,onClick:t,onRepeat:i}),_t=(0,io.memo)(zr);l();_();var X=u(A()),wt=u(ye());G();l();_();var vo=u(A()),_s=u(Pe());l();_();var ls={root:"_root_17ca3_1"};function Xr({className:e}){return vo.default.createElement("div",{className:(0,_s.default)(ls.root,e)},vo.default.createElement(Je.Circle,{size:Je.SIZE.md}))}var no=Xr;l();_();var at=u(A());var Jr=({date:e,list:t,onClick:i})=>at.default.createElement(F.List,null,at.default.createElement(F.Date,null,e),t.map((n,a)=>at.default.createElement(_t,{data:n,key:a,onClick:()=>{i(n)}}))),as=(0,at.memo)(Jr);l();_();var ro=u(A());l();_();var so=u(A());G();l();_();var cs={dialogContainer:"_dialogContainer_1av5q_1"};var ms=({onClose:e,visible:t,onClick:i,options:n})=>{let a=(r,c)=>{let{label:m,image:f}=r||{};return so.default.createElement(uo.Coin,{symbol:m,icon:f,keyword:c,onClick:()=>{i(r)}})};return so.default.createElement(he,{isFull:!0,onClose:e,visible:t,title:s("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:cs.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},so.default.createElement(uo,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:s("wallet_extension_input_search_network")},dataSource:n,renderItem:a,emptyText:s("wallet_extension_text_noresults")}))};var Ao=({visible:e,setVisible:t,handleSelectNetwork:i,options:n,children:a})=>ro.default.createElement(ro.default.Fragment,null,a,ro.default.createElement(ms,{visible:e,onClose:()=>t(!1),onClick:i,options:n}));l();_();var us=u(A()),xs=u(ye());l();_();var ds=u(A()),ps=u(ye());var fs=(e="coinId")=>{let t=(0,ps.useSelector)(ti),[i]=Yo(t);return{options:(0,ds.useMemo)(()=>(i||[]).map(a=>{let{chainName:r}=a;return{label:r,value:a[e],...a}}),[t])}};var Ts=({explorerUrl:e})=>{let[t,i]=us.default.useState(!1),n=(0,xs.useSelector)(qt),{account:a}=si(),{options:r}=fs(),c=n?.mainCoinId;return{visible:t,setVisible:i,gotoExplore:()=>{if(!c)i(!0);else{let p=r.find(d=>d.coinId===c)?.localType;globalThis.open(`${e?.[c]}${a?.[p]}`)}},handleSelectNetwork:p=>{let d=p.coinId;i(!1),globalThis.open(`${e?.[d]}${a?.[p.localType]}`)},options:r}};l();_();var Do={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var Qr=({pendingList:e,completedList:t,isLoading:i,onRepeat:n,onClick:a,onContainer:r,explorerUrl:c})=>{let m=(0,wt.useSelector)(Gt),f=(0,wt.useSelector)(Si),{init:p}=(0,wt.useSelector)(qt),d=(0,wt.useSelector)(bi),[I,N]=(0,X.useState)({}),[h,w]=(0,X.useState)(0),{visible:E,setVisible:C,gotoExplore:k,handleSelectNetwork:L,options:V}=Ts({explorerUrl:c});return f?X.default.createElement(F.Loading,{top:160}):i||!e?null:!i&&e.length===0&&t.length===0?X.default.createElement(Ao,{visible:E,setVisible:C,handleSelectNetwork:L,options:V},X.default.createElement(F.Empty,{top:72,onButtonClick:k,buttonText:s("wallet_extension_history_btn_check_in_explorer"),description:p?s("wallet_extension_history_emptystate_no_transactions_day",{num:Ai}):s("wallet_extension_history_emptystate_no_transactions_range")})):X.default.createElement(F.ListContainer,{onContainer:r,className:"tx-history-extra"},X.default.createElement(F.Dialogs,{data:I,type:h,onConfirm:()=>{N({}),w(0),n()},onCancel:()=>{w(0)}}),e.length>0?X.default.createElement(X.default.Fragment,null,X.default.createElement(F.PendingTag,null),X.default.createElement("div",{className:Do.list},e.map((b,B)=>X.default.createElement(_t,{data:b,key:B,onClick:()=>{a(b)},onRepeat:ne=>{N(b),w(ne)}})))):null,t.map(({date:b,list:B},ne)=>X.default.createElement(as,{date:b,list:B,key:ne,onClick:a})),!d&&X.default.createElement(Ao,{visible:E,setVisible:C,handleSelectNetwork:L,options:V},X.default.createElement(Ue,{category:Ue.CATEGORY.fill,type:Ue.TYPE.gray,size:Ue.SIZE.md,className:Do.explore,onClick:k},s("wallet_extension_history_btn_check_in_explorer"))),m&&X.default.createElement(no,null))},Ns=(0,X.memo)(Qr);var el={VirtualItem:_t,HistoryList:Ns};l();_();l();_();l();_();var ce=u(A()),So=u(ye()),Ss=u(Vo());l();_();var Ve=u(A());l();_();var lo=u(A());l();_();var Fe=u(A()),hs=u(ye());l();_();G();var tl="okx-wallet-plugin-report-centre",Cs="okx-wallet-plugin-pointer-up",Is="okx-wallet-plugin-pointer-down",ol="okx-wallet-plugin-lock-1",il="okx-wallet-plugin-swap-1",nl="okx-wallet-plugin-mint-nft",sl="okx-wallet-plugin-report-centre",rl="okx-wallet-plugin-supply",ll="okx-wallet-plugin-claim",_l="okx-wallet-plugin-enrollment",al="okx-wallet-plugin-mint",cl="okx-wallet-plugin-mint",ml="okx-wallet-plugin-coin-inscribe-brc20",dl="okx-wallet-plugin-pointer-down",pl="okx-wallet-plugin-pointer-up",fl="okx-wallet-plugin-quick",gs=(e={})=>{let{txType:t}=e,i=[];return t===o.TRANS_OUT&&i.push(Cs),t===o.PERPETUAIL&&i.push(dl),t===o.WITHDRAW&&i.push(pl),t===o.QUICK_WITHDRAW&&i.push(fl),t===o.TRANS_IN&&i.push(Is),(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION)&&i.push(ol),(t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT||t===o.GAS_STATION||t===o.DEX_CROSS_CHAIN_SWAP||t===o.BRC20_TRADE||t===o.BRC30_TRADE||t===o.RUNES_SWEEP)&&i.push(il),t===o.MINT_NFT&&i.push(nl),(t===o.CONTRACTCALL||t===o.DAPP_NFT)&&i.push(sl),t===o.DAPP_APPLY&&i.push(rl),(t===o.DAPP_REDEEM||t===o.DAPP_CLAIM||t===o.EARN_BRC30_CLAIM||t===o.EARN_BRC30_APPLY||t===o.EARN_BRC30_REDEEM)&&i.push(ll),(t===o.REGISTRATION||t===o.ZK_REGISTER)&&i.push(_l),(t===o.BRC20_RECEIVE||t===o.BRC30_RECEIVE||t===o.DEFI_MINT)&&i.push(Is),(t===o.BRC20_INSCRIBE||t===o.BRC30_INSCRIBE)&&i.push(ml),(t===o.BRC20_MINT||t===o.ORDINAL_NFT||t===o.ORDINAL_TEXT||t===o.BRC20_DEPLOY)&&i.push(al),(t===o.BRC20_SEND||t===o.BRC30_SEND||t===o.DEFI_REPAY)&&i.push(Cs),t===o.EARN_BRC30_DEPLOY&&i.push(cl),i.length||i.push(tl),i},ws=(e={})=>{let{txType:t,coinSymbol:i}=e;return Wt(t,{symbol:i},e)},Es=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:a}=e;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let r=it(e)||j(e.to),c=`${s("wallet_extension_history_list_send_to")}  ${r}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let r=j(e.from),c=`${s("wallet_extension_history_list_receive_from")}   ${r}`;i.push(c)}else if(n===o.BRC30_INSCRIBE){let r=j(e.to);i.push(r)}else if(n===o.ZK_REGISTER)i.push(j(e.from));else{let{contractName:r,contractAddress:c}=e,m=r||j(c)||"";i.push(m)}if(a===S.PENDING){let r=Oe(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(r)}return i},ys=(e={})=>{let t=[],{direction:i,coinAmount:n,coinSymbol:a,txType:r,repeatTxType:c,coinId:m}=e,{baseCoin:f}=Me(m,!0),p=Bt(f.coinId);if(r===o.AUTHORIZATION||r===o.CANCEL_AUTHORIZATION||r===o.REGISTRATION)return t;let d=null;return(n!=="0"||p&&(r===o.TRANS_IN||r===o.TRANS_OUT)&&c!==Z.CANCELING&&c!==Z.SPEEDING_CANCEL)&&(d=J(n)),t.push({direction:i,coinAmount:d,symbol:a}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&t.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),t};var ul=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,hs.useSelector)(ht),a=gs(e),r=ws(e),c=Es(e,n),m=ys(e),f=$t(c,m),p=oo(e),d=to(e),I=Fe.default.createElement(F.Label,{className:"tx-history-ml4",type:p,text:d,data:e});return Fe.default.createElement(F.ItemContainer,{onClick:t},Fe.default.createElement(F.Row,{assets:m,align:f},Fe.default.createElement(F.Info,{icons:a,title:r,details:c,label:I,data:e}),Fe.default.createElement(F.CoinAssets,{assets:m})),Fe.default.createElement(F.Actions,{data:e,onRepeat:i}))},vs=(0,Fe.memo)(ul);var xl=({data:e={},onRepeat:t,onClick:i})=>lo.default.createElement(vs,{data:e,onClick:i,onRepeat:t}),_o=(0,lo.memo)(xl);var Tl=({completedList:e,onClick:t})=>Ve.default.createElement(Ve.default.Fragment,null,e.map(({date:i,list:n},a)=>Ve.default.createElement(F.List,{key:a},Ve.default.createElement(F.Date,null,i),n.map((r,c)=>Ve.default.createElement(_o,{data:r,key:c,onClick:()=>{t(r)}}))))),As=(0,Ve.memo)(Tl);l();_();var we=u(A());l();_();var Ds={root:"_root_1otry_1"};var Nl=({pendingList:e,onRepeat:t,onClick:i})=>{let[n,a]=(0,we.useState)({}),[r,c]=(0,we.useState)(0);return e.length===0?null:we.default.createElement(we.default.Fragment,null,we.default.createElement(F.Dialogs,{data:n,type:r,onConfirm:()=>{a({}),c(0),t()},onCancel:()=>{c(0)}}),we.default.createElement("div",{className:Ds.root},e.map((m,f)=>we.default.createElement(_o,{data:m,key:f,onRepeat:p=>{a(m),c(p)},onClick:()=>{i(m)}}))))},bs=(0,we.memo)(Nl);l();_();var bo={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};G();var Cl=({txList:e,isLoading:t,onRepeat:i,txDetailData:n,setTxDetailData:a})=>{let r=(0,So.useSelector)(vt),c=(0,So.useSelector)(Gt),m=(0,Ss.useHistory)(),[f,p]=(0,ce.useMemo)(()=>Mi(e,r,!0),[e,r]);if(!t&&f.length===0&&p.length===0)return ce.default.createElement(F.Empty,{description:s("wallet_transaction_history_subtitle_no_records")});if(t)return ce.default.createElement(F.Loading,{top:0,className:bo.loading});if(!Array.isArray(e))return null;let d=I=>{I?.dexOrderId?m.push(`${Lt}/${I.dexOrderId}`):a(I)};return ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("div",{className:"coin-history__list"},ce.default.createElement(bs,{pendingList:f,onRepeat:i,onClick:d}),ce.default.createElement(As,{completedList:p,onClick:d}),c&&ce.default.createElement(no,{className:bo.scrollLoading})),ce.default.createElement(ho,{visible:!!n,params:n,onRefresh:i,onClose:()=>{a(null)}}))},Ls=(0,ce.memo)(Cl);var Il={TxList:Ls};l();_();var ue=u(A()),Bs=u(ye());Xe();function CT({scrollContainer:e,selector:t=".tx-history-item-container",index:i=15},n){let a=(0,ue.useRef)(null),r=(0,ue.useRef)(null),c=(0,Bs.useSelector)(Di),m=()=>{if(a.current)if(r.current){let{bottom:E}=a.current.getBoundingClientRect(),{top:C}=r.current.getBoundingClientRect();C>=E&&n()}else n()},f=ut("wallet-transaction",{onError:m}),[p,d]=(0,ue.useState)(!1),[I,N]=(0,ue.useState)(!1),[h,w]=(0,ue.useState)(0);(0,ue.useEffect)(()=>{f&&N(!0)},[f]),(0,ue.useLayoutEffect)(()=>{let E;if(e){let C=e.querySelectorAll(t);E=Po(()=>{let{bottom:k}=e.getBoundingClientRect(),{top:L}=r.current.getBoundingClientRect();d(L>=k)},200),r.current=C[i],r.current?(E(),e.addEventListener("scroll",E)):d(!0),a.current=e}else d(!0);return()=>{e&&(e.removeEventListener("scroll",E),r.current=null)}},[h,e,t,i,c]),(0,ue.useEffect)(()=>{p&&I&&(n&&n(),d(!1),N(!1),w(E=>{let C=E+1;return C>=1e6&&(C=1),C}))},[p,I])}export{Mi as a,ho as b,Il as c,el as d,CT as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-4ETSF44D.js.map
