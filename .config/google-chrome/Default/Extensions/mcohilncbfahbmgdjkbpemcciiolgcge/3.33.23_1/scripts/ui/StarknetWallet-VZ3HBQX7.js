import{a as Ts}from"./chunk-EKIXRFG2.js";import{a as pe}from"./chunk-WFAZ5WB6.js";import{a as As}from"./chunk-BX4HCRUM.js";import"./chunk-3COZNTED.js";import"./chunk-AGPXVFMO.js";import"./chunk-FGSHVA46.js";import"./chunk-FMFDUPSA.js";import"./chunk-GAJPJAPC.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{c as p,m as a,n as h,o as c}from"./chunk-ZCHLW7CF.js";var ye=p(A=>{"use strict";a();c();Object.defineProperty(A,"__esModule",{value:!0});A.accountClassHash=A.ProxyAccountClassHash=A.ETHBridge=A.ETH=A.UDC=A.TransactionHashPrefix=A.StarknetChainId=A.NetworkName=A.API_VERSION=A.MASK_251=A.MASK_250=A.ZERO=void 0;A.ZERO=0n;A.MASK_250=2n**250n-1n;A.MASK_251=2n**251n;A.API_VERSION=A.ZERO;var Es;(function(e){e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e.SN_GOERLI2="SN_GOERLI2"})(Es=A.NetworkName||(A.NetworkName={}));var xs;(function(e){e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e.SN_GOERLI2="0x534e5f474f45524c4932"})(xs=A.StarknetChainId||(A.StarknetChainId={}));var ws;(function(e){e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572"})(ws=A.TransactionHashPrefix||(A.TransactionHashPrefix={}));A.UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"};A.ETH="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";A.ETHBridge="0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82";A.ProxyAccountClassHash="0x3530cc4759d78042f1b543bf797f5f3d647cde0388c33734cf91b7f7b9314a9";A.accountClassHash="0x309c042d3729173c7f2f91a34f04d8c509c1b292d334679ef1aabf8da0899cc"});var vr=p(Ye=>{"use strict";a();c();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.SignerInterface=void 0;var jt=class{};Ye.SignerInterface=jt});var ne=p(Je=>{"use strict";a();c();Object.defineProperty(Je,"__esModule",{value:!0});Je.starkCurve=void 0;var Os=pe();Je.starkCurve=Os.signUtil.schnorr.stark});var G=p(E=>{"use strict";a();c();Object.defineProperty(E,"__esModule",{value:!0});E.utf8ToArray=E.sanitizeHex=E.sanitizeBytes=E.calcByteLength=E.padLeft=E.addHexPrefix=E.removeHexPrefix=E.buf2hex=E.btoaUniversal=E.arrayBufferToString=E.IS_BROWSER=void 0;var me=(()=>{if(typeof me<"u")return me;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof me<"u")return me;throw"Unable to locate global object"})(),vs=me.btoa||(e=>me.Buffer.from(e,"binary").toString("base64"));E.IS_BROWSER=typeof window<"u";var qt="0";function Pr(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}E.arrayBufferToString=Pr;function Ps(e){return E.IS_BROWSER?vs(Pr(e)):h.Buffer.from(e).toString("base64")}E.btoaUniversal=Ps;function Ns(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}E.buf2hex=Ns;function Bt(e){return e.replace(/^0x/i,"")}E.removeHexPrefix=Bt;function Nr(e){return`0x${Bt(e)}`}E.addHexPrefix=Nr;function Hs(e,t,r,n=qt){let s=t-e.length,i=e;if(s>0){let o=n.repeat(s);i=r?o+e:e+o}return i}function Hr(e,t,r=qt){return Hs(e,t,!0,r)}E.padLeft=Hr;function Ir(e,t=8){let r=e%t;return r?(e-r)/t*t+t:e}E.calcByteLength=Ir;function Dr(e,t=8,r=qt){return Hr(e,Ir(e.length,t),r)}E.sanitizeBytes=Dr;function Is(e){return e=Bt(e),e=Dr(e,2),e&&(e=Nr(e)),e}E.sanitizeHex=Is;function Ds(e){return new TextEncoder().encode(e)}E.utf8ToArray=Ds});var Ze=p(Lt=>{"use strict";a();c();Object.defineProperty(Lt,"__esModule",{value:!0});function Ms(e,t){if(!e)throw new Error(t||"Assertion failure")}Lt.default=Ms});var H=p(b=>{"use strict";a();c();var js=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});b.hexToBytes=b.toCairoBool=b.getHexStringArray=b.getHexString=b.getDecimalString=b.toHexString=b.isStringWholeNumber=b.bigNumberishArrayToHexadecimalStringArray=b.bigNumberishArrayToDecimalStringArray=b.assertInRange=b.cleanHex=b.hexToDecimalString=b.toHex=b.isBigInt=b.toBigInt=b.isHex=void 0;var qs=pe(),Bs=qs.signUtil.schnorr.hexToBytes,Ls=js(Ze()),$t=G();function ze(e){return/^0x[0-9a-f]*$/i.test(e)}b.isHex=ze;function Rt(e){return BigInt(e)}b.toBigInt=Rt;function $s(e){return typeof e=="bigint"}b.isBigInt=$s;function Ut(e){return(0,$t.addHexPrefix)(Rt(e).toString(16))}b.toHex=Ut;function Mr(e){return BigInt((0,$t.addHexPrefix)(e)).toString(10)}b.hexToDecimalString=Mr;var Rs=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");b.cleanHex=Rs;function Us(e,t,r,n=""){let s=n===""?"invalid length":`invalid ${n} length`,i=BigInt(e),o=BigInt(t),u=BigInt(r);(0,Ls.default)(i>=o&&i<=u,`Message not signable, ${s}.`)}b.assertInRange=Us;function Fs(e){return e.map(t=>Rt(t).toString(10))}b.bigNumberishArrayToDecimalStringArray=Fs;function Vs(e){return e.map(t=>Ut(t))}b.bigNumberishArrayToHexadecimalStringArray=Vs;var Ks=e=>/^\d+$/.test(e);b.isStringWholeNumber=Ks;var ks=e=>Ut(e);b.toHexString=ks;function Ws(e){if(ze(e))return Mr(e);if((0,b.isStringWholeNumber)(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}b.getDecimalString=Ws;function jr(e){if(ze(e))return e;if((0,b.isStringWholeNumber)(e))return(0,b.toHexString)(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}b.getHexString=jr;function Gs(e){return e.map(t=>jr(t))}b.getHexStringArray=Gs;var Xs=e=>(+e).toString();b.toCairoBool=Xs;function Ys(e){if(!ze(e))throw new Error(`${e} need to be a hex-string`);let t=(0,$t.removeHexPrefix)(e);return t.length%2!==0&&(t=`0${t}`),Bs(t)}b.hexToBytes=Ys});var Z=p(v=>{"use strict";a();c();Object.defineProperty(v,"__esModule",{value:!0});v.decodeShortString=v.encodeShortString=v.splitLongString=v.isLongText=v.isShortText=v.isText=v.isDecimalString=v.isShortString=v.isASCII=void 0;var qr=G(),Ft=H(),Br=31;function Vt(e){return/^[\x00-\x7F]*$/.test(e)}v.isASCII=Vt;function Qe(e){return e.length<=Br}v.isShortString=Qe;function Lr(e){return/^[0-9]*$/i.test(e)}v.isDecimalString=Lr;function Kt(e){return typeof e=="string"&&!(0,Ft.isHex)(e)&&!(0,Ft.isStringWholeNumber)(e)}v.isText=Kt;var Js=e=>Kt(e)&&Qe(e);v.isShortText=Js;var Zs=e=>Kt(e)&&!Qe(e);v.isLongText=Zs;function zs(e){let t=RegExp(`[^]{1,${Br}}`,"g");return e.match(t)||[]}v.splitLongString=zs;function Qs(e){if(!Vt(e))throw new Error(`${e} is not an ASCII string`);if(!Qe(e))throw new Error(`${e} is too long`);return(0,qr.addHexPrefix)(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}v.encodeShortString=Qs;function $r(e){if(!Vt(e))throw new Error(`${e} is not an ASCII string`);if((0,Ft.isHex)(e))return(0,qr.removeHexPrefix)(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(Lr(e))return $r("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}v.decodeShortString=$r});var kt=p(L=>{"use strict";a();c();Object.defineProperty(L,"__esModule",{value:!0});L.bnToUint256=L.isUint256=L.UINT_256_MAX=L.UINT_128_MAX=L.uint256ToBN=void 0;var Rr=G(),et=H();function ei(e){return((0,et.toBigInt)(e.high)<<128n)+(0,et.toBigInt)(e.low)}L.uint256ToBN=ei;L.UINT_128_MAX=(1n<<128n)-1n;L.UINT_256_MAX=(1n<<256n)-1n;function Ur(e){return(0,et.toBigInt)(e)<=L.UINT_256_MAX}L.isUint256=Ur;function ti(e){let t=(0,et.toBigInt)(e);if(!Ur(t))throw new Error("Number is too large");return{low:(0,Rr.addHexPrefix)((t&L.UINT_128_MAX).toString(16)),high:(0,Rr.addHexPrefix)((t>>128n).toString(16))}}L.bnToUint256=ti});var le=p(w=>{"use strict";a();c();Object.defineProperty(w,"__esModule",{value:!0});w.felt=w.tuple=w.uint256=w.isTypeStruct=w.isTypeNamedTuple=w.isTypeTuple=w.isTypeArray=w.isTypeFeltArray=w.isTypeFelt=w.isLen=void 0;var Wt=H(),Gt=Z(),Fr=kt(),ri=e=>/_len$/.test(e);w.isLen=ri;var ni=e=>e==="felt";w.isTypeFelt=ni;var si=e=>e==="felt*";w.isTypeFeltArray=si;var ii=e=>/\*/.test(e);w.isTypeArray=ii;var oi=e=>/^\(.*\)$/i.test(e);w.isTypeTuple=oi;var ai=e=>/\(.*\)/i.test(e)&&e.includes(":");w.isTypeNamedTuple=ai;var ci=(e,t)=>e in t;w.isTypeStruct=ci;var ui=e=>{let t=BigInt(e);if(!(0,Fr.isUint256)(t))throw new Error("Number is too large");return{low:(t&Fr.UINT_128_MAX).toString(10),high:(t>>128n).toString(10)}};w.uint256=ui;var li=(...e)=>({...e});w.tuple=li;function di(e){if((0,Wt.isBigInt)(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if((0,Gt.isText)(e)){if(!(0,Gt.isShortString)(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);let t=(0,Gt.encodeShortString)(e);return BigInt(t).toString()}if(typeof e=="string"&&(0,Wt.isHex)(e))return BigInt(e).toString();if(typeof e=="string"&&(0,Wt.isStringWholeNumber)(e))return e;throw new Error(`${e} can't be computed by felt()`)}w.felt=di});var je=p(I=>{"use strict";a();c();Object.defineProperty(I,"__esModule",{value:!0});I.extractSignificantDigits=I.toSafeNumberOrThrow=I.getUnsafeNumberReason=I.UnsafeNumberReason=I.isSafeNumber=I.isNumber=I.isInteger=void 0;function Yt(e){return fi.test(e)}I.isInteger=Yt;var fi=/^-?[0-9]+$/;function gi(e){return hi.test(e)}I.isNumber=gi;var hi=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Vr(e,t){let r=parseFloat(e),n=String(r),s=Xt(e),i=Xt(n);return!!(s===i||t?.approx===!0&&!Yt(e)&&i.length>=14&&s.startsWith(i.substring(0,14)))}I.isSafeNumber=Vr;var _e;(function(e){e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float"})(_e=I.UnsafeNumberReason||(I.UnsafeNumberReason={}));function Kr(e){if(Vr(e,{approx:!1}))return;if(Yt(e))return _e.truncate_integer;let t=parseFloat(e);return isFinite(t)?t===0?_e.underflow:_e.truncate_float:_e.overflow}I.getUnsafeNumberReason=Kr;function pi(e,t){let r=parseFloat(e),n=Kr(e);if(t?.approx===!0?n&&n!==_e.truncate_float:n){let s=n.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${s} and become ${r}`)}return r}I.toSafeNumberOrThrow=pi;function Xt(e){return e.replace(yi,"").replace(_i,"").replace(bi,"").replace(mi,"")}I.extractSignificantDigits=Xt;var yi=/[eE][+-]?\d+$/,mi=/^-?(0*)?/,_i=/\./,bi=/0+$/});var rt=p(se=>{"use strict";a();c();Object.defineProperty(se,"__esModule",{value:!0});se.toLosslessNumber=se.isLosslessNumber=se.LosslessNumber=void 0;var qe=je(),tt=class{constructor(t){if(this.isLosslessNumber=!0,!(0,qe.isNumber)(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}valueOf(){let t=(0,qe.getUnsafeNumberReason)(this.value);if(t===void 0||t===qe.UnsafeNumberReason.truncate_float)return parseFloat(this.value);if((0,qe.isInteger)(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${parseFloat(this.value)}`)}toString(){return this.value}};se.LosslessNumber=tt;function Ci(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}se.isLosslessNumber=Ci;function Si(e){if((0,qe.extractSignificantDigits)(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new tt(String(e))}se.toLosslessNumber=Si});var Jt=p(be=>{"use strict";a();c();Object.defineProperty(be,"__esModule",{value:!0});be.parseNumberAndBigInt=be.parseLosslessNumber=void 0;var Ai=rt(),Ti=je();function Ei(e){return new Ai.LosslessNumber(e)}be.parseLosslessNumber=Ei;function xi(e){return(0,Ti.isInteger)(e)?BigInt(e):parseFloat(e)}be.parseNumberAndBigInt=xi});var kr=p(nt=>{"use strict";a();c();Object.defineProperty(nt,"__esModule",{value:!0});nt.revive=void 0;var wi=rt();function Oi(e,t){return Zt({"":e},"",e,t)}nt.revive=Oi;function Zt(e,t,r,n){return Array.isArray(r)?n.call(e,t,Pi(r,n)):r&&typeof r=="object"&&!(0,wi.isLosslessNumber)(r)?n.call(e,t,vi(r,n)):n.call(e,t,r)}function vi(e,t){return Object.keys(e).forEach(r=>{let n=Zt(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function Pi(e,t){for(let r=0;r<e.length;r++)e[r]=Zt(e,r+"",e[r],t);return e}});var Zr=p(T=>{"use strict";a();c();Object.defineProperty(T,"__esModule",{value:!0});T.codeLowercaseF=T.codeUppercaseF=T.codeLowercaseE=T.codeUppercaseE=T.codeLowercaseA=T.codeUppercaseA=T.isDeepEqual=T.isValidStringCharacter=T.parse=void 0;var Ni=Jt(),Hi=kr();function Ii(e,t,r=Ni.parseLosslessNumber){let n=0,s=u();return F(s),ue(),t?(0,Hi.revive)(s,t):s;function i(){if(e.charCodeAt(n)===Bi){n++,d();let m={},O=!0;for(;n<e.length&&e.charCodeAt(n)!==Gr;){O?O=!1:(x(),d());let J=n,Me=f();if(Me===void 0)throw new SyntaxError(`Quoted object key expected ${K()}`);d(),N();let Mt=u();Mt===void 0&&bs(),Object.prototype.hasOwnProperty.call(m,Me)&&!ot(Mt,m[Me])&&hs(Me,J+1),m[Me]=Mt}return e.charCodeAt(n)!==Gr&&ps(),n++,m}}function o(){if(e.charCodeAt(n)===Li){n++,d();let m=[],O=!0;for(;n<e.length&&e.charCodeAt(n)!==Xr;){O?O=!1:x();let J=u();V(J),m.push(J)}return e.charCodeAt(n)!==Xr&&ys(),n++,m}}function u(){d();let m=f()??_()??i()??o()??g("true",!0)??g("false",!1)??g("null",null);return d(),m}function g(m,O){if(e.slice(n,n+m.length)===m)return n+=m.length,O}function d(){for(;Di(e.charCodeAt(n));)n++}function f(){if(e.charCodeAt(n)===zt){n++;let m="";for(;n<e.length&&e.charCodeAt(n)!==zt;){if(e.charCodeAt(n)===qi){let O=e[n+1],J=ji[O];J!==void 0?(m+=J,n++):O==="u"?st(e.charCodeAt(n+2))&&st(e.charCodeAt(n+3))&&st(e.charCodeAt(n+4))&&st(e.charCodeAt(n+5))?(m+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):Cs(n):_s(n)}else Jr(e.charCodeAt(n))?m+=e[n]:ms(e[n]);n++}return Xe(),n++,m}}function _(){let m=n;if(e.charCodeAt(n)===Yr&&(n++,he(m)),e.charCodeAt(n)===Qt)n++;else if(Mi(e.charCodeAt(n)))for(n++;it(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===Wi)for(n++,he(m);it(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===T.codeLowercaseE||e.charCodeAt(n)===T.codeUppercaseE)for(n++,(e.charCodeAt(n)===Yr||e.charCodeAt(n)===Vi)&&n++,he(m);it(e.charCodeAt(n));)n++;if(n>m)return r(e.slice(m,n))}function x(){if(e.charCodeAt(n)!==ki)throw new SyntaxError(`Comma ',' expected after value ${K()}`);n++}function N(){if(e.charCodeAt(n)!==Gi)throw new SyntaxError(`Colon ':' expected after property name ${K()}`);n++}function F(m){if(m===void 0)throw new SyntaxError(`JSON value expected ${K()}`)}function V(m){if(m===void 0)throw new SyntaxError(`Array item expected ${K()}`)}function ue(){if(n<e.length)throw new SyntaxError(`Expected end of input ${K()}`)}function he(m){if(!it(e.charCodeAt(n))){let O=e.slice(m,n);throw new SyntaxError(`Invalid number '${O}', expecting a digit ${K()}`)}}function Xe(){if(e.charCodeAt(n)!==zt)throw new SyntaxError(`End of string '"' expected ${K()}`)}function uc(){throw new SyntaxError(`Quoted object key expected ${K()}`)}function hs(m,O){throw new SyntaxError(`Duplicate key '${m}' encountered at position ${O}`)}function ps(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${K()}`)}function ys(){throw new SyntaxError(`Array item or end of array ']' expected ${K()}`)}function ms(m){throw new SyntaxError(`Invalid character '${m}' ${De()}`)}function _s(m){let O=e.slice(m,m+2);throw new SyntaxError(`Invalid escape character '${O}' ${De()}`)}function bs(){throw new SyntaxError(`Object value expected after ':' ${De()}`)}function Cs(m){let O=m+2;for(;/\w/.test(e[O]);)O++;let J=e.slice(m,O);throw new SyntaxError(`Invalid unicode character '${J}' ${De()}`)}function De(){return`at position ${n}`}function Ss(){return n<e.length?`but got '${e[n]}'`:"but reached end of input"}function K(){return Ss()+" "+De()}}T.parse=Ii;function Di(e){return e===$i||e===Ri||e===Ui||e===Fi}function st(e){return e>=Qt&&e<=er||e>=T.codeUppercaseA&&e<=T.codeUppercaseF||e>=T.codeLowercaseA&&e<=T.codeLowercaseF}function it(e){return e>=Qt&&e<=er}function Mi(e){return e>=Ki&&e<=er}function Jr(e){return e>=32&&e<=1114111}T.isValidStringCharacter=Jr;function ot(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((r,n)=>ot(r,t[n])):Wr(e)&&Wr(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(n=>ot(e[n],t[n])):!1}T.isDeepEqual=ot;function Wr(e){return typeof e=="object"&&e!==null}var ji={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},qi=92,Bi=123,Gr=125,Li=91,Xr=93,$i=32,Ri=10,Ui=9,Fi=13,zt=34,Vi=43,Yr=45,Qt=48,Ki=49,er=57,ki=44,Wi=46,Gi=58;T.codeUppercaseA=65;T.codeLowercaseA=97;T.codeUppercaseE=69;T.codeLowercaseE=101;T.codeUppercaseF=70;T.codeLowercaseF=102});var Qr=p(at=>{"use strict";a();c();Object.defineProperty(at,"__esModule",{value:!0});at.stringify=void 0;var Xi=je();function zr(e,t,r,n){let s=Yi(r),i=typeof t=="function"?t.call({"":e},"",e):e;return o(i,"");function o(f,_){if(Array.isArray(n)){let x=n.find(N=>N.test(f));if(x){let N=x.stringify(f);if(typeof N!="string"||!(0,Xi.isNumber)(N))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${N})`);return N}}if(typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f===null||f instanceof Date||f instanceof Boolean||f instanceof Number||f instanceof String)return JSON.stringify(f);if(f&&f.isLosslessNumber||typeof f=="bigint")return f.toString();if(Array.isArray(f))return u(f,_);if(f&&typeof f=="object")return g(f,_)}function u(f,_){if(f.length===0)return"[]";let x=s?_+s:void 0,N=s?`[
`:"[";for(let F=0;F<f.length;F++){let V=typeof t=="function"?t.call(f,String(F),f[F]):f[F];s&&(N+=x),typeof V<"u"&&typeof V!="function"?N+=o(V,x):N+="null",F<f.length-1&&(N+=s?`,
`:",")}return N+=s?`
`+_+"]":"]",N}function g(f,_){if(typeof f.toJSON=="function")return zr(f.toJSON(),t,r,void 0);let x=Array.isArray(t)?t.map(String):Object.keys(f);if(x.length===0)return"{}";let N=s?_+s:void 0,F=!0,V=s?`{
`:"{";return x.forEach(ue=>{let he=typeof t=="function"?t.call(f,ue,f[ue]):f[ue];if(d(ue,he)){F?F=!1:V+=s?`,
`:",";let Xe=JSON.stringify(ue);V+=s?N+Xe+": ":Xe+":",V+=o(he,N)}}),V+=s?`
`+_+"}":"}",V}function d(f,_){return typeof _<"u"&&typeof _!="function"&&typeof _!="symbol"}}at.stringify=zr;function Yi(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}});var tn=p(en=>{"use strict";a();c();Object.defineProperty(en,"__esModule",{value:!0})});var nn=p(S=>{"use strict";a();c();var Ji=S&&S.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Zi=S&&S.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ji(t,e,r)};Object.defineProperty(S,"__esModule",{value:!0});S.getUnsafeNumberReason=S.toSafeNumberOrThrow=S.isSafeNumber=S.isNumber=S.isInteger=S.UnsafeNumberReason=S.parseNumberAndBigInt=S.parseLosslessNumber=S.toLosslessNumber=S.isLosslessNumber=S.LosslessNumber=S.stringify=S.parse=void 0;var zi=Zr();Object.defineProperty(S,"parse",{enumerable:!0,get:function(){return zi.parse}});var Qi=Qr();Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return Qi.stringify}});var tr=rt();Object.defineProperty(S,"LosslessNumber",{enumerable:!0,get:function(){return tr.LosslessNumber}});Object.defineProperty(S,"isLosslessNumber",{enumerable:!0,get:function(){return tr.isLosslessNumber}});Object.defineProperty(S,"toLosslessNumber",{enumerable:!0,get:function(){return tr.toLosslessNumber}});var rn=Jt();Object.defineProperty(S,"parseLosslessNumber",{enumerable:!0,get:function(){return rn.parseLosslessNumber}});Object.defineProperty(S,"parseNumberAndBigInt",{enumerable:!0,get:function(){return rn.parseNumberAndBigInt}});var Ce=je();Object.defineProperty(S,"UnsafeNumberReason",{enumerable:!0,get:function(){return Ce.UnsafeNumberReason}});Object.defineProperty(S,"isInteger",{enumerable:!0,get:function(){return Ce.isInteger}});Object.defineProperty(S,"isNumber",{enumerable:!0,get:function(){return Ce.isNumber}});Object.defineProperty(S,"isSafeNumber",{enumerable:!0,get:function(){return Ce.isSafeNumber}});Object.defineProperty(S,"toSafeNumberOrThrow",{enumerable:!0,get:function(){return Ce.toSafeNumberOrThrow}});Object.defineProperty(S,"getUnsafeNumberReason",{enumerable:!0,get:function(){return Ce.getUnsafeNumberReason}});Zi(tn(),S)});var ct=p(D=>{"use strict";a();c();var eo=D&&D.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),to=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ro=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eo(t,e,r);return to(t,e),t};Object.defineProperty(D,"__esModule",{value:!0});D.stringifyAlwaysAsBig=D.stringify=D.parseAlwaysAsBig=D.parse=void 0;var Be=ro(nn()),no=e=>{if(!Be.isInteger(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},so=e=>Be.parse(String(e),void 0,no);D.parse=so;var io=e=>Be.parse(String(e),void 0,Be.parseNumberAndBigInt);D.parseAlwaysAsBig=io;var oo=(...e)=>Be.stringify(...e);D.stringify=oo;D.stringifyAlwaysAsBig=D.stringify});var X=p(y=>{"use strict";a();c();Object.defineProperty(y,"__esModule",{value:!0});y.computeContractClassHash=y.computeSierraContractClassHash=y.computeCompiledClassHash=y.computeLegacyContractClassHash=y.formatSpaces=y.calculateContractAddressFromHash=y.calculateTransactionHash=y.calculateDeployAccountTransactionHash=y.calculateDeclareTransactionHash=y.calculateDeployTransactionHash=y.calculateTransactionHashCommon=y.computeHashOnElements=y.getSelector=y.getSelectorFromName=y.starknetKeccak=y.keccakBn=y.feeTransactionVersion=y.transactionVersion_2=y.transactionVersion=void 0;var ao=pe(),Q=ao.signUtil.schnorr.stark,Se=ye(),co=le(),sr=ne(),z=G(),W=H(),ut=Z(),lt=ct();y.transactionVersion=1n;y.transactionVersion_2=2n;y.feeTransactionVersion=2n**128n+y.transactionVersion;function uo(e){let t=(0,z.removeHexPrefix)((0,W.toHex)(BigInt(e))),r=t.length%2===0?t:`0${t}`;return(0,z.addHexPrefix)(Q.keccak((0,W.hexToBytes)((0,z.addHexPrefix)(r))).toString(16))}y.keccakBn=uo;function lo(e){return(0,z.addHexPrefix)(Q.keccak((0,z.utf8ToArray)(e)).toString(16))}function sn(e){return BigInt(lo(e))&Se.MASK_250}y.starknetKeccak=sn;function ir(e){return(0,W.toHex)(sn(e))}y.getSelectorFromName=ir;function fo(e){return(0,W.isHex)(e)?e:(0,W.isStringWholeNumber)(e)?(0,W.toHexString)(e):ir(e)}y.getSelector=fo;function k(e){return[...e,e.length].reduce((t,r)=>sr.starkCurve.pedersen((0,W.toBigInt)(t),(0,W.toBigInt)(r)),0).toString()}y.computeHashOnElements=k;function Le(e,t,r,n,s,i,o,u=[]){let g=k(s),d=[e,t,r,n,g,i,o,...u];return k(d)}y.calculateTransactionHashCommon=Le;function go(e,t,r,n){return Le(Se.TransactionHashPrefix.DEPLOY,r,e,ir("constructor"),t,0,n)}y.calculateDeployTransactionHash=go;function ho(e,t,r,n,s,i,o){return Le(Se.TransactionHashPrefix.DECLARE,r,t,0,[e],n,s,[i,...o?[o]:[]])}y.calculateDeclareTransactionHash=ho;function po(e,t,r,n,s,i,o,u){let g=[t,n,...r];return Le(Se.TransactionHashPrefix.DEPLOY_ACCOUNT,s,e,0,g,i,o,[u])}y.calculateDeployAccountTransactionHash=po;function yo(e,t,r,n,s,i){return Le(Se.TransactionHashPrefix.INVOKE,t,e,0,r,n,s,[i])}y.calculateTransactionHash=yo;function mo(e,t,r,n){let s=k(r),i=(0,co.felt)("0x535441524b4e45545f434f4e54524143545f41444452455353");return k([i,n,e,t,s])}y.calculateContractAddressFromHash=mo;function _o(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function or(e){let t=!1,r="";for(let n of e)n==='"'&&r.endsWith("\\")===!1&&(t=!t),t?r+=n:r+=n===":"?": ":n===","?", ":n;return r}y.formatSpaces=or;function on(e){let{abi:t,program:r}=e,n={abi:t,program:r},s=or((0,lt.stringify)(n,_o));return(0,z.addHexPrefix)(sr.starkCurve.keccak((0,z.utf8ToArray)(s)).toString(16))}y.default=on;function an(e){let t=typeof e=="string"?(0,lt.parse)(e):e,r=(0,W.toHex)(Se.API_VERSION),n=k(t.entry_points_by_type.EXTERNAL.flatMap(d=>[d.selector,d.offset])),s=k(t.entry_points_by_type.L1_HANDLER.flatMap(d=>[d.selector,d.offset])),i=k(t.entry_points_by_type.CONSTRUCTOR.flatMap(d=>[d.selector,d.offset])),o=k(t.program.builtins.map(d=>(0,ut.encodeShortString)(d))),u=on(t),g=k(t.program.data);return k([r,n,s,i,o,u,g])}y.computeLegacyContractClassHash=an;function bo(e){return Q.poseidonHashMany(e.flatMap(t=>BigInt((0,ut.encodeShortString)(t))))}function rr(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),bo(r.builtins)]);return Q.poseidonHashMany(t)}function Co(e){let t="COMPILED_CLASS_V1",r=BigInt((0,ut.encodeShortString)(t)),n=rr(e.entry_points_by_type.EXTERNAL),s=rr(e.entry_points_by_type.L1_HANDLER),i=rr(e.entry_points_by_type.CONSTRUCTOR),o=Q.poseidonHashMany(e.bytecode.map(u=>BigInt(u)));return(0,W.toHex)(Q.poseidonHashMany([r,n,s,i,o]))}y.computeCompiledClassHash=Co;function nr(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return Q.poseidonHashMany(t)}function So(e){let t=or((0,lt.stringify)(e.abi,void 0));return BigInt((0,z.addHexPrefix)(sr.starkCurve.keccak((0,z.utf8ToArray)(t)).toString(16)))}function cn(e){let t="CONTRACT_CLASS_V0.1.0",r=BigInt((0,ut.encodeShortString)(t)),n=nr(e.entry_points_by_type.EXTERNAL),s=nr(e.entry_points_by_type.L1_HANDLER),i=nr(e.entry_points_by_type.CONSTRUCTOR),o=So(e),u=Q.poseidonHashMany(e.sierra_program.map(g=>BigInt(g)));return(0,W.toHex)(Q.poseidonHashMany([r,n,s,i,o,u]))}y.computeSierraContractClassHash=cn;function Ao(e){let t=typeof e=="string"?(0,lt.parse)(e):e;return"sierra_program"in t?cn(t):an(t)}y.computeContractClassHash=Ao});var un=p(cr=>{"use strict";a();c();Object.defineProperty(cr,"__esModule",{value:!0});var To=H(),Eo=Z(),ar={isBN:(e,t,r)=>{if(!(0,To.isBigInt)(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function dt(e,t,r){return Object.entries(e).reduce((n,[s,i])=>{let o=r??t[s];if(!(s in t)&&!r)return n[s]=i,n;if(o==="string"){if(Array.isArray(e[s])){let u=dt(e[s],e[s].map(g=>o));return n[s]=Object.values(u).join(""),n}return ar.isBN(e,t,s),n[s]=(0,Eo.decodeShortString)(i),n}if(o==="number")return ar.isBN(e,t,s),n[s]=Number(i),n;if(typeof o=="function")return n[s]=o(i),n;if(Array.isArray(o)){let u=dt(e[s],o,o[0]);return n[s]=Object.values(u),n}return typeof o=="object"?(n[s]=dt(e[s],o),n):(ar.unknown(e,t,s),n)},{})}cr.default=dt});var lr=p(ur=>{"use strict";a();c();Object.defineProperty(ur,"__esModule",{value:!0});var xo=le();function wo(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function Oo(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if(e[n]==="("){let s=1,i=n;for(n++;s;)e[n]===")"&&s--,e[n]==="("&&s++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function vo(e){let t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=Oo(t),s=n.split(",").map(i=>r.length?i.replace(" ",r.shift()):i);return(0,xo.isTypeNamedTuple)(e)&&(s=s.reduce((i,o)=>i.concat(wo(o)),[])),s}ur.default=vo});var dn=p(Ae=>{"use strict";a();c();var Po=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.parseCalldataField=void 0;var ln=Z(),ee=le(),No=Po(lr());function Ho(e,t){let r=(0,No.default)(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((s,i)=>({element:n[i],type:s.type??s}))}function ft(e,t,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e))throw Error(`Array inside array (nD) are not supported by cairo. Element: ${e} ${t}`);if(r[t]&&r[t].members.length){let{members:n}=r[t],s=e;return n.reduce((i,o)=>i.concat(ft(s[o.name],o.type,r)),[])}if((0,ee.isTypeTuple)(t))return Ho(e,t).reduce((s,i)=>{let o=ft(i.element,i.type,r);return s.concat(o)},[]);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return(0,ee.felt)(e)}function Io(e,t,r){let{name:n,type:s}=t,{value:i}=e.next();switch(!0){case(0,ee.isTypeArray)(s):if(!Array.isArray(i)&&!(0,ln.isText)(i))throw Error(`ABI expected parameter ${n} to be array or long string, got ${i}`);typeof i=="string"&&(i=(0,ln.splitLongString)(i));let o=[];return o.push((0,ee.felt)(i.length)),i.reduce((u,g)=>((0,ee.isTypeFeltArray)(s)?u.push((0,ee.felt)(g)):u.push(...ft(g,s.replace("*",""),r)),u),o);case((0,ee.isTypeStruct)(s,r)||(0,ee.isTypeTuple)(s)):return ft(i,s,r);default:return(0,ee.felt)(i)}}Ae.parseCalldataField=Io});var fn=p($e=>{"use strict";a();c();var Do=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});var gt=le(),Mo=Do(lr());function ht(e,t,r){if(t in r&&r[t])return r[t].members.reduce((s,i)=>(s[i.name]=ht(e,i.type,r),s),{});if((0,gt.isTypeTuple)(t))return(0,Mo.default)(t).reduce((i,o,u)=>{let g=o?.name?o.name:u,d=o?.type?o.type:o;return i[g]=ht(e,d,r),i},{});let n=e.next().value;return BigInt(n)}function jo(e,t,r,n){let{name:s,type:i}=t,o;switch(!0){case(0,gt.isLen)(s):return o=e.next().value,BigInt(o);case(0,gt.isTypeArray)(i):let u=[];if(n&&n[`${s}_len`]){let g=n[`${s}_len`];for(;u.length<g;)u.push(ht(e,t.type.replace("*",""),r))}return u;case(i in r||(0,gt.isTypeTuple)(i)):return ht(e,i,r);default:return o=e.next().value,BigInt(o)}}$e.default=jo});var yn=p(Ue=>{"use strict";a();c();var qo=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});var Re=qo(Ze()),Bo=Z(),te=le(),gn=(e,t)=>{(0,Re.default)(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt (string, number, BigNumber)`)},hn=(e,t,r)=>{(0,Re.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),r[t.type].members.forEach(({name:n})=>{(0,Re.default)(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},pn=(e,t)=>{(0,Re.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},Lo=(e,t,r)=>{let n=t.type.replace("*","");if(!((0,te.isTypeFelt)(n)&&(0,Bo.isLongText)(e)))switch((0,Re.default)(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case(0,te.isTypeFelt)(n):e.forEach(s=>gn(s,t));break;case(0,te.isTypeTuple)(n):e.forEach(s=>pn(s,{name:t.name,type:n}));break;case(0,te.isTypeStruct)(n,r):e.forEach(s=>hn(s,{name:t.name,type:n},r));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function $o(e,t,r){e.inputs.reduce((n,s)=>{let i=t[n];switch(!0){case(0,te.isLen)(s.name):return n;case(0,te.isTypeFelt)(s.type):gn(i,s);break;case(0,te.isTypeStruct)(s.type,r):hn(i,s,r);break;case(0,te.isTypeTuple)(s.type):pn(i,s);break;case(0,te.isTypeArray)(s.type):Lo(i,s,r);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${i}`)}return n+1},0)}Ue.default=$o});var xe=p(Ee=>{"use strict";a();c();var yt=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.CallData=void 0;var Ro=yt(Ze()),Uo=H(),mn=Z(),pt=le(),Fo=yt(un()),Vo=dn(),Ko=yt(fn()),ko=yt(yn()),Te=class{constructor(t){this.abi=t,this.structs=Te.getAbiStruct(t)}validate(t,r,n=[]){if(t!=="DEPLOY"){let o=this.abi.filter(u=>{if(u.type!=="function")return!1;let g=u.stateMutability==="view"||u.state_mutability==="view";return t==="INVOKE"?!g:g}).map(u=>u.name);(0,Ro.default)(o.includes(r),`${t==="INVOKE"?"invocable":"viewable"} method not found in abi`)}let s=this.abi.find(o=>t==="DEPLOY"?o.name===r&&o.type===r:o.name===r&&o.type==="function"),i=Te.abiInputsLength(s.inputs);if(n.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${n.length}`);(0,ko.default)(s,n,this.structs)}compile(t,r){let n=t[Symbol.iterator]();return r.reduce((s,i)=>(0,pt.isLen)(i.name)?s:s.concat((0,Vo.parseCalldataField)(n,i,this.structs)),[])}static compile(t){let r=s=>{let i=(o,u="")=>{let g=Array.isArray(o)?[o.length.toString(),...o]:o;return Object.entries(g).flatMap(([d,f])=>{let _=f;(0,mn.isLongText)(_)&&(_=(0,mn.splitLongString)(_));let x=Array.isArray(g)&&d==="0"?"$$len":d;return(0,Uo.isBigInt)(_)?[[`${u}${x}`,(0,pt.felt)(_)]]:Object(_)===_?i(_,`${u}${x}.`):[[`${u}${x}`,(0,pt.felt)(_)]]})};return Object.fromEntries(i(s))},n;if(Array.isArray(t))n=t;else{let s=r(t);n=Object.values(s)}return Object.defineProperty(n,"compiled",{enumerable:!1,writable:!1,value:!0}),n}parse(t,r){let{outputs:n}=this.abi.find(i=>i.name===t),s=r.flat()[Symbol.iterator]();return n.flat().reduce((i,o)=>(i[o.name]=(0,Ko.default)(s,o,this.structs,i),i[o.name]&&i[`${o.name}_len`]&&delete i[`${o.name}_len`],i),{})}format(t,r,n){let s=this.parse(t,r);return(0,Fo.default)(s,n)}static abiInputsLength(t){return t.reduce((r,n)=>(0,pt.isLen)(n.name)?r:r+1,0)}static getAbiStruct(t){return t.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}};Ee.CallData=Te});var _t=p(P=>{"use strict";a();c();Object.defineProperty(P,"__esModule",{value:!0});P.getExecuteCalldata=P.fromCallsToExecuteCalldata_cairo1=P.transformCallsToMulticallArrays_cairo1=P.fromCallsToExecuteCalldataWithNonce=P.fromCallsToExecuteCalldata=P.transformCallsToMulticallArrays=void 0;var _n=X(),we=H(),mt=xe(),Wo=e=>{let t=[],r=[];return e.forEach(n=>{let s=mt.CallData.compile(n.calldata||[]);t.push({to:(0,we.toBigInt)(n.contractAddress).toString(10),selector:n.entrypoint.startsWith("0x")?(0,we.toBigInt)(n.entrypoint):(0,we.toBigInt)((0,_n.getSelectorFromName)(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:s.length.toString()}),r.push(...s)}),{callArray:t,calldata:mt.CallData.compile({calldata:r})}};P.transformCallsToMulticallArrays=Wo;var Go=e=>{let{callArray:t,calldata:r}=(0,P.transformCallsToMulticallArrays)(e);return[...mt.CallData.compile({callArray:t}),...r]};P.fromCallsToExecuteCalldata=Go;var Xo=(e,t)=>[...(0,P.fromCallsToExecuteCalldata)(e),(0,we.toBigInt)(t).toString()];P.fromCallsToExecuteCalldataWithNonce=Xo;var Yo=e=>e.map(r=>({to:(0,we.toBigInt)(r.contractAddress).toString(10),selector:(0,we.toBigInt)((0,_n.getSelectorFromName)(r.entrypoint)).toString(10),calldata:mt.CallData.compile(r.calldata||[])}));P.transformCallsToMulticallArrays_cairo1=Yo;var Jo=e=>{let t=(0,P.transformCallsToMulticallArrays_cairo1)(e);return[t.length.toString(),...t.map(({to:r,selector:n,calldata:s})=>[r,n,s.length.toString(),...s]).flat()]};P.fromCallsToExecuteCalldata_cairo1=Jo;var Zo=(e,t="0")=>t==="1"?(0,P.fromCallsToExecuteCalldata_cairo1)(e):(0,P.fromCallsToExecuteCalldata)(e);P.getExecuteCalldata=Zo});var dr=p(Oe=>{"use strict";a();c();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.proofMerklePath=Oe.MerkleTree=void 0;var zo=ne(),bn=H(),ie=class{constructor(t){this.branches=[],this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(ie.hash(t[n],"0x0")):r.push(ie.hash(t[n],t[n+1]));return this.build(r)}static hash(t,r){let[n,s]=[(0,bn.toBigInt)(t),(0,bn.toBigInt)(r)].sort((i,o)=>i>=o?1:-1);return zo.starkCurve.pedersen(n,s)}getProof(t,r=this.leaves,n=[]){let s=r.indexOf(t);if(s===-1)throw new Error("leaf not found");if(r.length===1)return n;let i=s%2===0,o=(i?r[s+1]:r[s-1])??"0x0",u=[...n,o],g=this.leaves.length===r.length?-1:this.branches.findIndex(f=>f.length===r.length),d=this.branches[g+1]??[this.root];return this.getProof(ie.hash(i?t:o,i?o:t),d,u)}};Oe.MerkleTree=ie;function Cn(e,t,r){if(r.length===0)return e===t;let[n,...s]=r;return Cn(e,ie.hash(t,n),s)}Oe.proofMerklePath=Cn});var Sn=p(bt=>{"use strict";a();c();Object.defineProperty(bt,"__esModule",{value:!0});bt.validateTypedData=void 0;var Qo=e=>{let t=e;return Boolean(t.types&&t.primaryType&&t.message)};bt.validateTypedData=Qo});var Tn=p(An=>{"use strict";a();c();Object.defineProperty(An,"__esModule",{value:!0})});var Ct=p(C=>{"use strict";a();c();var ea=C&&C.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ta=C&&C.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ea(t,e,r)};Object.defineProperty(C,"__esModule",{value:!0});C.getMessageHash=C.getStructHash=C.encodeData=C.encodeValue=C.getTypeHash=C.encodeType=C.getDependencies=C.isMerkleTreeType=C.prepareSelector=void 0;var ve=X(),ra=dr(),fr=H(),En=Z(),na=Sn();ta(Tn(),C);function sa(e){try{return(0,fr.toHex)(e)}catch{if(typeof e=="string")return(0,fr.toHex)((0,En.encodeShortString)(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function xn(e){return(0,fr.isHex)(e)?e:(0,ve.getSelectorFromName)(e)}C.prepareSelector=xn;function wn(e){return e.type==="merkletree"}C.isMerkleTreeType=wn;var ia=(e,t,r=[])=>(t[t.length-1]==="*"&&(t=t.slice(0,-1)),r.includes(t)||!e[t]?r:[t,...e[t].reduce((n,s)=>[...n,...(0,C.getDependencies)(e,s.type,n).filter(i=>!n.includes(i))],[])]);C.getDependencies=ia;function oa(e,t){if(t.parent&&t.key){let n=e[t.parent].find(i=>i.name===t.key);if(!wn(n))throw new Error(`${t.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return n.contains}return"raw"}var aa=(e,t)=>{let[r,...n]=(0,C.getDependencies)(e,t);return(r?[r,...n.sort()]:[]).map(i=>`${i}(${e[i].map(o=>`${o.name}:${o.type}`)})`).join("")};C.encodeType=aa;var ca=(e,t)=>(0,ve.getSelectorFromName)((0,C.encodeType)(e,t));C.getTypeHash=ca;var ua=(e,t,r,n={})=>{if(e[t])return[t,(0,C.getStructHash)(e,t,r)];if(Object.keys(e).map(s=>`${s}*`).includes(t)){let s=r.map(i=>(0,C.getStructHash)(e,t.slice(0,-1),i));return[t,(0,ve.computeHashOnElements)(s)]}if(t==="merkletree"){let s=oa(e,n),i=r.map(u=>(0,C.encodeValue)(e,s,u)[1]),{root:o}=new ra.MerkleTree(i);return["felt",o]}return t==="felt*"?["felt*",(0,ve.computeHashOnElements)(r)]:t==="selector"?["felt",xn(r)]:[t,sa(r)]};C.encodeValue=ua;var la=(e,t,r)=>{let[n,s]=e[t].reduce(([i,o],u)=>{if(r[u.name]===void 0||r[u.name]===null)throw new Error(`Cannot encode data: missing data for '${u.name}'`);let g=r[u.name],[d,f]=(0,C.encodeValue)(e,u.type,g,{parent:t,key:u.name});return[[...i,d],[...o,f]]},[["felt"],[(0,C.getTypeHash)(e,t)]]);return[n,s]};C.encodeData=la;var da=(e,t,r)=>(0,ve.computeHashOnElements)((0,C.encodeData)(e,t,r)[1]);C.getStructHash=da;var fa=(e,t)=>{if(!(0,na.validateTypedData)(e))throw new Error("Typed data does not match JSON schema");let r=[(0,En.encodeShortString)("StarkNet Message"),(0,C.getStructHash)(e.types,"StarkNetDomain",e.domain),t,(0,C.getStructHash)(e.types,e.primaryType,e.message)];return(0,ve.computeHashOnElements)(r)};C.getMessageHash=fa});var On=p(St=>{"use strict";a();c();Object.defineProperty(St,"__esModule",{value:!0});St.Signer=void 0;var Pe=ne(),ga=G(),gr=X(),ha=H(),pa=_t(),ya=Ct(),ma=xe(),hr=class{constructor(t=Pe.starkCurve.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?(0,ga.buf2hex)(t):(0,ha.toHex)(t)}async getPubKey(){return Pe.starkCurve.getStarkKey(this.pk)}async signMessage(t,r){let n=(0,ya.getMessageHash)(t,r);return Pe.starkCurve.sign(n,this.pk)}async signTransaction(t,r,n){if(n&&n.length!==t.length)throw new Error("ABI must be provided for each transaction or no transaction");let s=(0,pa.getExecuteCalldata)(t,r.cairoVersion),i=(0,gr.calculateTransactionHash)(r.walletAddress,r.version,s,r.maxFee,r.chainId,r.nonce);return{signature:Pe.starkCurve.sign(i,this.pk),hash:i}}async signDeployAccountTransaction({classHash:t,contractAddress:r,constructorCalldata:n,addressSalt:s,maxFee:i,version:o,chainId:u,nonce:g}){let d=(0,gr.calculateDeployAccountTransactionHash)(r,t,ma.CallData.compile(n),s,o,i,u,g);return{signature:Pe.starkCurve.sign(d,this.pk),hash:d}}async signDeclareTransaction({classHash:t,senderAddress:r,chainId:n,maxFee:s,version:i,nonce:o,compiledClassHash:u}){let g=(0,gr.calculateDeclareTransactionHash)(t,r,i,s,n,o,u);return Pe.starkCurve.sign(g,this.pk)}};St.Signer=hr});var pr=p(oe=>{"use strict";a();c();var _a=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vn=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_a(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});vn(vr(),oe);vn(On(),oe)});var Hn=p(Nn=>{"use strict";a();c();Object.defineProperty(Nn,"__esModule",{value:!0});var Pn;(function(e){e[e.function=0]="function",e[e.l1_handler=1]="l1_handler",e[e.constructor=2]="constructor"})(Pn||(Pn={}))});var Dn=p(In=>{"use strict";a();c();Object.defineProperty(In,"__esModule",{value:!0})});var jn=p(Mn=>{"use strict";a();c();Object.defineProperty(Mn,"__esModule",{value:!0})});var qn=p(U=>{"use strict";a();c();var ba=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yr=U&&U.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ba(t,e,r)};Object.defineProperty(U,"__esModule",{value:!0});U.EntryPointType=void 0;var Ca;(function(e){e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR"})(Ca=U.EntryPointType||(U.EntryPointType={}));yr(Hn(),U);yr(Dn(),U);yr(jn(),U)});var Bn=p($=>{"use strict";a();c();var Sa=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Aa=$&&$.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sa(t,e,r)};Object.defineProperty($,"__esModule",{value:!0});$.TransactionType=$.TransactionStatus=void 0;var Ta;(function(e){e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.PENDING="PENDING",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED"})(Ta=$.TransactionStatus||($.TransactionStatus={}));var Ea;(function(e){e.INVOKE="INVOKE_FUNCTION",e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT"})(Ea=$.TransactionType||($.TransactionType={}));Aa(qn(),$)});var $n=p(Ln=>{"use strict";a();c();Object.defineProperty(Ln,"__esModule",{value:!0})});var Un=p(Rn=>{"use strict";a();c();Object.defineProperty(Rn,"__esModule",{value:!0})});var Vn=p(Fn=>{"use strict";a();c();Object.defineProperty(Fn,"__esModule",{value:!0})});var kn=p(Kn=>{"use strict";a();c();Object.defineProperty(Kn,"__esModule",{value:!0})});var Gn=p(Wn=>{"use strict";a();c();Object.defineProperty(Wn,"__esModule",{value:!0})});var Xn=p(Fe=>{"use strict";a();c();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.RPC=void 0;var xa;(function(e){let t;(function(r){r.DECLARE="DECLARE",r.DEPLOY="DEPLOY",r.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",r.INVOKE="INVOKE",r.L1_HANDLER="L1_HANDLER"})(t=e.TransactionType||(e.TransactionType={}))})(xa=Fe.RPC||(Fe.RPC={}))});var mr=p(R=>{"use strict";a();c();var wa=R&&R.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),de=R&&R.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wa(t,e,r)};Object.defineProperty(R,"__esModule",{value:!0});de(Bn(),R);de($n(),R);de(Un(),R);de(Vn(),R);de(kn(),R);de(Gn(),R);de(Xn(),R)});var _r=p(Ne=>{"use strict";a();c();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.extractContractHashes=Ne.isSierra=void 0;var Yn=X(),Oa=Ve();function Jn(e){let t=typeof e=="string"?Oa.json.parse(e):e;return"sierra_program"in t}Ne.isSierra=Jn;function va(e){let t={...e};if(Jn(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=(0,Yn.computeCompiledClassHash)(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??(0,Yn.computeContractClassHash)(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}Ne.extractContractHashes=va});var At=p(M=>{"use strict";a();c();Object.defineProperty(M,"__esModule",{value:!0});M.estimatedFeeToMaxFee=M.signatureToHexArray=M.signatureToDecimalArray=M.formatSignature=M.makeAddress=M.randomAddress=M.compressProgram=void 0;var Zn=pe(),Pa=As(),Na=Ve(),zn=G(),fe=H();function Ha(e){let t=typeof e=="string"?e:Na.json.stringify(e),r=(0,Pa.gzip)(t);return(0,zn.btoaUniversal)(r)}M.compressProgram=Ha;function Ia(){let e=Zn.signUtil.schnorr.stark.utils.randomPrivateKey();return Zn.signUtil.schnorr.stark.getStarkKey(e)}M.randomAddress=Ia;function Da(e){return(0,zn.addHexPrefix)(e).toLowerCase()}M.makeAddress=Da;function br(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>(0,fe.toHex)(t));try{let{r:t,s:r}=e;return[(0,fe.toHex)(t),(0,fe.toHex)(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}M.formatSignature=br;function Ma(e){return(0,fe.bigNumberishArrayToDecimalStringArray)(br(e))}M.signatureToDecimalArray=Ma;function ja(e){return(0,fe.bigNumberishArrayToHexadecimalStringArray)(br(e))}M.signatureToHexArray=ja;function qa(e,t=.5){let r=Math.round((1+t)*100);return(0,fe.toBigInt)(e)*(0,fe.toBigInt)(r)/100n}M.estimatedFeeToMaxFee=qa});var ns=p(Y=>{"use strict";a();c();Object.defineProperty(Y,"__esModule",{value:!0});Y.parseContract=Y.createSierraContractClass=Y.parseCalldata=Y.wait=void 0;var Ba=_r(),Qn=X(),es=H(),ts=At(),Cr=Ve();function La(e){return new Promise(t=>{setTimeout(t,e)})}Y.wait=La;function $a(e=[]){return e.map(t=>typeof t=="string"&&(0,es.isHex)(t)?t:(0,es.toHex)(t))}Y.parseCalldata=$a;function rs(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=(0,Qn.formatSpaces)(Cr.json.stringify(e.abi)),t.sierra_program=(0,Qn.formatSpaces)(Cr.json.stringify(e.sierra_program)),t.sierra_program=(0,ts.compressProgram)(t.sierra_program),t}Y.createSierraContractClass=rs;function Ra(e){let t=typeof e=="string"?Cr.json.parse(e):e;return(0,Ba.isSierra)(e)?rs(t):{...t,..."program"in t&&{program:(0,ts.compressProgram)(t.program)}}}Y.parseContract=Ra});var ss=p(Ot=>{"use strict";a();c();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.Account=void 0;var Tt=ye(),Ua=pr(),Et=mr(),xt=_r(),Fa=ne(),He=X(),q=H(),Va=ns(),Ke=At(),Ka=_t(),ka=Ct(),wt=xe(),Sr=class{constructor(t,r,n="0"){this.address=t.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new Ua.Signer(r):r,this.cairoVersion=n}async signMessage(t){return this.signer.signMessage(t,this.address)}async declare(t,r){if(r.nonce===void 0||r.maxFee===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let n=(0,xt.extractContractHashes)(t),s={};s.nonce=(0,q.toBigInt)(r.nonce),s.maxFee=r.maxFee,s.chainId=r.chainId,s.version=(0,xt.isSierra)(t.contract)?He.transactionVersion_2:He.transactionVersion;let i=await this.buildDeclareContractTransaction(n,{...s,walletAddress:this.address,cairoVersion:this.cairoVersion}),{senderAddress:o,contractDefinition:u,signature:g,compiledClassHash:d}=i;return(0,xt.isSierra)(u)?{type:Et.TransactionType.DECLARE,sender_address:o,compiled_class_hash:d,contract_class:u,nonce:(0,q.toHex)(s.nonce),signature:(0,Ke.signatureToDecimalArray)(g),max_fee:(0,q.toHex)(s.maxFee||0),version:"0x2"}:{type:Et.TransactionType.DECLARE,contract_class:u,nonce:(0,q.toHex)(s.nonce),signature:(0,Ke.signatureToDecimalArray)(g),sender_address:o,max_fee:(0,q.toHex)(s.maxFee||0),version:"0x1"}}async execute(t,r=void 0,n){if(n.nonce===void 0||n.maxFee===void 0||n.chainId===void 0)throw new Error("missing transaction parameter");let s=Array.isArray(t)?t:[t],i=(0,q.toBigInt)(n.nonce),o=n.maxFee,u=(0,q.toBigInt)(He.transactionVersion),g=n.chainId,d={walletAddress:this.address,nonce:i,maxFee:o,version:u,chainId:g,cairoVersion:this.cairoVersion},f=await this.signer.signTransaction(s,d,r),_=(0,Ka.getExecuteCalldata)(s,this.cairoVersion);return{txId:f.hash,signature:{type:Et.TransactionType.INVOKE,sender_address:this.address,calldata:wt.CallData.compile(_??[]),max_fee:(0,q.toHex)(o||0),signature:(0,Ke.signatureToDecimalArray)(f.signature),version:"0x1",nonce:(0,q.toHex)(i)}}}async deploy(t,r){let n=[].concat(t).map(o=>{let{classHash:u,salt:g,unique:d=!0,constructorCalldata:f=[]}=o,_=wt.CallData.compile(f),x=g??(0,Ke.randomAddress)();return{call:{contractAddress:Tt.UDC.ADDRESS,entrypoint:Tt.UDC.ENTRYPOINT,calldata:[u,x,(0,q.toCairoBool)(d),_.length,..._]},address:(0,He.calculateContractAddressFromHash)(d?Fa.starkCurve.pedersen(this.address,x):x,u,_,d?Tt.UDC.ADDRESS:0)}}),s=n.map(o=>o.call),i=n.map(o=>o.address);return await this.execute(s,void 0,r)}async deployAccount({classHash:t,constructorCalldata:r=[],addressSalt:n=0,contractAddress:s},i){if(i.maxFee===void 0||i.chainId===void 0)throw new Error("missing transaction parameter");let o=(0,q.toBigInt)(He.transactionVersion),u=Tt.ZERO,g=i.chainId,d=wt.CallData.compile(r),f=s??(0,He.calculateContractAddressFromHash)(n,t,d,0),_=i.maxFee,x=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:r,contractAddress:f,addressSalt:n,chainId:g,maxFee:_,version:o,nonce:u});return{txId:x.hash,signature:{type:Et.TransactionType.DEPLOY_ACCOUNT,contract_address_salt:n,constructor_calldata:wt.CallData.compile(r??[]),class_hash:(0,q.toHex)(t),max_fee:(0,q.toHex)(_||0),version:(0,q.toHex)(o||0),nonce:(0,q.toHex)(u),signature:(0,Ke.signatureToDecimalArray)(x.signature)}}}async buildDeclareContractTransaction(t,{nonce:r,chainId:n,version:s,walletAddress:i,maxFee:o}){let{classHash:u,contract:g,compiledClassHash:d}=(0,xt.extractContractHashes)(t),f=(0,Va.parseContract)(g),_=await this.signer.signDeclareTransaction({classHash:u,compiledClassHash:d,senderAddress:i,chainId:n,maxFee:o,version:s,nonce:r});return{senderAddress:i,signature:_,contractDefinition:f,compiledClassHash:d}}async hashMessage(t){return(0,ka.getMessageHash)(t,this.address)}};Ot.Account=Sr});var is=p(vt=>{"use strict";a();c();Object.defineProperty(vt,"__esModule",{value:!0});vt.AccountInterface=void 0;var Ar=class{};vt.AccountInterface=Ar});var Tr=p(ae=>{"use strict";a();c();var Wa=ae&&ae.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),os=ae&&ae.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wa(t,e,r)};Object.defineProperty(ae,"__esModule",{value:!0});os(ss(),ae);os(is(),ae)});var Er=p(Ie=>{"use strict";a();c();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.validateAndParseAddress=Ie.addAddressPadding=void 0;var as=ye(),cs=G(),us=H();function ls(e){return(0,cs.addHexPrefix)((0,cs.removeHexPrefix)((0,us.toHex)(e)).padStart(64,"0"))}Ie.addAddressPadding=ls;function Ga(e){(0,us.assertInRange)(e,as.ZERO,as.MASK_251,"Starknet Address");let t=ls(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}Ie.validateAndParseAddress=Ga});var Ve=p(l=>{"use strict";a();c();var ds=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xa=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ge=l&&l.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ds(t,e,r)},j=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ds(t,e,r);return Xa(t,e),t};Object.defineProperty(l,"__esModule",{value:!0});l.modPrivateKey=l.testSign=l.GetRandomPrivateKey=l.verifyMessage=l.signMessage=l.signMessageWithTypeData=l.CreateMultiContractCall=l.CreateContractCall=l.CreateTransferTx=l.CreateSignedDeployAccountTx=l.CalculateContractAddressFromHash=l.number=l.typedData=l.shortString=l.uint256=l.merkle=l.ec=l.stark=l.transaction=l.num=l.json=l.hash=l.encode=l.constants=void 0;var We=Tr();ge(pr(),l);ge(mr(),l);ge(X(),l);ge(Tr(),l);l.constants=j(ye());l.encode=j(G());l.hash=j(X());l.json=j(ct());l.num=j(H());l.transaction=j(_t());l.stark=j(At());l.ec=j(ne());l.merkle=j(dr());l.uint256=j(kt());l.shortString=j(Z());l.typedData=j(Ct());ge(Er(),l);ge(xe(),l);ge(gs(),l);var Ya=j(H());l.number=Ya;var ke=j(ne()),xr=j(X()),Pt=ye(),Ht=j(ct()),Ja=Er(),ce=pe(),Za=ne(),Nt=xe(),Ge=G();function wr(e){let t={implementation:Pt.accountClassHash,selector:xr.getSelectorFromName("initialize"),calldata:Nt.CallData.compile({signer:e,guardian:"0"})},r=xr.calculateContractAddressFromHash(e,Pt.ProxyAccountClassHash,Nt.CallData.compile(t),0);return(0,Ja.addAddressPadding)(r)}l.CalculateContractAddressFromHash=wr;async function za(e,t,r,n){let s=ke.starkCurve.getStarkKey(n),i=wr(s),o=new We.Account(i,(0,Ge.addHexPrefix)(n)),u={implementation:Pt.accountClassHash,selector:xr.getSelectorFromName("initialize"),calldata:Nt.CallData.compile({signer:s,guardian:"0"})},g=Nt.CallData.compile(u),d=await o.deployAccount({addressSalt:s,classHash:Pt.ProxyAccountClassHash,constructorCalldata:g,contractAddress:i},{nonce:e,maxFee:t,chainId:r});return{txId:d.txId,signature:Ht.stringify(d.signature)}}l.CreateSignedDeployAccountTx=za;async function Qa(e,t,r,n,s,i,o,u){let d=await new We.Account(t,(0,Ge.addHexPrefix)(u)).execute({contractAddress:e,entrypoint:"transfer",calldata:[r,n,0]},void 0,{nonce:s,maxFee:i,chainId:o});return{txId:d.txId,signature:Ht.stringify(d.signature)}}l.CreateTransferTx=Qa;async function ec(e,t,r,n,s,i,o,u){let g=new We.Account(t,(0,Ge.addHexPrefix)(u));n||(n=[]);let d=await g.execute({contractAddress:e,entrypoint:r,calldata:n},void 0,{nonce:s,maxFee:i,chainId:o});return{txId:d.txId,signature:Ht.stringify(d.signature)}}l.CreateContractCall=ec;async function tc(e,t,r,n,s,i){let u=await new We.Account(e,(0,Ge.addHexPrefix)(i)).execute(t,void 0,{nonce:r,maxFee:n,chainId:s});return{txId:u.txId,signature:Ht.stringify(u.signature)}}l.CreateMultiContractCall=tc;async function rc(e,t){let r=ce.signUtil.schnorr.stark.getPublicKey(t),n=ke.starkCurve.getStarkKey(t),s=wr(n),i=new We.Account(s,(0,Ge.addHexPrefix)(t)),o=await i.signMessage(e),u=await i.hashMessage(e);return{signature:o,hash:u,publicKey:r}}l.signMessageWithTypeData=rc;async function nc(e,t){let r=ce.signUtil.schnorr.stark.getPublicKey(t);return{signature:Za.starkCurve.sign(e,t),hash:e,publicKey:r}}l.signMessage=nc;function sc(e,t,r){return ce.signUtil.schnorr.stark.verify(e,t,r)}l.verifyMessage=sc;async function ic(){for(;;){let e=ce.base.randomBytes(32);if(oc(e)&&fs(e.toString("hex")))return`0x${ce.signUtil.schnorr.bytesToHex(e)}`}}l.GetRandomPrivateKey=ic;function fs(e){let t="7465dd6b1bbffdb05442eb17f5ca38ad1aa78a6f56bf4415bdee219114a47a1",r=ke.starkCurve.sign(t,e),n=ce.signUtil.schnorr.stark.getPublicKey(e);return ke.starkCurve.verify(r,t,n)}l.testSign=fs;function oc(e){let t=new ce.BN(Array.from(e)),r=new ce.BN(ke.starkCurve.CURVE.n.toString());return t.cmp(r)<0&&!t.isZero()}var ac=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function cc(e){let t;e.startsWith("0x")?t=e:t=`0x${e}`;let n=BigInt(e)%ac;return"0x"+n.toString(16)}l.modPrivateKey=cc});var gs=p(Dt=>{a();c();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.StarknetWallet=void 0;var re=Ts(),It=pe(),B=Ve(),Or=class extends re.BaseWallet{async getDerivedPath(t){return`m/44'/9004'/0'/0/${t.index}`}async getDerivedPrivateKey(t){return It.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=It.bip32.fromSeed(r).derivePath("m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(re.GenPrivateKeyError);let s=h.Buffer.from(n.privateKey),i=It.bip32.fromSeed(s).derivePath(t.hdPath);if(i.privateKey){let o=It.base.toHex(i.privateKey),u=B.ec.starkCurve.grindKey(o);return Promise.resolve(`0x${u}`)}else return Promise.reject(re.GenPrivateKeyError)}).catch(r=>Promise.reject(re.GenPrivateKeyError+":"+r))}async getNewAddress(t){try{let r=(0,B.modPrivateKey)(t.privateKey),n=B.ec.starkCurve.getStarkKey(r),i={address:(0,B.CalculateContractAddressFromHash)(n),publicKey:n};return Promise.resolve(i)}catch(r){return Promise.reject(re.NewAddressError+":"+r)}}async signTransaction(t){try{let r=t.data;if(r.nonce===void 0||r.maxFee===void 0)return Promise.reject(re.SignTxError);let n=r.nonce,s=r.maxFee,i=r.chainId||B.constants.StarknetChainId.SN_MAIN,o=(0,B.modPrivateKey)(t.privateKey);if(r.type=="transfer"&&r.transferData!==void 0){let u=r.transferData.contractAddress,g=r.transferData.from,d=r.transferData.to,f=r.transferData.amount,_=await(0,B.CreateTransferTx)(u,g,d,f,n,s,i,o);return Promise.resolve(_)}else if(r.type=="deploy_account"){let u=await(0,B.CreateSignedDeployAccountTx)(n,s,i,o);return Promise.resolve(u)}else if(r.type=="contract_call"&&r.contractCallData!==void 0){let u=r.contractCallData.contractAddress,g=r.contractCallData.from,d=r.contractCallData.functionName,f=r.contractCallData.callData,_=await(0,B.CreateContractCall)(u,g,d,f,n,s,i,o);return Promise.resolve(_)}else if(r.type=="multi_contract_call"&&r.multiContractCallData!==void 0){let u=r.multiContractCallData.from,g=r.multiContractCallData.calls,d=(0,B.CreateMultiContractCall)(u,g,n,s,i,o);return Promise.resolve(d)}return Promise.reject(re.SignTxError)}catch(r){return Promise.reject(re.SignTxError+":"+r)}}async validAddress(t){let r;try{(0,B.validateAndParseAddress)(t.address),r=t.address.startsWith("0x")&&t.address.length>50}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}async signMessage(t){try{let r=(0,B.modPrivateKey)(t.privateKey);if(typeof t.data.message=="string"){let n=t.data.message;if(n.startsWith("0x")){let s=(0,B.signMessage)(n,r);return Promise.resolve(s)}}else{let n=t.data.message,s=await(0,B.signMessageWithTypeData)(n,r);return Promise.resolve(s)}}catch(r){return Promise.reject(re.SignTxError+":"+r)}}verifyMessage(t){try{let r=t.data.signature,n=t.data.hash,s=t.data.publicKey;return Promise.resolve((0,B.verifyMessage)(r,n,s))}catch(r){return Promise.reject(r)}}};Dt.StarknetWallet=Or});export default gs();

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=StarknetWallet-VZ3HBQX7.js.map
