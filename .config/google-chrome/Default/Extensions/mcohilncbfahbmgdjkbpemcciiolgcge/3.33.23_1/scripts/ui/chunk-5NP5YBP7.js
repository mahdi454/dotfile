import{a as B}from"./chunk-CK5YETQI.js";import{d as v}from"./chunk-TSGQQ5QA.js";import{f as K}from"./chunk-S4NIXE4H.js";import{d as W}from"./chunk-GQYTOJVD.js";import{a as j}from"./chunk-FWZNHZQB.js";import{b as E,c as D,d as H}from"./chunk-L4BR2EHM.js";import{a as Y}from"./chunk-FAJ2Q5PZ.js";import{b as R}from"./chunk-JOXGYPV7.js";import{b as C,c as A}from"./chunk-U5WRMXFD.js";import{h as I}from"./chunk-FPV6XIHQ.js";import{i as k}from"./chunk-QHZHYX4V.js";import{o as Z}from"./chunk-KCWFMCND.js";import{m as h}from"./chunk-EBR3PGFZ.js";import{d as a,f as Q}from"./chunk-3HS6AHPS.js";import{b as _}from"./chunk-JUXPONKW.js";import{Mc as X,hc as O,mc as q,pb as b,w as d,wb as z,y as J}from"./chunk-O3CM75EN.js";import{Y as w,pa as U}from"./chunk-VFHYER2K.js";import{f as V,m as g,o as P}from"./chunk-ZCHLW7CF.js";g();P();z();q();X();var i=e=>Y(e)?e:O(_(e)),ee=({value:e,toAddr:r,contractAddress:t})=>!t||!K(r)?"":j(r,e),re="0x0",L=({data:e,value:r,nonce:t,walletId:n,gasPrice:s,gasLimit:c,localType:o,to:p,maxFeePerGas:T,from:u,supportEip1559:S,maxPriorityFeePerGas:G,chainId:l,contractAddress:x})=>{let M=u&&E(u,o),y=p&&E(p,o),N=l||b(o)?.realChainIdHex,F=e||ee({value:r,toAddr:y,contractAddress:x}),f={from:M,walletId:n,data:F,nonce:i(t),chainId:i(N),gasLimit:i(c)};return S?Object.assign(f,{type:h.FEE_MARKET,maxFeePerGas:i(T),maxPriorityFeePerGas:i(G)}):Object.assign(f,{type:h.LEGACY,gasPrice:i(s)}),x?Object.assign(f,{data:F,value:re,to:E(x,o)}):Object.assign(f,{to:y,value:i(r)}),f};var te=["low","medium","high"],se=(e={})=>te.map(r=>r==="low"?{level:r,gasPrice:e?.min,maxFeePerGas:e?.min,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.safePriorityFee}:r==="medium"?{level:r,gasPrice:e?.normal,maxFeePerGas:e?.normal,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.proposePriorityFee}:{level:r,gasPrice:e?.max,maxFeePerGas:e?.max,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.fastPriorityFee});g();P();var m=V(Z());U();Q();J();var Oe=()=>(0,m.useMemoizedFn)(async e=>{let{coinId:r}=e,t=L(e),s=await B(w(t,["to","data","from","value","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas"]));return await I({coinId:r},{inputData:s})}),_e=({coinId:e,fromAddr:r,walletId:t})=>{let n=W(e),s=n?.localType,c=v({fromAddr:D(r,s),walletId:t,localType:H(s)});return(0,m.useMemoizedFn)(async({data:o,from:p,to:T,value:u,gasPrice:S,maxFeePerGas:G,maxPriorityFeePerGas:l,needCapture:x,systemToken:M,...y})=>{let N=L({to:T,data:o,from:p,value:u,gasPrice:S,coinId:e,walletId:t,localType:s,systemToken:M,maxFeePerGas:G,maxPriorityFeePerGas:l,contractAddress:n?.address,...y}),F=await c({needCapture:x,params:N});return F.rawTxResult||F})},De=({walletId:e})=>{let r=k(e),t={[d.ETH_SIGN]:[A,a().signMessage],[d.PERSONAL_SIGN]:[A,a().signPersonalMessage],[d.ETH_SIGN_TYPED_DATA]:[C,a().signTypedMessage]};return(0,m.useMemoizedFn)(async({msgParams:n,baseChain:s,type:c})=>{let o=t[c];if(o)return R(r?.initialType)?o[0]({walletId:e,msgParams:n,baseChain:s}):o[1](n,s,e);throw new Error("Not Supported")})},He=()=>(0,m.useMemoizedFn)(async e=>a().encryptionPublicKey(e)),Ce=()=>(0,m.useMemoizedFn)(async e=>a().decryptMessageInline(e)),Re=()=>(0,m.useMemoizedFn)(async e=>a().decryptMessage(e));export{i as a,L as b,se as c,Oe as d,_e as e,De as f,He as g,Ce as h,Re as i};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-5NP5YBP7.js.map
