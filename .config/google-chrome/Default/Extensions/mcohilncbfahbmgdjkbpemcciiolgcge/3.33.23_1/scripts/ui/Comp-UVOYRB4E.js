import{c as pe,d as de,e as fe,g as _e,h as he}from"./chunk-IXMTS7C2.js";import"./chunk-YKMF3JI2.js";import"./chunk-454BIKTQ.js";import{b as ue}from"./chunk-BBVLJ4T3.js";import"./chunk-K4WB5MMU.js";import{c as $,d as W}from"./chunk-4HBLPFAF.js";import"./chunk-SJRV5U24.js";import{e as ce,g as me}from"./chunk-A3B5II6P.js";import{d as B}from"./chunk-XVPROSYE.js";import"./chunk-MYY7DCIN.js";import{B as ie,z as le}from"./chunk-6UFIPREK.js";import"./chunk-G4OIO3Z6.js";import"./chunk-JEIYTQ5E.js";import"./chunk-TOO5SEJU.js";import{d as oe}from"./chunk-DUWPYFAS.js";import"./chunk-PXWV5LKL.js";import"./chunk-M5PVKGM6.js";import"./chunk-AK34CZMZ.js";import"./chunk-QHZHYX4V.js";import"./chunk-FLFVNMKM.js";import"./chunk-YJ2NGJXA.js";import{a as ae}from"./chunk-ZUBNNPBM.js";import{b as ne}from"./chunk-2SHHGXPQ.js";import{a as re}from"./chunk-LXIBKSOK.js";import{d as se}from"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import"./chunk-DUKP4BLI.js";import"./chunk-S3O4LR55.js";import{m as U}from"./chunk-FZCNSMLW.js";import"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import"./chunk-KCWFMCND.js";import{w as Ve}from"./chunk-3TDWET6C.js";import"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import{a as Oe}from"./chunk-VPGNJAK6.js";import"./chunk-W6Q44ZHW.js";import"./chunk-3HS6AHPS.js";import"./chunk-WSUAESF2.js";import"./chunk-O2FUKKO3.js";import"./chunk-GQJVAWGG.js";import"./chunk-WO5B666G.js";import"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import{c as i}from"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import{Mc as te,wc as ee,xc as Y}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import{a as X,b as v,r as D}from"./chunk-J3CEQI22.js";import{f as J,pa as Re}from"./chunk-VFHYER2K.js";import{L as Ge,w as E}from"./chunk-KJIO572I.js";import"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import{c as O,ca as M}from"./chunk-KALFZBR5.js";import{a as Q}from"./chunk-V55FEIYE.js";import{a as T}from"./chunk-EAZTJZU7.js";import"./chunk-YTRW5WTJ.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-WPMHLM7C.js";import"./chunk-P7DU4NJA.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as c,m as t,o}from"./chunk-ZCHLW7CF.js";t();o();var e=c(T()),q=c(Ve()),Ee=c(Oe());Ge();t();o();var ge=c(T());var Ce=(d={})=>{let s=le(d);return(0,ge.useMemo)(()=>s.map(m=>{let{walletIdentities:r,marketValueSymbol:f,marketValue:_}=m;return{...m,walletAsset:`${U(_)} ${f||""}`,walletIdentities:r.map(h=>{let{balance:l="--",symbol:a}=h;return{...h,walletAsset:`${U(l)} ${a||""}`}})}}),[s])};te();t();o();var ke=c(O()),I=c(Q());var n=c(T());te();t();o();var xe=c(O()),k=c(Q());var y=c(T());t();o();var w=c(T());var ye=c(O());Re();t();o();var j={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Ae=({selected:d,disabled:s,onClick:m})=>w.default.createElement(i.FlexBox,{onClick:m,className:(0,ye.default)(j.root,{[j.disabled]:s}),align:i.ALIGN.center,justify:i.ALIGN.center},s?w.default.createElement(D.Circle,{disabled:!0,checked:!1}):w.default.createElement(D.Circle,{checked:d}));Ae.defaultProps={onClick:J,selected:!1,disabled:!1};var P=Ae;t();o();var K={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var be=({selected:d,createdId:s,isRpcMode:m,hiddenAssets:r,walletIdentity:f,handleClickWallet:_,requestChain:h,disabled:l=!1})=>{let{walletId:a=""}=f,b=(0,y.useMemo)(()=>d.includes(a),[d,a]),S=(0,y.useMemo)(()=>!!(!h||f?.account?.[h]),[h,f]);l=l||!S;let u=(0,y.useCallback)(()=>{l||_(a)},[_,a,l]);return y.default.createElement(i.FlexBox,{className:(0,xe.default)(K.root,{[K.highlight]:a===s,[K.disabled]:l}),align:i.ALIGN.center,onClick:u},y.default.createElement(_e,{disabled:l,isRpcMode:m,hiddenAssets:r,walletIdentity:f}),y.default.createElement(P,{selected:b,disabled:l}))};be.propTypes={selected:k.default.array.isRequired,createdId:k.default.string.isRequired,isRpcMode:k.default.bool.isRequired,walletIdentity:k.default.object.isRequired,hiddenAssets:k.default.bool.isRequired,handleClickWallet:k.default.func.isRequired};var Se=be;t();o();var x={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var Ie=({selected:d,isRpcMode:s,hiddenAssets:m,keyringIdentity:r,handleClickWallet:f,requestChain:_})=>{let[h,l]=he(),[a,b]=(0,n.useState)(!0),S=()=>{b(g=>!g)},u=(0,n.useMemo)(()=>r?.keyringIdentityType===Y.MPC,[r]),R=(0,n.useMemo)(()=>{let{mpcStatus:g,accountStatus:p}=r?.status||{};return u&&(g===W.ESCAPE||g===W.RECOVER||p===$.DELETE||p===$.FROZEN)},[u,r?.status]);return n.default.createElement(i.Box,{className:x.root},n.default.createElement(X,{onToggle:S,expanded:a,titleClass:x.title,className:x.keyring,headerClassName:x.header,contentClassName:x.content,iconClassName:(0,ke.default)(x.icon),title:n.default.createElement(de,{isRpcMode:s,hiddenAssets:m,keyringIdentity:r})},u&&n.default.createElement(fe,{keyringIdentity:r,className:x.mpcStatusAlertWrapper}),n.default.createElement(B,{dataSource:r?.walletIdentities||[],renderItem:g=>n.default.createElement(Se,{selected:d,isRpcMode:s,createdId:h,hiddenAssets:m,walletIdentity:g,handleClickWallet:f,requestChain:_,disabled:R})}),r.keyringIdentityType===Y.MNEMONIC?n.default.createElement(pe,{createdCb:l,keyringIdentity:r}):null))};Ie.propTypes={selected:I.default.array.isRequired,isRpcMode:I.default.bool.isRequired,hiddenAssets:I.default.bool.isRequired,keyringIdentity:I.default.object.isRequired,handleClickWallet:I.default.func.isRequired};var Te=Ie;t();o();var F={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var ve=({request:d,multi:s=!1})=>{let{origin:m}=d?.metadata||{},{baseChain:r,chainName:f,allChain:_,status:h}=ue(m);(0,e.useEffect)(()=>{ne()},[]);let[,l]=ie({hasBackup:!0}),a=Ce({hasBackup:!0}),{isRpcMode:b}=(0,q.useSelector)(oe),S=(0,e.useMemo)(()=>b?a:l,[b,l,a]),{backupedWallets:u,showTip:R}=(0,e.useMemo)(()=>{let C=!1;return{backupedWallets:S.reduce((V,Z)=>{let Be=Z?.walletIdentities?.map(we=>{let{initialType:Pe,walletId:Ke,account:Fe}=we;return Pe===ee.MPC_KEYRING&&Z?.status?.mpcStatus===W.ESCAPE?"":!_&&!Fe?.[r]?(C=!0,""):Ke})?.filter(Boolean);return V.concat(Be)},[]),showTip:C}},[S,_,r]),g=(0,q.useSelector)(ce),[p,L]=(0,e.useState)(g?.length>0?g:[]),Me=u.length>1&&s,G=(0,e.useMemo)(()=>u.length===p.length,[u,p]),We=(0,e.useCallback)(()=>{L(G?[]:u)},[G,u]),qe=(0,e.useCallback)(C=>{p.includes(C)?L(N=>N.filter(V=>V!==C)):L(N=>s?[...N,C]:[C])},[p,s]),z=(0,q.useDispatch)(),H=(0,Ee.useHistory)(),Le=(0,e.useCallback)(()=>{z(me.setSelectAccounts(p)),H.goBack()},[p,H,z]),[Ne]=se();return e.default.createElement(i.Container,{className:F.root},e.default.createElement(ae,{closeable:!1,bordered:!1,title:E("wallet_dapp_conncetion_subtitle_select_accounts")}),R&&h!=="PENDING"&&e.default.createElement(v,{desc:E("wallet_extension_connect_notification_text_dont_select_wallets",{network:f}),type:v.TYPE.warn,closable:!1}),Me?e.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:F.selectAll},e.default.createElement(i.Box,{className:F.text},E("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(P,{selected:G,onClick:We})):null,e.default.createElement(B,{dataSource:S,renderItem:C=>e.default.createElement(Te,{selected:p,isRpcMode:b,hiddenAssets:Ne,keyringIdentity:C,handleClickWallet:qe,requestChain:_?"":r})}),e.default.createElement(re.FooterActions,null,e.default.createElement(M,{block:!0,disabled:!p.length,category:M.CATEGORY.fill,type:M.TYPE.highlight,size:M.SIZE.lg,onClick:Le},E("wallet_set_password_btn_confirm"))))},po=ve;export{po as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Comp-UVOYRB4E.js.map
