import{a as Og,b as zu,g as Ju}from"./chunk-CE6MFPOV.js";import{K as Xu}from"./chunk-TVK2ZWZY.js";import{e as Zu}from"./chunk-VP3MHIB4.js";import{h as Qu,i as ef}from"./chunk-XEW6BP4P.js";import{a as xa}from"./chunk-J6BJ2GTW.js";import{j as Yu}from"./chunk-GMHKPVW3.js";import{a as $u,v as Vu}from"./chunk-2QZMXYJR.js";import{a as Vr}from"./chunk-EAM5TSUS.js";import{A as Gu,a as Ku}from"./chunk-VWSK5RHD.js";import{a as Vt}from"./chunk-E4XNFX7S.js";import"./chunk-6VTLAKSD.js";import{a as li}from"./chunk-2AX7AESG.js";import{a as bu,b as _u}from"./chunk-N437LHD7.js";import{a as iu}from"./chunk-YV5YBENX.js";import{a as Fu,d as Hu}from"./chunk-L6WH2C7V.js";import{a as Bu}from"./chunk-KP7FQOJR.js";import{a as nu}from"./chunk-VG3HKF2E.js";import"./chunk-SPJT6CQZ.js";import{b as Lu}from"./chunk-6EZPSLUO.js";import{c as qu}from"./chunk-E2TUKCQ2.js";import{e as Wu}from"./chunk-JMH6N6IP.js";import"./chunk-ODKQ5CCQ.js";import{a as ye}from"./chunk-EGFT6YV7.js";import{h as Nu,o as ku}from"./chunk-6HACCOUO.js";import"./chunk-CIJPMHDN.js";import{a as Uu}from"./chunk-5EKAQ7RI.js";import{i as ju}from"./chunk-VCDGXBMA.js";import"./chunk-WTLSVELU.js";import"./chunk-4HHM4J4U.js";import{c as Ta,d as Ja,e as Xa,f as Za}from"./chunk-BY6OW6FD.js";import{a as Ps,c as vt,d as rt,e as Os}from"./chunk-AE7B6XHD.js";import{a as ou}from"./chunk-HC6T2TFK.js";import"./chunk-FAJ2Q5PZ.js";import{e as ru}from"./chunk-5U7ZXBMP.js";import"./chunk-C77TCOTM.js";import"./chunk-EBBN5EW3.js";import{b as Zl,c as Ql}from"./chunk-KA5VAELR.js";import{a as tu}from"./chunk-JOXGYPV7.js";import"./chunk-RUFGCIXT.js";import"./chunk-4BUFJ3ZT.js";import"./chunk-2IQIJXLO.js";import{a as nt,b as Ce,c as Yt,d as en,e as vu,f as Su}from"./chunk-T37NLQBV.js";import"./chunk-U5WRMXFD.js";import{a as si}from"./chunk-JMTMYFWR.js";import{a as Mu}from"./chunk-RE5SSELD.js";import{f as Du}from"./chunk-A3B5II6P.js";import{d as $t}from"./chunk-XVPROSYE.js";import{c as Pu,i as Ru}from"./chunk-E2MXYP3A.js";import"./chunk-FPV6XIHQ.js";import{a as Tu,b as xu}from"./chunk-MZXFJMVC.js";import"./chunk-46PSZUMN.js";import"./chunk-MYY7DCIN.js";import"./chunk-AHIMORZ4.js";import{a as du}from"./chunk-RPBC7DID.js";import"./chunk-M2ZE7N7H.js";import{g as zl}from"./chunk-XZ6AHFH2.js";import{a as Ou}from"./chunk-3DEZPDXQ.js";import{i as hu,n as mu}from"./chunk-6UFIPREK.js";import"./chunk-G4OIO3Z6.js";import"./chunk-JEIYTQ5E.js";import{a as cu,b as pu}from"./chunk-TOO5SEJU.js";import{a as Jl,d as Xl}from"./chunk-DUWPYFAS.js";import"./chunk-CA4PB6NG.js";import{a as de}from"./chunk-SCXRHDUG.js";import{a as Iu}from"./chunk-5STCPPZU.js";import{a as Cu,b as Au}from"./chunk-ZVXDJZSD.js";import{a as gu,b as wu}from"./chunk-56SDY6L3.js";import"./chunk-PXWV5LKL.js";import"./chunk-M5PVKGM6.js";import"./chunk-AK34CZMZ.js";import"./chunk-QHZHYX4V.js";import"./chunk-FLFVNMKM.js";import{b as eu}from"./chunk-YJ2NGJXA.js";import{a as Eu}from"./chunk-26PQCAXO.js";import{f as fu}from"./chunk-3REMR6BD.js";import"./chunk-GPU2UKRI.js";import"./chunk-UA4GAS73.js";import{a as lu,b as ai}from"./chunk-SUQW5NCT.js";import{a as uu}from"./chunk-TUUPYEC6.js";import"./chunk-DQ2UEFEE.js";import"./chunk-ZUBNNPBM.js";import{s as yu}from"./chunk-2SHHGXPQ.js";import"./chunk-UK4SAM7E.js";import"./chunk-LXIBKSOK.js";import{b as au,c as su}from"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import{$ as hl,$a as Bl,A as Fs,B as Hs,C as Ks,D as Gs,E as $s,F as Vs,Fa as Rl,G as Ys,H as zs,I as Xr,J as Js,K as Xs,Ka as Ml,L as Zs,M as Qs,N as el,O as tl,P as rl,Pa as Il,Q as nl,R as il,Ra as Dl,S as ol,Sa as Nl,T as al,Ta as kl,U as sl,V as ll,W as ul,Wa as Zr,X as fl,Y as dl,Z as cl,Za as Ll,_ as pl,_a as ql,a as fe,aa as ml,ab as Wl,b as Yr,ba as gl,bb as Ul,c as zr,ca as wl,cb as jl,d as As,da as yl,db as Fl,e as Jr,ea as bl,eb as Hl,f as Rs,fa as oi,fb as Kl,g as Ms,ga as _l,h as Is,ha as vl,i as Ds,ia as Sl,k as Ns,l as ks,m as Ls,ma as El,oa as Tl,pa as xl,qa as Cl,ra as Pl,sa as Ol,ta as Al,u as qs,v as Bs,w as Ws,x as Us,y as js,z as St}from"./chunk-DUKP4BLI.js";import{b as oe}from"./chunk-S3O4LR55.js";import"./chunk-FZCNSMLW.js";import{b as Qa,c as es,d as ts,e as jr}from"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import{o as $r}from"./chunk-KCWFMCND.js";import{$ as _s,C as gs,Ca as xs,D as ws,Da as Cs,R as ys,_ as bs,ga as vs,ha as Ss,ja as Ye,ka as _t,sa as Es,u as gt,w as ge,ya as Ts,z as ms}from"./chunk-3TDWET6C.js";import"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import{a as Ee}from"./chunk-VPGNJAK6.js";import{Ca as os,Da as Lg,Ea as Kr,Fa as us,Ga as qg,H as Ga,I as $a,Ja as fs,Ka as ds,La as cs,Oa as ps,Ra as hs,S as Va,T as Ya,U as za,W as Mg,a as Pa,b as Oa,ba as rs,ca as Ng,d as ka,da as yt,ea as ni,f as La,g as qa,h as Ba,i as Wa,j as Ua,k as ja,l as Fa,o as Ha,p as Ka,pa as is,qa as kg}from"./chunk-W6Q44ZHW.js";import{b as ns,d as Ie,f as Gt}from"./chunk-3HS6AHPS.js";import"./chunk-VGEPKX55.js";import"./chunk-JUXPONKW.js";import"./chunk-WSUAESF2.js";import{c as Aa,d as wt}from"./chunk-O2FUKKO3.js";import"./chunk-GQJVAWGG.js";import"./chunk-WO5B666G.js";import"./chunk-GCXT25LW.js";import{b as Qr,d as Gl,f as $l,g as Vl,i as Yl}from"./chunk-TW63K7CB.js";import{c as ri}from"./chunk-FDCWN4NG.js";import{a as Gr}from"./chunk-5YGMD6KK.js";import{Ab as Sa,Bb as Ea,Cb as jt,Db as Xn,Nc as as,Pc as Fr,Sc as ss,Tc as ls,Uc as Hr,Vc as bt,Wc as ii,a as he,b as Ut,c as me,d as $e,e as Yn,ec as Ve,f as Re,fc as Qn,gc as Me,i as zn,lc as Ca,m as Lr,mb as ba,mc as Wr,n as ma,nc as Ig,o as ga,oc as Dg,p as Jn,q as qr,r as wa,s as ya,u as Br,wb as Pg,xb as _a,y as mt,yb as va}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import{D as Da,G as ie,H as Na,I as Kt,a as Ma,b as Ia,f as ei,j as Ur,n as Rg,o as we,r as ti,y as xe}from"./chunk-J3CEQI22.js";import{f as ve,j as la,la as fa,m as kr,n as ua,pa as ht}from"./chunk-VFHYER2K.js";import{A as ha,B as Y,L as Se,l as da,o as ca,u as pa,w as N}from"./chunk-KJIO572I.js";import{a as pt}from"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import{A as Ht,c as Ra,ca as Te}from"./chunk-KALFZBR5.js";import{a as Ft}from"./chunk-V55FEIYE.js";import{a as R}from"./chunk-EAZTJZU7.js";import{b as Zn,c as Ag}from"./chunk-L7P6YZ5R.js";import"./chunk-YTRW5WTJ.js";import"./chunk-CJ3MW6GG.js";import"./chunk-AKCHCVUS.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-UYGNKZ5P.js";import"./chunk-KZFZROAL.js";import"./chunk-WPMHLM7C.js";import"./chunk-P7DU4NJA.js";import{d as $n,g as Z,h as dt,i as Ge,j as Q,w as ct,x as Vn}from"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{c as T,f as g,h as Ke,l as process,m as a,n as f,o as s}from"./chunk-ZCHLW7CF.js";var zt=T((Xv,ui)=>{"use strict";a();s();!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?ui.exports=Bg:ui.exports=process.nextTick;function Bg(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,l;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),l=0;l<o.length;)o[l++]=arguments[l];return process.nextTick(function(){e.apply(null,o)})}}});var rf=T((eS,tf)=>{a();s();var Wg={}.toString;tf.exports=Array.isArray||function(e){return Wg.call(e)=="[object Array]"}});var fi=T((nS,nf)=>{a();s();nf.exports=dt().EventEmitter});var Jt=T((di,af)=>{a();s();var tn=$n(),De=tn.Buffer;function of(e,t){for(var r in e)t[r]=e[r]}De.from&&De.alloc&&De.allocUnsafe&&De.allocUnsafeSlow?af.exports=tn:(of(tn,di),di.Buffer=Et);function Et(e,t,r){return De(e,t,r)}of(De,Et);Et.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return De(e,t,r)};Et.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=De(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Et.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return De(e)};Et.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return tn.SlowBuffer(e)}});var uf=T((lS,lf)=>{"use strict";a();s();function Ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sf=Jt().Buffer;function jg(e,t,r){e.copy(t,r)}lf.exports=function(){function e(){Ug(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return sf.alloc(0);if(this.length===1)return this.head.data;for(var n=sf.allocUnsafe(r>>>0),i=this.head,o=0;i;)jg(i.data,n,o),o+=i.data.length,i=i.next;return n},e}()});var ci=T((dS,cf)=>{"use strict";a();s();var ff=zt();function Fg(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i){t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&ff(df,this,e);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(ff(df,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)})}function Hg(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function df(e,t){e.emit("error",t)}cf.exports={destroy:Fg,undestroy:Hg}});var hi=T((hS,_f)=>{"use strict";a();s();var it=zt();_f.exports=V;function hf(e){var t=this;this.next=null,this.entry=null,this.finish=function(){sw(t,e)}}var Kg=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:it,Tt;V.WritableState=Zt;var mf=Q();mf.inherits=Z();var Gg={deprecate:Vn()},gf=fi(),nn=Jt().Buffer,$g=globalThis.Uint8Array||function(){};function Vg(e){return nn.from(e)}function Yg(e){return nn.isBuffer(e)||e instanceof $g}var wf=ci();mf.inherits(V,gf);function zg(){}function Zt(e,t){Tt=Tt||ot(),e=e||{},this.objectMode=!!e.objectMode,t instanceof Tt&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){rw(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new hf(this)}Zt.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Zt.prototype,"buffer",{get:Gg.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var rn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(rn=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(e){return rn.call(this,e)?!0:e&&e._writableState instanceof Zt}})):rn=function(e){return e instanceof this};function V(e){if(Tt=Tt||ot(),!rn.call(V,this)&&!(this instanceof Tt))return new V(e);this._writableState=new Zt(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),gf.call(this)}V.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Jg(e,t){var r=new Error("write after end");e.emit("error",r),it(t,r)}function Xg(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),it(n,o),i=!1),i}V.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=Yg(e)&&!n.objectMode;return o&&!nn.isBuffer(e)&&(e=Vg(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=zg),n.ended?Jg(this,r):(o||Xg(this,n,e,r))&&(n.pendingcb++,i=Qg(this,n,o,e,t,r)),i};V.prototype.cork=function(){var e=this._writableState;e.corked++};V.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&yf(this,e))};V.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Zg(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=nn.from(t,r)),t}function Qg(e,t,r,n,i,o){if(!r){var l=Zg(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var m=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else pi(e,t,!1,u,n,i,o);return d}function pi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function ew(e,t,r,n,i){--t.pendingcb,r?(it(i,n),it(Xt,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Xt(e,t))}function tw(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function rw(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(tw(r),t)ew(e,r,n,t,i);else{var o=bf(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&yf(e,r),n?Kg(pf,e,r,o,i):pf(e,r,o,i)}}function pf(e,t,r,n){r||nw(e,t),t.pendingcb--,n(),Xt(e,t)}function nw(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function yf(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,pi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new hf(t)}else{for(;r;){var d=r.chunk,m=r.encoding,S=r.callback,E=t.objectMode?1:d.length;if(pi(e,t,!1,E,d,m,S),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}V.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};V.prototype._writev=null;V.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&aw(this,n,r)};function bf(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function iw(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Xt(e,t)})}function ow(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,it(iw,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Xt(e,t){var r=bf(t);return r&&(ow(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function aw(e,t,r){t.ending=!0,Xt(e,t),r&&(t.finished?it(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function sw(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(V.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});V.prototype.destroy=wf.destroy;V.prototype._undestroy=wf.undestroy;V.prototype._destroy=function(e,t){this.end(),t(e)}});var ot=T((wS,xf)=>{"use strict";a();s();var Sf=zt(),lw=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};xf.exports=ze;var Ef=Q();Ef.inherits=Z();var Tf=gi(),mi=hi();Ef.inherits(ze,Tf);var vf=lw(mi.prototype);for(on=0;on<vf.length;on++)an=vf[on],ze.prototype[an]||(ze.prototype[an]=mi.prototype[an]);var an,on;function ze(e){if(!(this instanceof ze))return new ze(e);Tf.call(this,e),mi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",uw)}function uw(){this.allowHalfOpen||this._writableState.ended||Sf(fw,this)}function fw(e){e.end()}Object.defineProperty(ze.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});ze.prototype._destroy=function(e,t){this.push(null),this.end(),Sf(t,e)}});var bi=T(Pf=>{"use strict";a();s();var yi=Jt().Buffer,Cf=yi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function dw(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function cw(e){var t=dw(e);if(typeof t!="string"&&(yi.isEncoding===Cf||!Cf(e)))throw new Error("Unknown encoding: "+e);return t||e}Pf.StringDecoder=Qt;function Qt(e){this.encoding=cw(e);var t;switch(this.encoding){case"utf16le":this.text=yw,this.end=bw,t=4;break;case"utf8":this.fillLast=mw,t=4;break;case"base64":this.text=_w,this.end=vw,t=3;break;default:this.write=Sw,this.end=Ew;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=yi.allocUnsafe(t)}Qt.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Qt.prototype.end=ww;Qt.prototype.text=gw;Qt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function wi(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function pw(e,t,r){var n=t.length-1;if(n<r)return 0;var i=wi(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=wi(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=wi(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function hw(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD".repeat(r);if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD".repeat(r+1);if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD".repeat(r+2)}}function mw(e){var t=this.lastTotal-this.lastNeed,r=hw(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function gw(e,t){var r=pw(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function ww(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t}function yw(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function bw(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function _w(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function vw(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Sw(e){return e.toString(this.encoding)}function Ew(e){return e&&e.length?this.write(e):""}});var gi=T((TS,Wf)=>{"use strict";a();s();var Ct=zt();Wf.exports=j;var Tw=rf(),er;j.ReadableState=Nf;var ES=dt().EventEmitter,Mf=function(e,t){return e.listeners(t).length},Ti=fi(),tr=Jt().Buffer,xw=globalThis.Uint8Array||function(){};function Cw(e){return tr.from(e)}function Pw(e){return tr.isBuffer(e)||e instanceof xw}var If=Q();If.inherits=Z();var _i=ct(),M=void 0;_i&&_i.debuglog?M=_i.debuglog("stream"):M=function(){};var Ow=uf(),Df=ci(),xt;If.inherits(j,Ti);var vi=["error","close","destroy","pause","resume"];function Aw(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Tw(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Nf(e,t){er=er||ot(),e=e||{},this.objectMode=!!e.objectMode,t instanceof er&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ow,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(xt||(xt=bi().StringDecoder),this.decoder=new xt(e.encoding),this.encoding=e.encoding)}function j(e){if(er=er||ot(),!(this instanceof j))return new j(e);this._readableState=new Nf(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ti.call(this)}Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});j.prototype.destroy=Df.destroy;j.prototype._undestroy=Df.undestroy;j.prototype._destroy=function(e,t){this.push(null),t(e)};j.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=tr.from(e,t),t=""),n=!0),kf(this,e,t,!1,n)};j.prototype.unshift=function(e){return kf(this,e,null,!0,!1)};function kf(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Dw(e,o);else{var l;i||(l=Rw(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==tr.prototype&&(t=Cw(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Si(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Si(e,o,t,!1):Lf(e,o)):Si(e,o,t,!1))):n||(o.reading=!1)}return Mw(o)}function Si(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&sn(e)),Lf(e,t)}function Rw(e,t){var r;return!Pw(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Mw(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}j.prototype.isPaused=function(){return this._readableState.flowing===!1};j.prototype.setEncoding=function(e){return xt||(xt=bi().StringDecoder),this._readableState.decoder=new xt(e),this._readableState.encoding=e,this};var Of=8388608;function Iw(e){return e>=Of?e=Of:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Af(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Iw(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}j.prototype.read=function(e){M("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ei(this):sn(this),null;if(e=Af(e,t),e===0&&t.ended)return t.length===0&&Ei(this),null;var n=t.needReadable;M("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,M("length less than watermark",n)),t.ended||t.reading?(n=!1,M("reading or ended",n)):n&&(M("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Af(r,t)));var i;return e>0?i=qf(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ei(this)),i!==null&&this.emit("data",i),i};function Dw(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,sn(e)}}function sn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ct(Rf,e):Rf(e))}function Rf(e){M("emit readable"),e.emit("readable"),xi(e)}function Lf(e,t){t.readingMore||(t.readingMore=!0,Ct(Nw,e,t))}function Nw(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}j.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};j.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?Ct(o):r.once("end",o),e.on("unpipe",l);function l(b,v){M("onunpipe"),b===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,S())}function u(){M("onend"),e.end()}var d=kw(r);e.on("drain",d);var m=!1;function S(){M("cleanup"),e.removeListener("close",x),e.removeListener("finish",c),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",O),m=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var E=!1;r.on("data",O);function O(b){M("ondata"),E=!1;var v=e.write(b);v===!1&&!E&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Bf(n.pipes,e)!==-1)&&!m&&(M("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,E=!0),r.pause())}function h(b){M("onerror",b),y(),e.removeListener("error",h),Mf(e,"error")===0&&e.emit("error",b)}Aw(e,"error",h);function x(){e.removeListener("finish",c),y()}e.once("close",x);function c(){M("onfinish"),e.removeListener("close",x),y()}e.once("finish",c);function y(){M("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(M("pipe resume"),r.resume()),e};function kw(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Mf(e,"data")&&(t.flowing=!0,xi(e))}}j.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Bf(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};j.prototype.on=function(e,t){var r=Ti.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&sn(this):Ct(Lw,this))}return r};j.prototype.addListener=j.prototype.on;function Lw(e){M("readable nexttick read 0"),e.read(0)}j.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,qw(this,e)),this};function qw(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ct(Bw,e,t))}function Bw(e,t){t.reading||(M("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),xi(e),t.flowing&&!t.reading&&e.read(0)}j.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function xi(e){var t=e._readableState;for(M("flow",t.flowing);t.flowing&&e.read()!==null;);}j.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var l=t.decoder.end();l&&l.length&&n.push(l)}n.push(null)}),e.on("data",function(l){if(M("wrapped data"),t.decoder&&(l=t.decoder.write(l)),!(t.objectMode&&l==null)&&!(!t.objectMode&&(!l||!l.length))){var u=n.push(l);u||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<vi.length;o++)e.on(vi[o],n.emit.bind(n,vi[o]));return n._read=function(l){M("wrapped _read",l),r&&(r=!1,e.resume())},n};j._fromList=qf;function qf(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Ww(e,t.buffer,t.decoder),r}function Ww(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Uw(e,t):jw(e,t),n}function Uw(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function jw(e,t){var r=tr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Ei(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ct(Fw,t,e))}function Fw(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Bf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Ci=T((PS,Ff)=>{"use strict";a();s();Ff.exports=Ne;var ln=ot(),jf=Q();jf.inherits=Z();jf.inherits(Ne,ln);function Hw(e){this.afterTransform=function(t,r){return Kw(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Kw(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Ne(e){if(!(this instanceof Ne))return new Ne(e);ln.call(this,e),this._transformState=new Hw(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r,n){Uf(t,r,n)}):Uf(t)})}Ne.prototype.push=function(e,t){return this._transformState.needTransform=!1,ln.prototype.push.call(this,e,t)};Ne.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Ne.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ne.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ne.prototype._destroy=function(e,t){var r=this;ln.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Uf(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var $f=T((RS,Gf)=>{"use strict";a();s();Gf.exports=rr;var Hf=Ci(),Kf=Q();Kf.inherits=Z();Kf.inherits(rr,Hf);function rr(e){if(!(this instanceof rr))return new rr(e);Hf.call(this,e)}rr.prototype._transform=function(e,t,r){r(null,e)}});var Yf=T((Pe,Vf)=>{a();s();Pe=Vf.exports=gi();Pe.Stream=Pe;Pe.Readable=Pe;Pe.Writable=hi();Pe.Duplex=ot();Pe.Transform=Ci();Pe.PassThrough=$f()});var ed=T((WS,Qf)=>{a();s();Qf.exports=ir;ir.default=ir;ir.stable=Xf;ir.stableStringify=Xf;var ke=[],Je=[];function ir(e,t,r){Pi(e,"",[],void 0);var n;for(Je.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,Zf(t),r);ke.length!==0;){var i=ke.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function Pi(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),ke.push([n,t,e,o])):Je.push([e,t]):(n[t]="[Circular]",ke.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Pi(e[i],i,r,e);else{var l=Object.keys(e);for(i=0;i<l.length;i++){var u=l[i];Pi(e[u],u,r,e)}}r.pop()}}function Gw(e,t){return e<t?-1:e>t?1:0}function Xf(e,t,r){var n=Oi(e,"",[],void 0)||e,i;for(Je.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,Zf(t),r);ke.length!==0;){var o=ke.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return i}function Oi(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),ke.push([n,t,e,o])):Je.push([e,t]):(n[t]="[Circular]",ke.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Oi(e[i],i,r,e);else{var l={},u=Object.keys(e).sort(Gw);for(i=0;i<u.length;i++){var d=u[i];Oi(e[d],d,r,e),l[d]=e[d]}if(n!==void 0)ke.push([n,t,e]),n[t]=l;else return l}r.pop()}}function Zf(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(Je.length>0)for(var n=0;n<Je.length;n++){var i=Je[n];if(i[1]===t&&i[0]===r){r="[Circular]",Je.splice(n,1);break}}return e.call(this,t,r)}}});var fn=T(Pt=>{"use strict";a();s();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.EthereumProviderError=Pt.EthereumRpcError=void 0;var $w=ed(),un=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return $w.default(this.serialize(),Yw,2)}};Pt.EthereumRpcError=un;var Ai=class extends un{constructor(t,r,n){if(!Vw(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};Pt.EthereumProviderError=Ai;function Vw(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Yw(e,t){if(t!=="[Circular]")return t}});var dn=T(Ot=>{"use strict";a();s();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.errorValues=Ot.errorCodes=void 0;Ot.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ot.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var Ii=T(be=>{"use strict";a();s();Object.defineProperty(be,"__esModule",{value:!0});be.serializeError=be.isValidCode=be.getMessageFromCode=be.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var cn=dn(),zw=fn(),td=cn.errorCodes.rpc.internal,Jw="Unspecified error message. This is a bug, please report it.",Xw={code:td,message:Mi(td)};be.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function Mi(e,t=Jw){if(Number.isInteger(e)){let r=e.toString();if(Ri(cn.errorValues,r))return cn.errorValues[r].message;if(id(e))return be.JSON_RPC_SERVER_ERROR_MESSAGE}return t}be.getMessageFromCode=Mi;function nd(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(cn.errorValues[t]||id(e))}be.isValidCode=nd;function Zw(e,{fallbackError:t=Xw,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof zw.EthereumRpcError)return e.serialize();let o={};if(e&&typeof e=="object"&&!Array.isArray(e)&&Ri(e,"code")&&nd(e.code)){let u=e;o.code=u.code,u.message&&typeof u.message=="string"?(o.message=u.message,Ri(u,"data")&&(o.data=u.data)):(o.message=Mi(o.code),o.data={originalError:rd(e)})}else{o.code=t.code;let u=(n=e)===null||n===void 0?void 0:n.message;o.message=u&&typeof u=="string"?u:t.message,o.data={originalError:rd(e)}}let l=(i=e)===null||i===void 0?void 0:i.stack;return r&&e&&l&&typeof l=="string"&&(o.stack=l),o}be.serializeError=Zw;function id(e){return e>=-32099&&e<=-32e3}function rd(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function Ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var sd=T(pn=>{"use strict";a();s();Object.defineProperty(pn,"__esModule",{value:!0});pn.ethErrors=void 0;var Di=fn(),od=Ii(),J=dn();pn.ethErrors={rpc:{parse:e=>ce(J.errorCodes.rpc.parse,e),invalidRequest:e=>ce(J.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ce(J.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ce(J.errorCodes.rpc.methodNotFound,e),internal:e=>ce(J.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ce(t,e)},invalidInput:e=>ce(J.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ce(J.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ce(J.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ce(J.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ce(J.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ce(J.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>or(J.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>or(J.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>or(J.errorCodes.provider.unsupportedMethod,e),disconnected:e=>or(J.errorCodes.provider.disconnected,e),chainDisconnected:e=>or(J.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Di.EthereumProviderError(t,r,n)}}};function ce(e,t){let[r,n]=ad(t);return new Di.EthereumRpcError(e,r||od.getMessageFromCode(e),n)}function or(e,t){let[r,n]=ad(t);return new Di.EthereumProviderError(e,r||od.getMessageFromCode(e),n)}function ad(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var fd=T(te=>{"use strict";a();s();Object.defineProperty(te,"__esModule",{value:!0});te.getMessageFromCode=te.serializeError=te.EthereumProviderError=te.EthereumRpcError=te.ethErrors=te.errorCodes=void 0;var ld=fn();Object.defineProperty(te,"EthereumRpcError",{enumerable:!0,get:function(){return ld.EthereumRpcError}});Object.defineProperty(te,"EthereumProviderError",{enumerable:!0,get:function(){return ld.EthereumProviderError}});var ud=Ii();Object.defineProperty(te,"serializeError",{enumerable:!0,get:function(){return ud.serializeError}});Object.defineProperty(te,"getMessageFromCode",{enumerable:!0,get:function(){return ud.getMessageFromCode}});var Qw=sd();Object.defineProperty(te,"ethErrors",{enumerable:!0,get:function(){return Qw.ethErrors}});var ey=dn();Object.defineProperty(te,"errorCodes",{enumerable:!0,get:function(){return ey.errorCodes}})});var md=T((sE,hd)=>{a();s();var ry={}.toString;hd.exports=Array.isArray||function(e){return ry.call(e)=="[object Array]"}});var ki=T((fE,gd)=>{a();s();gd.exports=dt().EventEmitter});var ar=T((Li,yd)=>{a();s();var hn=$n(),Le=hn.Buffer;function wd(e,t){for(var r in e)t[r]=e[r]}Le.from&&Le.alloc&&Le.allocUnsafe&&Le.allocUnsafeSlow?yd.exports=hn:(wd(hn,Li),Li.Buffer=At);function At(e,t,r){return Le(e,t,r)}wd(Le,At);At.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Le(e,t,r)};At.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Le(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};At.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Le(e)};At.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return hn.SlowBuffer(e)}});var _d=T((mE,qi)=>{"use strict";a();s();function ny(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var bd=ar().Buffer,sr=ct();function iy(e,t,r){e.copy(t,r)}qi.exports=function(){function e(){ny(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return bd.alloc(0);if(this.length===1)return this.head.data;for(var n=bd.allocUnsafe(r>>>0),i=this.head,o=0;i;)iy(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();sr&&sr.inspect&&sr.inspect.custom&&(qi.exports.prototype[sr.inspect.custom]=function(){var e=sr.inspect({length:this.length});return this.constructor.name+" "+e})});var Bi=T((yE,Ed)=>{"use strict";a();s();var vd=Ge();function oy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&vd.nextTick(Sd,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(vd.nextTick(Sd,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function ay(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sd(e,t){e.emit("error",t)}Ed.exports={destroy:oy,undestroy:ay}});var Ui=T((vE,Md)=>{"use strict";a();s();var at=Ge();Md.exports=K;function xd(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Ty(t,e)}}var sy=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:at.nextTick,Rt;K.WritableState=ur;var Cd=Object.create(Q());Cd.inherits=Z();var ly={deprecate:Vn()},Pd=ki(),gn=ar().Buffer,uy=globalThis.Uint8Array||function(){};function fy(e){return gn.from(e)}function dy(e){return gn.isBuffer(e)||e instanceof uy}var Od=Bi();Cd.inherits(K,Pd);function cy(){}function ur(e,t){Rt=Rt||st(),e=e||{};var r=t instanceof Rt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){by(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new xd(this)}ur.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(ur.prototype,"buffer",{get:ly.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var mn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mn=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(e){return mn.call(this,e)?!0:this!==K?!1:e&&e._writableState instanceof ur}})):mn=function(e){return e instanceof this};function K(e){if(Rt=Rt||st(),!mn.call(K,this)&&!(this instanceof Rt))return new K(e);this._writableState=new ur(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Pd.call(this)}K.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function py(e,t){var r=new Error("write after end");e.emit("error",r),at.nextTick(t,r)}function hy(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),at.nextTick(n,o),i=!1),i}K.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&dy(e);return o&&!gn.isBuffer(e)&&(e=fy(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=cy),n.ended?py(this,r):(o||hy(this,n,e,r))&&(n.pendingcb++,i=gy(this,n,o,e,t,r)),i};K.prototype.cork=function(){var e=this._writableState;e.corked++};K.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Ad(this,e))};K.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function my(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=gn.from(t,r)),t}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function gy(e,t,r,n,i,o){if(!r){var l=my(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var m=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Wi(e,t,!1,u,n,i,o);return d}function Wi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function wy(e,t,r,n,i){--t.pendingcb,r?(at.nextTick(i,n),at.nextTick(lr,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),lr(e,t))}function yy(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function by(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(yy(r),t)wy(e,r,n,t,i);else{var o=Rd(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Ad(e,r),n?sy(Td,e,r,o,i):Td(e,r,o,i)}}function Td(e,t,r,n){r||_y(e,t),t.pendingcb--,n(),lr(e,t)}function _y(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Ad(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,Wi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new xd(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,m=r.encoding,S=r.callback,E=t.objectMode?1:d.length;if(Wi(e,t,!1,E,d,m,S),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}K.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};K.prototype._writev=null;K.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Ey(this,n,r)};function Rd(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function vy(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),lr(e,t)})}function Sy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,at.nextTick(vy,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function lr(e,t){var r=Rd(t);return r&&(Sy(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Ey(e,t,r){t.ending=!0,lr(e,t),r&&(t.finished?at.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Ty(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(K.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});K.prototype.destroy=Od.destroy;K.prototype._undestroy=Od.undestroy;K.prototype._destroy=function(e,t){this.end(),t(e)}});var st=T((TE,kd)=>{"use strict";a();s();var Id=Ge(),xy=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};kd.exports=qe;var Dd=Object.create(Q());Dd.inherits=Z();var Nd=Hi(),Fi=Ui();Dd.inherits(qe,Nd);for(ji=xy(Fi.prototype),wn=0;wn<ji.length;wn++)yn=ji[wn],qe.prototype[yn]||(qe.prototype[yn]=Fi.prototype[yn]);var ji,yn,wn;function qe(e){if(!(this instanceof qe))return new qe(e);Nd.call(this,e),Fi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Cy)}Object.defineProperty(qe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Cy(){this.allowHalfOpen||this._writableState.ended||Id.nextTick(Py,this)}function Py(e){e.end()}Object.defineProperty(qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});qe.prototype._destroy=function(e,t){this.push(null),this.end(),Id.nextTick(t,e)}});var $i=T(qd=>{"use strict";a();s();var Gi=ar().Buffer,Ld=Gi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Oy(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Ay(e){var t=Oy(e);if(typeof t!="string"&&(Gi.isEncoding===Ld||!Ld(e)))throw new Error("Unknown encoding: "+e);return t||e}qd.StringDecoder=fr;function fr(e){this.encoding=Ay(e);var t;switch(this.encoding){case"utf16le":this.text=ky,this.end=Ly,t=4;break;case"utf8":this.fillLast=Iy,t=4;break;case"base64":this.text=qy,this.end=By,t=3;break;default:this.write=Wy,this.end=Uy;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Gi.allocUnsafe(t)}fr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};fr.prototype.end=Ny;fr.prototype.text=Dy;fr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ki(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Ry(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Ki(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ki(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ki(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function My(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Iy(e){var t=this.lastTotal-this.lastNeed,r=My(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Dy(e,t){var r=Ry(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Ny(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function ky(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Ly(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function qy(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function By(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Wy(e){return e.toString(this.encoding)}function Uy(e){return e&&e.length?this.write(e):""}});var Hi=T((ME,zd)=>{"use strict";a();s();var It=Ge();zd.exports=W;var jy=md(),dr;W.ReadableState=Kd;var RE=dt().EventEmitter,jd=function(e,t){return e.listeners(t).length},Xi=ki(),cr=ar().Buffer,Fy=globalThis.Uint8Array||function(){};function Hy(e){return cr.from(e)}function Ky(e){return cr.isBuffer(e)||e instanceof Fy}var Fd=Object.create(Q());Fd.inherits=Z();var Vi=ct(),I=void 0;Vi&&Vi.debuglog?I=Vi.debuglog("stream"):I=function(){};var Gy=_d(),Hd=Bi(),Mt;Fd.inherits(W,Xi);var Yi=["error","close","destroy","pause","resume"];function $y(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):jy(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Kd(e,t){dr=dr||st(),e=e||{};var r=t instanceof dr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Gy,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Mt||(Mt=$i().StringDecoder),this.decoder=new Mt(e.encoding),this.encoding=e.encoding)}function W(e){if(dr=dr||st(),!(this instanceof W))return new W(e);this._readableState=new Kd(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Xi.call(this)}Object.defineProperty(W.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});W.prototype.destroy=Hd.destroy;W.prototype._undestroy=Hd.undestroy;W.prototype._destroy=function(e,t){this.push(null),t(e)};W.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=cr.from(e,t),t=""),n=!0),Gd(this,e,t,!1,n)};W.prototype.unshift=function(e){return Gd(this,e,null,!0,!1)};function Gd(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Jy(e,o);else{var l;i||(l=Vy(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==cr.prototype&&(t=Hy(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):zi(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?zi(e,o,t,!1):$d(e,o)):zi(e,o,t,!1))):n||(o.reading=!1)}return Yy(o)}function zi(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&bn(e)),$d(e,t)}function Vy(e,t){var r;return!Ky(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Yy(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}W.prototype.isPaused=function(){return this._readableState.flowing===!1};W.prototype.setEncoding=function(e){return Mt||(Mt=$i().StringDecoder),this._readableState.decoder=new Mt(e),this._readableState.encoding=e,this};var Bd=8388608;function zy(e){return e>=Bd?e=Bd:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Wd(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=zy(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}W.prototype.read=function(e){I("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return I("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ji(this):bn(this),null;if(e=Wd(e,t),e===0&&t.ended)return t.length===0&&Ji(this),null;var n=t.needReadable;I("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,I("length less than watermark",n)),t.ended||t.reading?(n=!1,I("reading or ended",n)):n&&(I("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Wd(r,t)));var i;return e>0?i=Vd(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ji(this)),i!==null&&this.emit("data",i),i};function Jy(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,bn(e)}}function bn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(I("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?It.nextTick(Ud,e):Ud(e))}function Ud(e){I("emit readable"),e.emit("readable"),Zi(e)}function $d(e,t){t.readingMore||(t.readingMore=!0,It.nextTick(Xy,e,t))}function Xy(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}W.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};W.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,I("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?It.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(b,v){I("onunpipe"),b===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,S())}function u(){I("onend"),e.end()}var d=Zy(r);e.on("drain",d);var m=!1;function S(){I("cleanup"),e.removeListener("close",x),e.removeListener("finish",c),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",O),m=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var E=!1;r.on("data",O);function O(b){I("ondata"),E=!1;var v=e.write(b);v===!1&&!E&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Yd(n.pipes,e)!==-1)&&!m&&(I("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,E=!0),r.pause())}function h(b){I("onerror",b),y(),e.removeListener("error",h),jd(e,"error")===0&&e.emit("error",b)}$y(e,"error",h);function x(){e.removeListener("finish",c),y()}e.once("close",x);function c(){I("onfinish"),e.removeListener("close",x),y()}e.once("finish",c);function y(){I("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(I("pipe resume"),r.resume()),e};function Zy(e){return function(){var t=e._readableState;I("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&jd(e,"data")&&(t.flowing=!0,Zi(e))}}W.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Yd(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};W.prototype.on=function(e,t){var r=Xi.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&bn(this):It.nextTick(Qy,this))}return r};W.prototype.addListener=W.prototype.on;function Qy(e){I("readable nexttick read 0"),e.read(0)}W.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,eb(this,e)),this};function eb(e,t){t.resumeScheduled||(t.resumeScheduled=!0,It.nextTick(tb,e,t))}function tb(e,t){t.reading||(I("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Zi(e),t.flowing&&!t.reading&&e.read(0)}W.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Zi(e){var t=e._readableState;for(I("flow",t.flowing);t.flowing&&e.read()!==null;);}W.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(I("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(I("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<Yi.length;o++)e.on(Yi[o],this.emit.bind(this,Yi[o]));return this._read=function(l){I("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});W._fromList=Vd;function Vd(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=rb(e,t.buffer,t.decoder),r}function rb(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?nb(e,t):ib(e,t),n}function nb(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function ib(e,t){var r=cr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Ji(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,It.nextTick(ob,t,e))}function ob(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Yd(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Qi=T((NE,Zd)=>{"use strict";a();s();Zd.exports=Be;var _n=st(),Xd=Object.create(Q());Xd.inherits=Z();Xd.inherits(Be,_n);function ab(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Be(e){if(!(this instanceof Be))return new Be(e);_n.call(this,e),this._transformState={afterTransform:ab.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",sb)}function sb(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Jd(e,t,r)}):Jd(this,null,null)}Be.prototype.push=function(e,t){return this._transformState.needTransform=!1,_n.prototype.push.call(this,e,t)};Be.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Be.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Be.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Be.prototype._destroy=function(e,t){var r=this;_n.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Jd(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var rc=T((qE,tc)=>{"use strict";a();s();tc.exports=pr;var Qd=Qi(),ec=Object.create(Q());ec.inherits=Z();ec.inherits(pr,Qd);function pr(e){if(!(this instanceof pr))return new pr(e);Qd.call(this,e)}pr.prototype._transform=function(e,t,r){r(null,e)}});var ic=T((Oe,nc)=>{a();s();Oe=nc.exports=Hi();Oe.Stream=Oe;Oe.Readable=Oe;Oe.Writable=Ui();Oe.Duplex=st();Oe.Transform=Qi();Oe.PassThrough=rc()});var eo=T((FE,ac)=>{a();s();var lb=Zn(),ub=function(){},fb=function(e){return e.setHeader&&typeof e.abort=="function"},db=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},oc=function(e,t,r){if(typeof t=="function")return oc(e,null,t);t||(t={}),r=lb(r||ub);var n=e._writableState,i=e._readableState,o=t.readable||t.readable!==!1&&e.readable,l=t.writable||t.writable!==!1&&e.writable,u=!1,d=function(){e.writable||m()},m=function(){l=!1,o||r.call(e)},S=function(){o=!1,l||r.call(e)},E=function(y){r.call(e,y?new Error("exited with error code: "+y):null)},O=function(y){r.call(e,y)},h=function(){process.nextTick(x)},x=function(){if(!u){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(l&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},c=function(){e.req.on("finish",m)};return fb(e)?(e.on("complete",m),e.on("abort",h),e.req?c():e.on("request",c)):l&&!n&&(e.on("end",d),e.on("close",d)),db(e)&&e.on("exit",E),e.on("end",S),e.on("finish",m),t.error!==!1&&e.on("error",O),e.on("close",h),function(){u=!0,e.removeListener("complete",m),e.removeListener("abort",h),e.removeListener("request",c),e.req&&e.req.removeListener("finish",m),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",m),e.removeListener("exit",E),e.removeListener("end",S),e.removeListener("error",O),e.removeListener("close",h)}};ac.exports=oc});var dc=T((GE,fc)=>{a();s();var{Duplex:uc}=ic(),sc=eo(),cb=Zn(),lc={},to=class extends uc{constructor(t={}){let r=Object.assign({},t,{objectMode:!0});super(r),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');let r=new ro({parent:this,name:t});return this._substreams[t]=r,pb(this,n=>{r.destroy(n)}),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[t]=lc}_read(){}_write(t,r,n){let i=t.name,o=t.data;if(!i)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();let l=this._substreams[i];if(!l)return console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n();l!==lc&&l.push(o),n()}},ro=class extends uc{constructor({parent:t,name:r}){super({objectMode:!0}),this._parent=t,this._name=r}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}};fc.exports=to;function pb(e,t){let r=cb(t);sc(e,{readable:!1},r),sc(e,{writable:!1},r)}});var hc=T((YE,pc)=>{a();s();var hb=Zn(),mb=eo(),no=Ag(),hr=function(){},gb=/^v?\.0/.test(process.version),vn=function(e){return typeof e=="function"},wb=function(e){return!gb||!no?!1:(e instanceof(no.ReadStream||hr)||e instanceof(no.WriteStream||hr))&&vn(e.close)},yb=function(e){return e.setHeader&&vn(e.abort)},bb=function(e,t,r,n){n=hb(n);var i=!1;e.on("close",function(){i=!0}),mb(e,{readable:t,writable:r},function(l){if(l)return n(l);i=!0,n()});var o=!1;return function(l){if(!i&&!o){if(o=!0,wb(e))return e.close(hr);if(yb(e))return e.abort();if(vn(e.destroy))return e.destroy();n(l||new Error("stream was destroyed"))}}},cc=function(e){e()},_b=function(e,t){return e.pipe(t)},vb=function(){var e=Array.prototype.slice.call(arguments),t=vn(e[e.length-1]||hr)&&e.pop()||hr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var l=o<e.length-1,u=o>0;return bb(i,l,u,function(d){r||(r=d),d&&n.forEach(cc),!l&&(n.forEach(cc),t(r))})});return e.reduce(_b)};pc.exports=vb});var _c=T((uT,bc)=>{a();s();var Eb={}.toString;bc.exports=Array.isArray||function(e){return Eb.call(e)=="[object Array]"}});var io=T((cT,vc)=>{a();s();vc.exports=dt().EventEmitter});var gr=T((oo,Ec)=>{a();s();var Sn=$n(),We=Sn.Buffer;function Sc(e,t){for(var r in e)t[r]=e[r]}We.from&&We.alloc&&We.allocUnsafe&&We.allocUnsafeSlow?Ec.exports=Sn:(Sc(Sn,oo),oo.Buffer=Dt);function Dt(e,t,r){return We(e,t,r)}Sc(We,Dt);Dt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return We(e,t,r)};Dt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=We(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Dt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return We(e)};Dt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sn.SlowBuffer(e)}});var xc=T((wT,ao)=>{"use strict";a();s();function Tb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Tc=gr().Buffer,wr=ct();function xb(e,t,r){e.copy(t,r)}ao.exports=function(){function e(){Tb(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Tc.alloc(0);if(this.length===1)return this.head.data;for(var n=Tc.allocUnsafe(r>>>0),i=this.head,o=0;i;)xb(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();wr&&wr.inspect&&wr.inspect.custom&&(ao.exports.prototype[wr.inspect.custom]=function(){var e=wr.inspect({length:this.length});return this.constructor.name+" "+e})});var so=T((_T,Oc)=>{"use strict";a();s();var Cc=Ge();function Cb(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Cc.nextTick(Pc,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Cc.nextTick(Pc,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function Pb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Pc(e,t){e.emit("error",t)}Oc.exports={destroy:Cb,undestroy:Pb}});var uo=T((ET,Lc)=>{"use strict";a();s();var lt=Ge();Lc.exports=$;function Rc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Gb(t,e)}}var Ob=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:lt.nextTick,Nt;$.WritableState=br;var Mc=Object.create(Q());Mc.inherits=Z();var Ab={deprecate:Vn()},Ic=io(),Tn=gr().Buffer,Rb=globalThis.Uint8Array||function(){};function Mb(e){return Tn.from(e)}function Ib(e){return Tn.isBuffer(e)||e instanceof Rb}var Dc=so();Mc.inherits($,Ic);function Db(){}function br(e,t){Nt=Nt||ut(),e=e||{};var r=t instanceof Nt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){Ub(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Rc(this)}br.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(br.prototype,"buffer",{get:Ab.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var En;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(En=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(e){return En.call(this,e)?!0:this!==$?!1:e&&e._writableState instanceof br}})):En=function(e){return e instanceof this};function $(e){if(Nt=Nt||ut(),!En.call($,this)&&!(this instanceof Nt))return new $(e);this._writableState=new br(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Ic.call(this)}$.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Nb(e,t){var r=new Error("write after end");e.emit("error",r),lt.nextTick(t,r)}function kb(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),lt.nextTick(n,o),i=!1),i}$.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&Ib(e);return o&&!Tn.isBuffer(e)&&(e=Mb(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Db),n.ended?Nb(this,r):(o||kb(this,n,e,r))&&(n.pendingcb++,i=qb(this,n,o,e,t,r)),i};$.prototype.cork=function(){var e=this._writableState;e.corked++};$.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Nc(this,e))};$.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Lb(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Tn.from(t,r)),t}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function qb(e,t,r,n,i,o){if(!r){var l=Lb(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var m=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},m?m.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else lo(e,t,!1,u,n,i,o);return d}function lo(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Bb(e,t,r,n,i){--t.pendingcb,r?(lt.nextTick(i,n),lt.nextTick(yr,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),yr(e,t))}function Wb(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Ub(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Wb(r),t)Bb(e,r,n,t,i);else{var o=kc(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Nc(e,r),n?Ob(Ac,e,r,o,i):Ac(e,r,o,i)}}function Ac(e,t,r,n){r||jb(e,t),t.pendingcb--,n(),yr(e,t)}function jb(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Nc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,lo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Rc(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,m=r.encoding,S=r.callback,E=t.objectMode?1:d.length;if(lo(e,t,!1,E,d,m,S),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}$.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};$.prototype._writev=null;$.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Kb(this,n,r)};function kc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Fb(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),yr(e,t)})}function Hb(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,lt.nextTick(Fb,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function yr(e,t){var r=kc(t);return r&&(Hb(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Kb(e,t,r){t.ending=!0,yr(e,t),r&&(t.finished?lt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Gb(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty($.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});$.prototype.destroy=Dc.destroy;$.prototype._undestroy=Dc.undestroy;$.prototype._destroy=function(e,t){this.end(),t(e)}});var ut=T((CT,Uc)=>{"use strict";a();s();var qc=Ge(),$b=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Uc.exports=Ue;var Bc=Object.create(Q());Bc.inherits=Z();var Wc=po(),co=uo();Bc.inherits(Ue,Wc);for(fo=$b(co.prototype),xn=0;xn<fo.length;xn++)Cn=fo[xn],Ue.prototype[Cn]||(Ue.prototype[Cn]=co.prototype[Cn]);var fo,Cn,xn;function Ue(e){if(!(this instanceof Ue))return new Ue(e);Wc.call(this,e),co.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Vb)}Object.defineProperty(Ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Vb(){this.allowHalfOpen||this._writableState.ended||qc.nextTick(Yb,this)}function Yb(e){e.end()}Object.defineProperty(Ue.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ue.prototype._destroy=function(e,t){this.push(null),this.end(),qc.nextTick(t,e)}});var go=T(Fc=>{"use strict";a();s();var mo=gr().Buffer,jc=mo.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function zb(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Jb(e){var t=zb(e);if(typeof t!="string"&&(mo.isEncoding===jc||!jc(e)))throw new Error("Unknown encoding: "+e);return t||e}Fc.StringDecoder=_r;function _r(e){this.encoding=Jb(e);var t;switch(this.encoding){case"utf16le":this.text=r_,this.end=n_,t=4;break;case"utf8":this.fillLast=Qb,t=4;break;case"base64":this.text=i_,this.end=o_,t=3;break;default:this.write=a_,this.end=s_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mo.allocUnsafe(t)}_r.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};_r.prototype.end=t_;_r.prototype.text=e_;_r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ho(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Xb(e,t,r){var n=t.length-1;if(n<r)return 0;var i=ho(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=ho(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=ho(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Zb(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Qb(e){var t=this.lastTotal-this.lastNeed,r=Zb(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function e_(e,t){var r=Xb(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function t_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function r_(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function n_(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function i_(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function o_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function a_(e){return e.toString(this.encoding)}function s_(e){return e&&e.length?this.write(e):""}});var po=T((DT,ep)=>{"use strict";a();s();var Lt=Ge();ep.exports=U;var l_=_c(),vr;U.ReadableState=zc;var IT=dt().EventEmitter,$c=function(e,t){return e.listeners(t).length},vo=io(),Sr=gr().Buffer,u_=globalThis.Uint8Array||function(){};function f_(e){return Sr.from(e)}function d_(e){return Sr.isBuffer(e)||e instanceof u_}var Vc=Object.create(Q());Vc.inherits=Z();var wo=ct(),D=void 0;wo&&wo.debuglog?D=wo.debuglog("stream"):D=function(){};var c_=xc(),Yc=so(),kt;Vc.inherits(U,vo);var yo=["error","close","destroy","pause","resume"];function p_(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):l_(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function zc(e,t){vr=vr||ut(),e=e||{};var r=t instanceof vr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new c_,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(kt||(kt=go().StringDecoder),this.decoder=new kt(e.encoding),this.encoding=e.encoding)}function U(e){if(vr=vr||ut(),!(this instanceof U))return new U(e);this._readableState=new zc(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),vo.call(this)}Object.defineProperty(U.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});U.prototype.destroy=Yc.destroy;U.prototype._undestroy=Yc.undestroy;U.prototype._destroy=function(e,t){this.push(null),t(e)};U.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Sr.from(e,t),t=""),n=!0),Jc(this,e,t,!1,n)};U.prototype.unshift=function(e){return Jc(this,e,null,!0,!1)};function Jc(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,w_(e,o);else{var l;i||(l=h_(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Sr.prototype&&(t=f_(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):bo(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?bo(e,o,t,!1):Xc(e,o)):bo(e,o,t,!1))):n||(o.reading=!1)}return m_(o)}function bo(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Pn(e)),Xc(e,t)}function h_(e,t){var r;return!d_(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function m_(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}U.prototype.isPaused=function(){return this._readableState.flowing===!1};U.prototype.setEncoding=function(e){return kt||(kt=go().StringDecoder),this._readableState.decoder=new kt(e),this._readableState.encoding=e,this};var Hc=8388608;function g_(e){return e>=Hc?e=Hc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Kc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=g_(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}U.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return D("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?_o(this):Pn(this),null;if(e=Kc(e,t),e===0&&t.ended)return t.length===0&&_o(this),null;var n=t.needReadable;D("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,D("length less than watermark",n)),t.ended||t.reading?(n=!1,D("reading or ended",n)):n&&(D("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Kc(r,t)));var i;return e>0?i=Zc(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&_o(this)),i!==null&&this.emit("data",i),i};function w_(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Pn(e)}}function Pn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Lt.nextTick(Gc,e):Gc(e))}function Gc(e){D("emit readable"),e.emit("readable"),So(e)}function Xc(e,t){t.readingMore||(t.readingMore=!0,Lt.nextTick(y_,e,t))}function y_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(D("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}U.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};U.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,D("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?Lt.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(b,v){D("onunpipe"),b===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,S())}function u(){D("onend"),e.end()}var d=b_(r);e.on("drain",d);var m=!1;function S(){D("cleanup"),e.removeListener("close",x),e.removeListener("finish",c),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",O),m=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var E=!1;r.on("data",O);function O(b){D("ondata"),E=!1;var v=e.write(b);v===!1&&!E&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Qc(n.pipes,e)!==-1)&&!m&&(D("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,E=!0),r.pause())}function h(b){D("onerror",b),y(),e.removeListener("error",h),$c(e,"error")===0&&e.emit("error",b)}p_(e,"error",h);function x(){e.removeListener("finish",c),y()}e.once("close",x);function c(){D("onfinish"),e.removeListener("close",x),y()}e.once("finish",c);function y(){D("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(D("pipe resume"),r.resume()),e};function b_(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&$c(e,"data")&&(t.flowing=!0,So(e))}}U.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Qc(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};U.prototype.on=function(e,t){var r=vo.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Pn(this):Lt.nextTick(__,this))}return r};U.prototype.addListener=U.prototype.on;function __(e){D("readable nexttick read 0"),e.read(0)}U.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!0,v_(this,e)),this};function v_(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Lt.nextTick(S_,e,t))}function S_(e,t){t.reading||(D("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),So(e),t.flowing&&!t.reading&&e.read(0)}U.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function So(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&e.read()!==null;);}U.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(D("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(D("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<yo.length;o++)e.on(yo[o],this.emit.bind(this,yo[o]));return this._read=function(l){D("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});U._fromList=Zc;function Zc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=E_(e,t.buffer,t.decoder),r}function E_(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?T_(e,t):x_(e,t),n}function T_(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function x_(e,t){var r=Sr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function _o(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Lt.nextTick(C_,t,e))}function C_(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Qc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Eo=T((LT,np)=>{"use strict";a();s();np.exports=je;var On=ut(),rp=Object.create(Q());rp.inherits=Z();rp.inherits(je,On);function P_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function je(e){if(!(this instanceof je))return new je(e);On.call(this,e),this._transformState={afterTransform:P_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",O_)}function O_(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){tp(e,t,r)}):tp(this,null,null)}je.prototype.push=function(e,t){return this._transformState.needTransform=!1,On.prototype.push.call(this,e,t)};je.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};je.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};je.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};je.prototype._destroy=function(e,t){var r=this;On.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function tp(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var sp=T((WT,ap)=>{"use strict";a();s();ap.exports=Er;var ip=Eo(),op=Object.create(Q());op.inherits=Z();op.inherits(Er,ip);function Er(e){if(!(this instanceof Er))return new Er(e);ip.call(this,e)}Er.prototype._transform=function(e,t,r){r(null,e)}});var up=T((Ae,lp)=>{a();s();Ae=lp.exports=po();Ae.Stream=Ae;Ae.Readable=Ae;Ae.Writable=uo();Ae.Duplex=ut();Ae.Transform=Eo();Ae.PassThrough=sp()});var dp=T((KT,Co)=>{a();s();var fp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);fp?(To=new Uint8Array(16),Co.exports=function(){return fp(To),To}):(xo=new Array(16),Co.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),xo[t]=r>>>((t&3)<<3)&255;return xo});var To,xo});var hp=T((VT,pp)=>{a();s();var cp=[];for(Tr=0;Tr<256;++Tr)cp[Tr]=(Tr+256).toString(16).substr(1);var Tr;function A_(e,t){var r=t||0,n=cp;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}pp.exports=A_});var gp=T((JT,mp)=>{a();s();var R_=dp(),M_=hp();function I_(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||R_)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||M_(i)}mp.exports=I_});var bp=T((QT,yp)=>{a();s();var wp=up().Duplex,D_=ct().inherits,N_=gp();yp.exports=Xe;D_(Xe,wp);function Xe(){wp.call(this,{objectMode:!0}),this._payloads={}}Xe.prototype.send=function(e){throw new Error('StreamProvider - does not support synchronous RPC calls. called: "'+e.method+'"')};Xe.prototype.sendAsync=function(e,t){let r=e.id,n=N_();if(e.id=n,Array.isArray(e)&&e.length===0)return t(null,[]);this._payloads[n]=[t,r],this.push(e)};Xe.prototype.isConnected=function(){return!0};Xe.prototype._onResponse=function(e){let t=e.id,r=this._payloads[t];if(!r)throw new Error(`StreamProvider - Unknown response id for response: ${e}`);delete this._payloads[t];let n=r[0];e.id=r[1],setTimeout(function(){n(null,e)})};Xe.prototype._read=k_;Xe.prototype._write=function(e,t,r){this._onResponse(e),r()};function k_(){}});a();s();a();s();Ut();globalThis.setupSentry=async()=>await Ta();globalThis.setupSentry();globalThis.sentry=he;globalThis.Sentry=he;a();s();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}function t(c,y){for(var b=0;b<y.length;b++){var v=y[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}function r(c,y,b){return y&&t(c.prototype,y),b&&t(c,b),c}function n(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),y&&o(c,y)}function i(c){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},i(c)}function o(c,y){return o=Object.setPrototypeOf||function(v,k){return v.__proto__=k,v},o(c,y)}function l(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function u(c,y){return y&&(typeof y=="object"||typeof y=="function")?y:l(c)}function d(c,y){for(;!Object.prototype.hasOwnProperty.call(c,y)&&(c=i(c),c!==null););return c}function m(c,y,b){return typeof Reflect<"u"&&Reflect.get?m=Reflect.get:m=function(k,L,C){var A=d(k,L);if(!!A){var P=Object.getOwnPropertyDescriptor(A,L);return P.get?P.get.call(C):P.value}},m(c,y,b||c)}var S=function(){function c(){e(this,c),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(c,[{key:"addEventListener",value:function(b,v){b in this.listeners||(this.listeners[b]=[]),this.listeners[b].push(v)}},{key:"removeEventListener",value:function(b,v){if(b in this.listeners){for(var k=this.listeners[b],L=0,C=k.length;L<C;L++)if(k[L]===v){k.splice(L,1);return}}}},{key:"dispatchEvent",value:function(b){var v=this;if(b.type in this.listeners){for(var k=function(F){setTimeout(function(){return F.call(v,b)})},L=this.listeners[b.type],C=0,A=L.length;C<A;C++)k(L[C]);return!b.defaultPrevented}}}]),c}(),E=function(c){n(y,c);function y(){var b;return e(this,y),b=u(this,i(y).call(this)),b.listeners||S.call(l(b)),Object.defineProperty(l(b),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(b),"onabort",{value:null,writable:!0,configurable:!0}),b}return r(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(v){v.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,v)),m(i(y.prototype),"dispatchEvent",this).call(this,v)}}]),y}(S),O=function(){function c(){e(this,c),Object.defineProperty(this,"signal",{value:new E,writable:!0,configurable:!0})}return r(c,[{key:"abort",value:function(){var b;try{b=new Event("abort")}catch{typeof document<"u"?document.createEvent?(b=document.createEvent("Event"),b.initEvent("abort",!1,!1)):(b=document.createEventObject(),b.type="abort"):b={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(b)}},{key:"toString",value:function(){return"[object AbortController]"}}]),c}();typeof Symbol<"u"&&Symbol.toStringTag&&(O.prototype[Symbol.toStringTag]="AbortController",E.prototype[Symbol.toStringTag]="AbortSignal");function h(c){return c.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof c.Request=="function"&&!c.Request.prototype.hasOwnProperty("signal")||!c.AbortController}function x(c){typeof c=="function"&&(c={fetch:c});var y=c,b=y.fetch,v=y.Request,k=v===void 0?b.Request:v,L=y.AbortController,C=y.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,A=C===void 0?!1:C;if(!h({fetch:b,Request:k,AbortController:L,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:A}))return{fetch:b,Request:P};var P=k;(P&&!P.prototype.hasOwnProperty("signal")||A)&&(P=function(ue,H){var pe;H&&H.signal&&(pe=H.signal,delete H.signal);var He=new k(ue,H);return pe&&Object.defineProperty(He,"signal",{writable:!1,enumerable:!1,configurable:!0,value:pe}),He},P.prototype=k.prototype);var F=b,ee=function(ue,H){var pe=P&&P.prototype.isPrototypeOf(ue)?ue.signal:H?H.signal:void 0;if(pe){var He;try{He=new DOMException("Aborted","AbortError")}catch{He=new Error("Aborted"),He.name="AbortError"}if(pe.aborted)return Promise.reject(He);var Tg=new Promise(function(xg,Cg){pe.addEventListener("abort",function(){return Cg(He)},{once:!0})});return H&&H.signal&&delete H.signal,Promise.race([Tg,F(ue,H)])}return F(ue,H)};return{fetch:ee,Request:P}}(function(c){if(!!h(c)){if(!c.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var y=x(c),b=y.fetch,v=y.Request;c.fetch=b,c.Request=v,Object.defineProperty(c,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:O}),Object.defineProperty(c,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:E})}})(typeof self<"u"?self:globalThis)});a();s();var zf=g(pt()),Jf=g(Yf());var nr=class extends Jf.Duplex{constructor(r){super({objectMode:!0});Ke(this,"onMessage",r=>{if(f.Buffer.isBuffer(r)){let n=f.Buffer.from(r);this.push(n)}else this.push(r)});Ke(this,"onDisconnect",()=>{let{lastError:r}=zf.default.runtime;r&&typeof this.opts.port=="function"?this.init():this.destroy()});this.opts={port:r},this.init()}init(){this.removePortListener(),this.port=typeof this.opts.port=="function"?this.opts.port():this.opts.port,this.port.onMessage.addListener(this.onMessage),this.port.onDisconnect.addListener(this.onDisconnect)}removePortListener(){this.port&&(this.port.onMessage.removeListener(this.onMessage),this.port.onDisconnect.removeListener(this.onDisconnect))}_read(){}_write(r,n,i){try{if(f.Buffer.isBuffer(r)){let o=r.toJSON();o._isBuffer=!0,this.port.postMessage(o)}else this.port.postMessage(r)}catch{return i(new Error("PortDuplexStream - disconnected"))}return i()}};a();s();var dd=g(fd()),cd=g(Og());var Ni=class{constructor(t){this.connectionStream=t,this.notificationChannel=new cd.default,this.requests=new Map,this.connectionStream.on("data",this.handleResponse.bind(this)),this.connectionStream.on("end",this.close.bind(this))}onNotification(t){this.notificationChannel.addListener("notification",r=>{t(r)})}close(){this.notificationChannel.removeAllListeners()}handleResponse(t){let{id:r,result:n,error:i,method:o,params:l}=t,u=this.requests.get(r);if(!(o&&l&&r)){if(o&&l&&!r){this.notificationChannel.emit("notification",t);return}if(!!u){if(i){let d=new dd.EthereumRpcError(i.code,i.message,i.data);d.stack=i.stack,this.requests.delete(r),u(d);return}this.requests.delete(r),typeof u=="function"&&u(null,n)}}}},ty=e=>{let t=new Ni(e);return new Proxy(t,{get:(r,n)=>r[n]?r[n]:(...i)=>{let o=i[i.length-1],l=i.slice(0,-1),u=xa();r.requests.set(u,o),r.connectionStream.write({jsonrpc:"2.0",method:n,params:l,id:u})}})},pd=ty;a();s();var mc=g(dc()),gc=g(hc()),Sb=()=>{};function wc(e){let t=new mc.default;return(0,gc.default)(e,t,e,r=>{r&&Sb(r)}),t}Wr();a();s();a();s();var G=g(pt());mt();Wr();var mr=class{reload(){G.default.runtime.reload()}openTab(t){return new Promise((r,n)=>{G.default.tabs.create(t).then(i=>{let o=me();return o?n(o):r(i)}).catch(i=>{n(i)})})}openWindow(t){return new Promise((r,n)=>{G.default.windows.create(t).then(i=>{let o=me();return o?n(o):(this.lastOkPopupId=i.id,r(i))}).catch(i=>{n(i)})})}closeWindow(t){return new Promise((r,n)=>{G.default.windows.remove(t).then(()=>{let i=me();return i?n(i):r()}).catch(i=>{n(i)})})}focusLastOkPopup(){this.lastOkPopupId&&this.getAllWindows().then(t=>{t.some(r=>r.id===this.lastOkPopupId)?this.focusWindow(this.lastOkPopupId):this.lastOkPopupId=""}).catch(()=>{})}async focusCurrentWindow(){let r=(await this.currentTab())?.windowId;await this.focusWindow(r)}focusWindow(t){return new Promise((r,n)=>{G.default.windows.update(t,{focused:!0}).then(()=>{let i=me();return i?n(i):r()}).catch(i=>{n(i)})})}updateWindowPosition(t,r,n){return new Promise((i,o)=>{G.default.windows.update(t,{left:r,top:n}).then(()=>{let l=me();return l?o(l):i()}).catch(l=>{o(l)})})}getLastFocusedWindow(t){return new Promise((r,n)=>{G.default.windows.getLastFocused(t).then(i=>{let o=me();return o?n(o):r(i)}).catch(i=>{n(i)})})}closeCurrentWindow(){return G.default?.windows?.getCurrent?G.default.windows.getCurrent().then(t=>G.default.windows.remove(t.id)):Promise.resolve()}getVersion(){return G.default.runtime.getManifest().version}openExtensionInBrowser(t=null,r=null){let n=G.default.runtime.getURL("/home.html");r&&(n+=`?${r}`),t&&(n+=`#${t}`),this.openTab({url:n}),Me()!==Jn&&window.close()}async openExtensionInPopup(t=null,r=null,n=!0){let i=G.default.runtime.getURL("/notification.html");r&&(i+=`?${r}`),t&&(i+=`#${t}`);let o=0,l=0;try{let d=await this.getLastFocusedWindow();l=d.top,o=Math.max(d.left+(d.width-360),0)}catch{let{screenX:m,screenY:S,outerWidth:E}=window;l=Math.max(S,0),o=Math.max(m+(E-360),0)}let u=await Ca();this.openWindow({url:i,type:"popup",width:u?.width||360,height:700,top:l,left:o}),Me()!==Jn&&n&&window.close()}getPlatformInfo(){return new Promise((t,r)=>{try{G.default.runtime.getPlatformInfo().then(n=>{t(n)}).catch(n=>{r(n)})}catch(n){r(n)}})}getAllWindows(){return new Promise((t,r)=>{G.default.windows.getAll().then(n=>{let i=me();return i?r(i):t(n)}).catch(n=>{r(n)})})}getActiveTabs(){return new Promise((t,r)=>{G.default.tabs.query({active:!0}).then(n=>{let i=me();return i?r(i):t(n)}).catch(n=>{r(n)})})}currentTab(){return new Promise((t,r)=>{G.default.tabs.getCurrent().then(n=>{let i=me();i?r(i):t(n)}).catch(n=>{r(n)})})}closeTab(t){return new Promise((r,n)=>{G.default.tabs.remove(t).then(()=>{let i=me();i?n(i):r()}).catch(i=>{n(i)})})}getCpuInfoName(){return new Promise((t,r)=>{try{G.default.system.cpu.getInfo(n=>{t(n.modelName)})}catch(n){r(n)}})}setPanelBehavior(t){return new Promise((r,n)=>{try{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:t}),r()}catch(i){n(i)}})}setSidepanelPath(t){return new Promise((r,n)=>{t?chrome.sidePanel.setOptions({path:t},()=>{r()}):n()})}openSidepanelWithWindowId(t){return new Promise((r,n)=>{t?chrome.sidePanel.open({windowId:t},()=>{r()}):n()})}async openSidepanel(t){let n=(await this.getLastFocusedWindow())?.id;t&&await this.setSidepanelPath(`sidepanel.html#${t}`),await this.openSidepanelWithWindowId(n),t&&await this.setSidepanelPath("sidepanel.html")}};var yc=mr;mt();var vg=g(Pa()),Sg=g(bp()),sa=g(pt());a();s();a();s();var yg=g(R());a();s();var le=g(R()),Jo=g(ge()),Ym=g(Ee()),zm=g(Ft());Se();Ut();a();s();var _e=g(R()),An=g(ge()),vp=g(Ft());Se();zn();var Po={fetchConfig:{project:"okx_extension_wallet",site:"okx"}};var Oo=0,q_=1,Ao=null;function Sp(){return e=>(Po.fetchConfig.locale=e.locale,_e.default.createElement(ha,{localeData:e.localeData,isDev:!0,noRemoteData:!0,fetchConfig:Po.fetchConfig},e.children))}var B_=Sp(),W_=Sp(),U_=process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY,_p=(0,_e.createContext)(e=>`[${e}]`),xr=e=>{let t=window.localStorage.getItem("languageKeyMode"),r=U_&&t==="multilingualMode",n=(0,An.useSelector)(jr),i=Qa(n),o=(0,An.useSelector)(Xa),l=(0,An.useSelector)(Za),u=(0,_e.useMemo)(()=>(es(n,window),Ao=Ao===Oo?q_:Oo,Object.keys(o).reduce((d,m)=>{let S=o[m].message;return d[m]=r?`${S}${S}${S}`:S,d},{})),[i,o,r]);return(0,_e.useMemo)(()=>{Ht.setConfig({frozenScroll:!1,localeProviderProps:{fetchConfig:{noFetch:!0},isDev:!0,localeData:l}})},[n]),Ao===Oo?_e.default.createElement(B_,{localeData:u,locale:i},_e.default.createElement(_p.Provider,{value:Y},e.children)):_e.default.createElement(W_,{localeData:u,locale:i},_e.default.createElement(_p.Provider,{value:Y},e.children))};xr.propTypes={children:vp.default.node};xr.defaultProps={children:void 0};a();s();a();s();var z=g(R());var Ep=g(Ra()),Ro=g(Ft()),Tp=g(pt());Se();Qn();Wr();mt();ii();Hr();Gt();var Cr=class extends z.PureComponent{constructor(){super(...arguments);Ke(this,"state",{downloadUrl:!1})}renderErrorDetail(r){return z.default.createElement("li",null,z.default.createElement("p",null,r))}renderErrorStack(r,n){return z.default.createElement("li",null,z.default.createElement("span",null,r),z.default.createElement("pre",{className:"error-page__stack"},n))}componentDidMount(){Fr(bt.getExtensionVersion).then(({data:r})=>{let n=Ve(),i=Tp.default.runtime.getManifest().version;if(n===wa&&r.edge!==i){this.setState({downloadUrl:"https://microsoftedge.microsoft.com/addons/detail/pbpjkcldjiffchgbbndmhojiacbgflha"});return}r.chrome!==i&&this.setState({downloadUrl:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge?hl=zh-CN"})}).catch(r=>{console.log(r)})}render(){let{error:r}=this.props,{downloadUrl:n}=this.state,o=Me()===Lr?N("wallet_home_subtitle_errortip_error_popup_message"):N("wallet_home_subtitle_errortip_errorpage_message"),l=Ur(),u=xe.State.getImgMap(l),d=`${Gr()}${u[xe.State.TYPE.systemError]}`;return z.default.createElement("div",{className:"error-page"},z.default.createElement("div",{className:"error-page__header"},N("wallet_home_maintitle_errortip_error_page_title"),window.location.hash&&z.default.createElement(oe,{className:"okx-wallet-plugin-close error-page__right",onClick:async()=>{await Ie().clearDappData(),window.location.href=window.location.pathname}})),z.default.createElement("div",{className:"error-page__details"},z.default.createElement(xe.State,{type:xe.State.TYPE.systemError,title:n?N("extension_wallet_mid_text_update_latest_version"):o,imgSrc:d,renderButton:()=>z.default.createElement(Te,{category:Te.CATEGORY.fill,type:Te.TYPE.primary,size:Te.SIZE.s,onClick:()=>{globalThis.platform.openTab({url:n})}},N("extension_wallet_mid_btn_goto_store")," ")}),z.default.createElement(Ma,{className:"error-page__accordion",titleClass:"error-page__accordion-title",customHeaderIcon:m=>z.default.createElement(oe,{icon:"okds-arrow-chevron-down-md",size:oe.SIZE.xs,className:(0,Ep.default)("error-page__icon",{"okui-accordion-header-icon-expanded":m})}),title:N("wallet_home_subtitle_errortip_errordetail"),onToggle:m=>{this.setState({expand:m})}}),this.state.expand?z.default.createElement("ul",{className:"error-page__list"},r.message?this.renderErrorDetail(N("wallet_home_subtitle_errortip_errormessage",{errorMessage:r.message})):null,r.code?this.renderErrorDetail(N("wallet_home_subtitle_errortip_errorcode",{errorCode:r.code})):null,r.name?this.renderErrorDetail(N("wallet_home_subtitle_errortip_errorname",{errorName:r.name})):null,r.stack?this.renderErrorStack(N("wallet_home_subtitle_errortip_error_stack"),r.stack):null):null))}};Cr.contextTypes={t:Ro.default.func.isRequired};Cr.propTypes={error:Ro.default.object.isRequired};var Mo=Cr;a();s();var ft=g(R()),et=g(ge()),Hm=g(Ee()),Km=g($r()),Gm=g(Ra());ht();Se();a();s();a();s();var Io=()=>{};a();s();var j_=document.documentElement,F_={en:"en",zh_CN:"zh-hans",zh_TW:"zh-hant",fr:"fr",ru:"ru",vi:"vi",id:"id",tr:"tr",de:"de",it:"it",pl:"pl",en_IN:"en-in",pt_BR:"pt",pt_PT:"pt-pt",es:"es-es",es_419:"es",cs:"cs",ro:"ro",uk:"uk",ar_EH:"ar"},H_=e=>{j_.setAttribute("lang",F_[e])},xp=H_;a();s();a();s();var Cp=g(R()),Pp=g(Ee());ht();Qn();mt();var K_=()=>{let e=(0,Pp.useHistory)();(0,Cp.useEffect)(()=>{if(Ve()!==Br)return ve;if(!rt.isSupported())return ve;let r=()=>{e.push(Xr)};return rt.mount(),rt.onClick(r),rt.show(),()=>{rt.hide(),rt.offClick(r)}},[e])},Op=K_;a();s();var Rp=g(R());ht();Qn();mt();var Ap=e=>{let t=e?"#000000":"#ffffff";vt.setBackgroundColor.isSupported()&&vt.setBackgroundColor(t),vt.setHeaderColor.isSupported()&&vt.setHeaderColor(t)},G_=()=>{let e=Os(vt.isDark);(0,Rp.useEffect)(()=>Ve()!==Br?ve:(Ps("theme_changed",()=>{Ap(e)}),Ap(e),ve),[e])},Mp=G_;function Do(){Op(),Mp()}a();s();ni();var $_={mostRecentOverviewPage:fe},V_="history",Y_=yt({name:V_,initialState:$_,reducers:{pageChanged:(e,t)=>{let r=t.payload;(r===fe||r.startsWith(Jr))&&(e.mostRecentOverviewPage=r)}}}),{actions:z_,reducer:J_}=Y_,Ip=J_;var{pageChanged:Dp}=z_;ii();zn();Hr();a();s();var q=g(R()),Mn=g($r());a();s();a();s();var Np=e=>de("allowShowComponent",{...ye,componentName:e,location:window.location.href})?.data;var No=g(R()),Rn=({children:e,componentName:t})=>Np(t)?No.default.createElement(No.default.Fragment,null,e):null;Yn();var ae=g(Ig());a();s();var ko={"wallet-helper":"_wallet-helper_4h5lm_1",walletHelper:"_wallet-helper_4h5lm_1","wallet-helper-enter":"_wallet-helper-enter_4h5lm_11",walletHelperEnter:"_wallet-helper-enter_4h5lm_11"};var X_=[{label:ae.default.development_environment,value:"http://forked-test2-cat20.defi.swim.env"},{label:ae.default.pre_environment,value:"https://beta.okex.org"},{label:ae.default.prod_environment,value:"https://wallet.okex.org"}],Z_=[{label:ae.default.normalMode,value:"normalMode"},{label:ae.default.keyMode,value:"keyMode"},{label:ae.default.multilingualMode,value:"multilingualMode"}],Q_=()=>{let{width:e}=(0,Mn.useSize)(document.querySelector("body")),[t,r]=(0,q.useState)("https://beta.okex.org");(0,q.useEffect)(()=>{(async()=>{let{envApiDomain:h}=await $e.get("envApiDomain");h&&r(h)})()},[]);let n=()=>{window.location.reload()},i=window.localStorage,o=i.getItem("languageKeyMode")||"normalMode",l=(0,q.useCallback)(h=>{h==="normalMode"?(i.removeItem("languageKeyMode"),gt(!1)):h==="keyMode"?(i.setItem("languageKeyMode",h),gt(!0)):(i.setItem("languageKeyMode",h),gt(!1)),n()},[o]),u=(0,Mn.useUpdate)(),d=()=>{let h=Gl()===Qr.LIGHT?Qr.DARK:Qr.LIGHT;$l(h),u()},m=i.getItem("speedUp")||!1,[S,E]=(0,q.useState)(m);(0,q.useEffect)(()=>{E(m)},[m]);let O=(0,q.useCallback)(()=>{m?(i.removeItem("speedUp"),E(!1)):(i.setItem("speedUp",!0),E(!0)),chrome.runtime.reload()},[m]);return q.default.createElement(Rn,{componentName:"walletHelper"},q.default.createElement(ri.Box,{className:ko["wallet-helper"]},q.default.createElement(Kt,{description:q.default.createElement(ri.Space,{space:"8px"},q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-slow",tooltip:ae.default.select_language_mode,onClick:()=>{we.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:q.default.createElement($t,{dataSource:Z_,renderItem:({label:h,value:x})=>q.default.createElement($t.Cell,{title:h,onClick:()=>{l(x)}},o===x&&q.default.createElement(ti.Circle,{checked:!0}))})})}}),q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-fast",tooltip:`${ae.default.current_api_environment}${t}`,onClick:()=>{we.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:q.default.createElement($t,{dataSource:X_,renderItem:({label:h,value:x})=>q.default.createElement($t.Cell,{title:h,onClick:async()=>{await $e.set({envApiDomain:x}),n()}},t===x&&q.default.createElement(ti.Circle,{checked:!0}))})})}}),q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-swap",tooltip:ae.default.switchRtl,onClick:()=>{let x=document.documentElement.getAttribute("dir");Vr(x==="rtl"?void 0:"rtl")}}),e>360&&q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-switch",tooltip:ae.default.fullscreenMode,onClick:()=>{let h=document.querySelector("#app");["notification","popup"].includes(h.className)?h.className="fullscreen":h.className="popup"}}),q.default.createElement(oe.IconButton,{style:{color:S?"orange":"unset"},icon:"okx-wallet-plugin-coin-quick-withdraw",tooltip:ae.default.accelerateSetInterval,onClick:O}),q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-swap-1",tooltip:ae.default.theme,onClick:()=>{d()}})),trigger:Kt.TRIGGER.click,placement:document.documentElement.getAttribute("dir")==="rtl"?Kt.DIRECTION.topLeft:Kt.DIRECTION.topRight,autoHeight:{marginBottom:50},smartMode:!1},q.default.createElement(oe,{bordered:!0,size:oe.SIZE.lg,className:ko["wallet-helper-enter"],icon:"okx-wallet-plugin-wrenches"}))))},kp=Q_;a();s();a();s();var Qe=g(R());a();s();var In=g(R());Xn();a();s();var Lo={noRadius:"_noRadius_e5d59_1",scale:"_scale_e5d59_15"};var Lp=()=>In.default.createElement(Rn,{componentName:"EnvAlert"},In.default.createElement(Ia,{className:Lo.noRadius,type:"warn",showIcon:!1,title:In.default.createElement("div",{className:Lo.scale},`${process.env.ASSETS_BUILD_TYPE}-${process.env.COMMIT_HASH}, API: ${va()} WSS: ${Ea()} STATIC: ${jt()}`),closable:!1}));a();s();var Dn=g(R()),qp=g($r()),Pr=g(ge());var Nn=g(Ee());function ev(e){return e}var Bp=()=>{let e=(0,Pr.useSelector)(ev),t=(0,qp.useLatest)(e),r=(0,Nn.useHistory)(),n=(0,Pr.useSelector)(_t),i=(0,Pr.useSelector)(Ye),o=(0,Pr.useSelector)(Ql),l=(0,Dn.useRef)(o),d=(0,Nn.useLocation)()?.pathname;return(0,Dn.useEffect)(()=>{if(o!==l.current){if(n&&i&&![fe,Yr].includes(d)){let m=t.current,S={isRpcMode:Xl(m)?.isRpcMode,permissionsRequestId:zl(m),isNotBackup:Cs(m),lastOptType:Zl(m)},E=nu(S);E&&r.replace(E)}l.current=o}},[d,o,n,i]),null};hs();var Un=g(ge());a();s();a();s();var p=g(R());a();s();var jp=g(R()),X=g(Ft()),tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},nv=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),iv=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ov=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},qo=(typeof window>"u"||typeof window>"u"?"undefined":tv(window))==="object",av=qo?document:{},sv=["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],Bo=function(e){function t(r){rv(this,t);var n=ov(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(n.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},n.tId=null,n._handleEvent=function(i){var o=n.state,l=o.remaining,u=o.pageX,d=o.pageY,m=o.idle,S=n.props,E=S.timeout,O=S.onAction,h=S.debounce,x=S.throttle,c=S.stopOnIdle;if(h>0?n.debouncedAction(i):x>0?n.throttledAction(i):O(i),!l){if(i.type==="mousemove"&&(i.pageX===u&&i.pageY===d||i.pageX===void 0&&i.pageY===void 0||n.getElapsedTime()<200))return;clearTimeout(n.tId),n.tId=null,m&&!c&&n.toggleIdleState(i),n.setState({lastActive:+new Date,pageX:i.pageX,pageY:i.pageY}),m&&c||(n.tId=setTimeout(n.toggleIdleState,E))}},r.debounce>0&&r.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return r.debounce>0&&(n.debouncedAction=Wp(r.onAction,r.debounce)),r.throttle>0&&(n.throttledAction=Up(r.onAction,r.throttle)),r.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(n),n.reset=n._reset.bind(n),n.pause=n._pause.bind(n),n.resume=n._resume.bind(n),n.getRemainingTime=n._getRemainingTime.bind(n),n.getElapsedTime=n._getElapsedTime.bind(n),n.getLastActiveTime=n._getLastActiveTime.bind(n),n.isIdle=n._isIdle.bind(n),n}return iv(t,jp.Component),nv(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(r){r.debounce!==this.props.debounce&&(this.debouncedAction=Wp(this.props.onAction,this.props.debounce)),r.throttle!==this.props.throttle&&(this.throttledAction=Up(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var r=this;if(qo){var n=this.state.eventsBound,i=this.props,o=i.element,l=i.events,u=i.passive,d=i.capture;n||(l.forEach(function(m){o.addEventListener(m,r._handleEvent,{capture:d,passive:u})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var r=this;if(qo){var n=this.props,i=n.element,o=n.events,l=n.passive,u=n.capture;this.state.eventsBound&&(o.forEach(function(d){i.removeEventListener(d,r._handleEvent,{capture:u,passive:l})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(r){var n=this,i=this.state.idle,o=this.props,l=o.onActive,u=o.onIdle,d=o.stopOnIdle;this.setState({idle:!i},function(){i?d||(n._bindEvents(),l(r)):(d&&(clearTimeout(n.tId),n.tId=null,n._unbindEvents()),u(r))})}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var r=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,r)}},{key:"_pause",value:function(){this.state.remaining===null&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var r=this.state,n=r.remaining,i=r.idle;n!==null&&(this._bindEvents(),i||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,n)))}},{key:"_getRemainingTime",value:function(){var r=this.state,n=r.remaining,i=r.idle,o=r.lastActive;if(i)return 0;if(n!==null)return n;var l=this.props.timeout-(+new Date-o);return l<0&&(l=0),l}},{key:"_getElapsedTime",value:function(){var r=this.state.oldDate;return+new Date-r}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();function Wp(e,t){var r=void 0;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,i),r=null},t)}}function Up(e,t){var r=0;return function(){var n=new Date().getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}Bo.propTypes={timeout:X.default.number,events:X.default.arrayOf(X.default.string),onIdle:X.default.func,onActive:X.default.func,onAction:X.default.func,debounce:X.default.number,throttle:X.default.number,element:X.default.oneOfType([X.default.object,X.default.element]),startOnMount:X.default.bool,stopOnIdle:X.default.bool,passive:X.default.bool,capture:X.default.bool},Bo.defaultProps={timeout:12e5,element:av,events:sv,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0};var Fp=Bo;var se=g(Ee());a();s();var re=g(R()),Gp=g(ge()),$p=g(Ee());Se();Gt();a();s();var kn=g(R()),Hp=g(Ee()),Ze=({preload:e=[],...t})=>((0,kn.useEffect)(()=>{e.forEach(r=>{typeof r=="function"&&r()})},[e]),kn.default.createElement(Hp.Route,{...t}));a();s();var Wo={dialog:"_dialog_18vnm_1",mask:"_mask_18vnm_6"};a();s();var Ln=g(R()),Kp=()=>{let[e,t]=(0,Ln.useState)(0);return(0,Ln.useEffect)(()=>{function r(){let n=window.visualViewport?.height<window?.innerHeight?window?.innerHeight-window.visualViewport?.height:0;t(n)}return window?.visualViewport?.addEventListener("resize",r),()=>{window?.visualViewport?.removeEventListener("resize",r)}},[]),{keyboardHeight:e}};function lv(e){return e.metamask.needPassword}var Uo=e=>{let[t,r]=(0,re.useState)(!1),n=(0,Gp.useSelector)(lv),[i]=su(au.passwordType),o=Da.useForm(),l=(0,$p.useLocation)(),{onSubmit:u}=bu({form:o}),d=(0,re.useCallback)(async()=>{await Ie().rejectPassword(),r(!1)},[]);(0,re.useEffect)(()=>{r(n)},[n]),(0,re.useEffect)(()=>()=>{t&&d()},[l]);let{keyboardHeight:m}=Kp(),S=()=>i===2?re.default.createElement(fu,{onPass:async E=>{o.setFieldsValue({password:E}),await u()},onCancel:d,noContent:!0}):re.default.createElement(we,{onClose:d,visible:t,title:N("wallet_extension_tg_enter_password"),noMargin:!0,alignBottom:!0,maskClosable:!0,noTopRadius:!1,windowStyle:{padding:"0",overflow:"hidden",bottom:`${m}px`,height:`${600-m}px`,width:"100%",touchAction:"none"},zIndex:40001,className:Wo.dialog,scrollBoxClassName:Wo.mask,transitionProps:{type:"slide",placement:"bottom",timeout:300}},re.default.createElement(_u,null));return re.default.createElement(re.default.Fragment,null,re.default.createElement(Ze,{...e}),t&&S())};a();s();var B=g(R()),Mr=g(ge()),Ir=g(Ee()),Ko=g(Ft()),Go=g(pt());Se();Ut();a();s();var Vp=(e,t)=>{if(t&&t.includes("{")&&!t.includes("first")){let n=/\{(.+?)\}/gi,i={};return t.match(n).forEach((o,l)=>{let u=o.replace("{","").replace("}","");i[`${u}`]=e[l]}),i}let r=["first","second","third","fourth"];return e.filter((n,i)=>i in r).reduce((n,i,o)=>(n[r[o]]=i,n),{})};a();s();var Yp=()=>{let e=de("lockPage",{...ye,location:window.location.href});return e?e.data:null};a();s();var zp=g(R());Yn();var Jp=()=>{let e=de("changeLocalStorage",{...ye,location:window.location.href});(0,zp.useEffect)(()=>{e&&(e?.data?.windowLocalStorage&&Object.keys(e?.data.windowLocalStorage).forEach(t=>{window.localStorage.setItem(t,e?.data?.windowLocalStorage[t])}),e?.data?.localStorage&&Object.keys(e?.data.localStorage).forEach(t=>{t==="data"||t==="apiDomain"||t==="envApiDomain"||t==="staticDomain"||$e.set({[t]:e?.data?.localStorage[t]})}))},[e])};a();s();var Xp=g(R());var Zp=()=>{let e=de("resetExtension",{...ye,location:window.location.href});return(0,Xp.useMemo)(()=>{if(e){if(!e.data?.needReload)return!1;let r=window.localStorage.getItem("extensionReload");return!r||r!=e?.data.time?e.data.time:!1}return!1},[e])};a();s();var Qp=g(R());Xn();var eh=()=>{let e=de("staticDomain");(0,Qp.useEffect)(()=>{window.okGlobal||(window.okGlobal={}),e?(window.okGlobal.cdnBaseUrl=`https://${jt()}`,window.okGlobal.cdnDomainMap=e.data):(window.okGlobal.cdnBaseUrl=`https://${jt()}`,window.okGlobal.cdnDomainMap={default:"https://static.okx.com",CN:"https://static.coinall.ltd",RU:"https://static.okx.cab",ID:"https://static.okx.cab"})},[e])};a();s();var th=g(R());var rh=()=>{let e=de("versionExtensionUpdate",{...ye,location:window.location.href});return(0,th.useMemo)(()=>{if(e){if(!e.data?.needUpdate)return!1;let r=window.localStorage.getItem("versionExtensionUpdate");if(r&&r===e?.data.version&&!e.data?.repeat)return!1;if(ye.version!==e.data.version)return{version:e?.data.version,repeat:e.data?.repeat}}return!1},[e])};a();s();var nh=[];a();s();var Or=g(R());function jo(e){let[t,r]=(0,Or.useState)(!1);return t?Or.default.createElement(Ze,{...e}):Or.default.createElement(Eu,{path:e.path,guard:!0,callback:()=>{r(!0)}})}a();s();a();s();var Fo=()=>{};a();s();var Ar=g(R()),ih=g(ge()),ne=g($r());ht();ii();Hr();var Ho=300,oh=()=>{let e=gu(),t=(0,ih.useDispatch)(),r=Pu(e),n=Ou(),i=(0,Ar.useRef)({}),o=(0,Ar.useRef)({}),{data:l,set:u}=Cu(Au.coinTickers),d=Ru();(0,Ar.useEffect)(()=>{t(Tu(d))},[t,d]);let m=v=>{u({...l,...v})},S=(0,ne.useMemoizedFn)(async v=>{let k=kr(v,Ho),L=[];try{(await Promise.all(k.map(A=>{let P={coinIds:A},F={headers:{currency:"usd"}};return ss(bt.postMarketUrl,P,F)})))?.forEach(A=>{Array.isArray(A?.data)&&(L=L.concat(A.data))})}catch{ve()}L.forEach(C=>{C?.coinId&&(o.current[C.coinId]={coinToUSDRate:C?.currencyAmount,coinPriceChangePercent24h:C?.priceChangePercent24h})}),m(o.current)}),{needFetchCoinIds:E,needFetchData:O}=(0,ne.useCreation)(()=>{if(r.length||n.length){let v=r.concat(n).filter(C=>Boolean(C?.coinId));return fa(v,"coinId").reduce((C,A)=>(C.needFetchCoinIds.push(A.coinId),C.needFetchData.push({coinId:A.coinId,baseCoinId:A?.baseCoinId,chainIndex:A?.chainId,tokenAddress:A?.address}),C),{needFetchCoinIds:[],needFetchData:[]})}return{needFetchCoinIds:[],needFetchData:[]}},[r,n]),h=(0,ne.useMemoizedFn)(v=>{if(!v?.length)return;let k=v.reduce((P,F)=>{let{coinId:ee,baseCoinId:Wt,chainIndex:ue,tokenAddress:H}=F,pe="";return Wt===0?pe=`${ue}`:pe=`${ue}-${H}`,P[ee]=pe,P},{}),L=[],C=Object.entries(k).reduce((P,[F,ee])=>(i.current[F]||(i.current[F]=ee,L.push(F),P.push({channel:en,instId:ee})),P),[]);kr(C,Ho).forEach(P=>{nt.sendChannel({op:"subscribe",args:P})}),L.length&&S(L)}),{run:x}=(0,ne.useDebounceFn)(h,{wait:200}),{run:c}=(0,ne.useDebounceFn)(()=>{m(o.current)},{wait:1e3}),y=(0,ne.useMemoizedFn)(()=>{S(Object.keys(i.current))}),b=(0,ne.useMemoizedFn)(v=>{if(!v||!Array.isArray(v?.data))return;let{data:k}=v;k[0]?.coinId&&(o.current[k[0]?.coinId]={coinToUSDRate:k[0]?.price,coinPriceChangePercent24h:k[0]?.priceChangePercent24h},c())});Ce(en,{onError:y,onSuccess:b,pollingInterval:30*1e3}),(0,ne.useDeepCompareEffect)(()=>{x(O)},[E]),(0,ne.useUnmount)(()=>{let v=Object.values(i.current).map(L=>({channel:en,instId:L}));kr(v,Ho).forEach(L=>{nt.sendChannel({op:"unsubscribe",args:L})}),i.current={}})};a();s();var Rr=g(R());Se();var fv=20,qn=[];function ah(){let e=Ce("dex-across-order-info");(0,Rr.useEffect)(()=>{if(!e?.data)return;let{dexData:t,type:r}=e.data,{status:n,type:i,orderId:o,fromAmount:l,fromTokenSymbol:u,toAmount:d,toTokenSymbol:m,solanaToast:S,exploreUrl:E,fromChildOrder:O={}}=t,h=null;if(i==="gasStation"&&S==="1"){if(n==="0"?h={type:"success",titleKey:"swaptrade_extension_feedback_toast_transaction_submitted",id:`toast-${o}-${n}`}:n==="-1"?h={type:"error",titleKey:"swaptrade_extension_feedback_toast_fillup_gas_failed",titleParams:{nativeToken:m},id:`toast-${o}-${n}`}:n==="1"&&(h={type:"success",titleKey:"swaptrade_extension_feedback_toast_swapped_successfully",titleParams:{payValue:l,paySymbol:u,receiveValue:Mu(d,{fixed:6,wipeTailZero:!0}),receiveSymbol:m},id:`toast-${o}-${n}`}),!h)return;ie[h.type]({title:N(h.titleKey,h.titleParams),key:h.id})}if(r==="1"&&t&&i==="approve"){if(n==="1"?h={type:"success",titleKey:"swaptrade_extension_notif_desc_token_approved",titleParams:{tokenSymbol:u},url:E,id:`toast-${n}-${o}`}:n==="-1"?h={type:"error",titleKey:"swaptrade_extension_notif_desc_token_not_approved",titleParams:{tokenSymbol:u},url:E,id:`toast-${n}-${o}`}:S==="1"&&(h={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${S}`}),!h)return;ie[h.type]({title:N(h.titleKey,h.titleParams),key:h.id,desc:h.url?Rr.default.createElement(Vt,{url:h.url,urlText:N("wallet_transfer_notif_view_on_explorer")}):null})}if((r==="1"||r==="3")&&t&&i!=="approve"&&i!=="register"&&i!=="gasStation"){let x=`${o}_${n}`;if(qn.includes(x))return;let c=()=>{qn.unshift(x),qn=qn.slice(0,fv)},y=O?.receiveTokenStatus!=="3";if(n==="0"&&O?.status=="0"?(c(),h={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${n}-${o}`}):n==="1"&&y?(c(),h={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_info",titleParams:{fromTokenAmount:l,fromTokenSymbol:u,toTokenAmount:d,toTokenSymbol:m},url:E,id:`toast-${n}-${o}`}):n==="-1"&&y?(c(),h={type:"error",titleKey:"swaptrade_extension_notif_desc_swap_fail",url:E,id:`toast-${n}-${o}`}):n==="-2"&&y&&(c(),h={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_canceled",url:E,id:`toast-${n}-${o}`}),!h)return;ie[h.type]({title:N(h.titleKey,h.titleParams),key:h.id,desc:h.url?Rr.default.createElement(Vt,{url:h.url,urlText:N("wallet_transfer_notif_view_on_explorer")}):null})}},[e])}a();s();var sh=g(R());Se();function lh(){let e=Ce("wallet-nft");(0,sh.useEffect)(()=>{!e||ie.success({title:N("wallet_transfer_notif_nft_transaction_success"),key:"toast8"})},[e])}a();s();var qt={link:"_link_ywwad_1",updateCotainer:"_updateCotainer_ywwad_11",centerImage:"_centerImage_ywwad_14",titleUpdate:"_titleUpdate_ywwad_23",textUpdate:"_textUpdate_ywwad_27",updateMb32:"_updateMb32_ywwad_32"};a();s();var uh=g(R()),fh=g(ge());function dh(){return!(0,fh.useSelector)(_t)}var ch=e=>uh.default.createElement(Ze,{...e});function dv({walletId:e,keyringIdentities:t}){let r;return t.find(n=>(r=n.walletIdentities.find(i=>i.walletId===e),r)),r?[...new Set(Object.values(r.account))]:[]}function _(e){let{guard:t}=e,r=(0,Mr.useSelector)(_t),n=(0,Mr.useSelector)(Ye),i=(0,Mr.useSelector)(vs),o=(0,Mr.useSelector)(Ss),l=Ce("login"),u=Ce("wallet-tx-status-toast"),d=Ce("nft-operate"),m=(0,Ir.useHistory)(),[S,E]=(0,B.useState)(null),O=wu();Fo(),(0,B.useEffect)(()=>{if(O){let{initialType:C}=O,{path:A}=e;if(tu()&&eu(C)&&!nh.includes(A)){let{location:P}=e||{},{pathname:F,search:ee=""}=P||{};setTimeout(()=>{globalThis.platform.openExtensionInPopup(F+ee||"")},200)}}},[O?.initialType]);let h=Yp(),x=Zp(),c=rh();eh(),Jp(),(0,B.useEffect)(()=>{x&&we.warn({alignBottom:!1,title:Y("wallet_extension_home_popup_title_update_now"),text:Y("wallet_extension_home_popup_text_update_now"),confirmText:Y("wallet_extension_home_popup_btn_update"),maskClosable:!1,onConfirm:()=>{window.localStorage.setItem("extensionReload",x),Go.default.runtime.reload()}})},[x]);let[y,b]=(0,B.useState)(!1),[v]=(0,B.useState)(Go.default.runtime.getManifest().version),k=du(),L=Vl({dark:"/cdn/assets/imgs/246/F624BDAD9E2C018D.png",light:"/cdn/assets/imgs/246/234578340DAE2A80.png"});return(0,B.useEffect)(()=>{v!==c.version&&!y&&c&&we.action({mobileWidth:"77.777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,children:B.default.createElement("div",{className:qt.updateMb32},B.default.createElement("div",{className:qt.centerImage},B.default.createElement("img",{src:L,alt:"update"})),B.default.createElement("div",{className:qt.titleUpdate},Y("wallet_extension_home_popup_title_update_available")),B.default.createElement("div",{className:qt.textUpdate},Y("wallet_extension_home_popup_text_update_available")),B.default.createElement(ei,{size:ei.SIZE.sm,className:qt.link,onClick:()=>{globalThis.platform.openTab({url:`https://${k}/help/how-do-i-update-my-okx-wallet-extension-on-google-chrome`})}},Y("wallet_extension_home_popup_link_update_available"))),confirmText:Y("wallet_extension_home_popup_text_ok"),maskClosable:!1,onConfirm:C=>{c.repeat?b(!0):window.localStorage.setItem("versionExtensionUpdate",c.version),C.destroy()}})},[y,c,v]),(0,B.useEffect)(()=>{h&&we.warn({alignBottom:!1,maskClosable:!1,title:Y("wallet_extension_clearcache_modaltitle_step_locked"),text:Y("wallet_extension_clearcache_modaldesc_step_locked"),confirmText:Y("wallet_extension_btn_general_gotit"),onConfirm:C=>{C.destroy(),m.go(-1)}})},[h]),(0,B.useEffect)(()=>{if(r&&n){S&&Array.isArray(S)&&nt.sendChannel({op:"logout",args:S});let A=dv({walletId:i,keyringIdentities:o}).map(P=>({token:P}));nt.sendChannel({op:"login",args:A}),E(A)}},[r,n,i]),(0,B.useEffect)(()=>{if(d){let{scene:C,status:A}=d.data;C===21&&A===2&&ie.success({title:Y("extension_home_toast_receivecompleted")})}},[d]),(0,B.useEffect)(()=>{if(l){let C=Object.keys(Yt).map(A=>({channel:Yt[A]}));nt.sendChannel({op:"subscribe",args:C})}},[l]),(0,B.useEffect)(()=>{let A=m.location.pathname.match(Zr);if(u&&!A){let{data:P}=u,{pushToastCode:F,pushToastParams:ee=[],txStatus:Wt,url:ue}=P,H;F===20||F===21?H={amount:ee[0],crypto:ee[1]}:F===23?H={num:ee[0],symbol:ee[1]}:H=Vp(ee),ie[vu[Wt]]({title:Y(Su[F],H),desc:ue?B.default.createElement(Vt,{url:ue,urlText:Y("wallet_transfer_notif_view_on_explorer")}):null})}},[u]),(0,B.useEffect)(()=>{let C=new PerformanceObserver(A=>{let P={};A.getEntries().forEach(F=>{P[F.name]=F.startTime}),performance.memory&&(P.memory={totalJSHeapSize:performance.memory?.totalJSHeapSize,usedJSHeapSize:performance.memory?.usedJSHeapSize,jsHeapSizeLimit:performance.memory?.jsHeapSizeLimit}),P["first-contentful-paint"]>1e3&&he.captureEvent({message:`PERFORMANCE_WARN_1s ${m.location.pathname}`,contexts:{report:{info:JSON.stringify(P)}},exception:{values:[{type:`PERFORMANCE_WARN_1s ${m.location.pathname}`,value:"Performance Data"}]},level:"info"})});return C.observe({type:"paint",buffered:!0}),()=>{C.disconnect()}},[m.location.pathname]),ah(),lh(),oh(),dh()?B.default.createElement(Ir.Redirect,{to:{pathname:zr}}):n?t?B.default.createElement(jo,{...e}):B.default.createElement(ch,{...e}):B.default.createElement(Ir.Redirect,{to:{pathname:St}})}_.propTypes={isUnlocked:Ko.default.bool.isRequired,completedOnboarding:Ko.default.bool.isRequired};a();s();var $o=g(R()),ph=g(ge()),hh=g(Ee());function Bn(e){return(0,ph.useSelector)(Ye)?$o.default.createElement(Ze,{...e}):$o.default.createElement(hh.Redirect,{to:{pathname:St}})}a();s();var Vo=g(R()),mh=g(ge()),Wn=g(Ee());function Dr(e){return(0,mh.useSelector)(Ye)?Vo.default.createElement(Wn.Redirect,{to:{pathname:fe}}):Vo.default.createElement(Wn.Route,{...e})}a();s();a();s();var w=g(R()),gh=(0,w.lazy)(()=>import("./dex-3N52EIAB.js")),cv=()=>import("./new-home-page-D2TRT2LL.js"),CA=(0,w.lazy)(()=>import("./common-TXVUBLJF.js")),wh=(0,w.lazy)(cv),yh=(0,w.lazy)(()=>import("./wallet-aggregate-JPEDUIJM.js")),bh=(0,w.lazy)(()=>import("./ConnectHardware-6QOTOU2L.js")),Yo=(0,w.lazy)(()=>import("./ImportSeedPhraseAndPrivateKey-AMR2FQIJ.js")),_h=(0,w.lazy)(()=>import("./WalletMnemonicBackup-SW2ONIN5.js")),vh=(0,w.lazy)(()=>import("./WalletMnemonicBackupLandingPage-IVNCY5H4.js")),Sh=(0,w.lazy)(()=>import("./WalletList-BT2SLBFB.js")),Eh=(0,w.lazy)(()=>import("./WalletEdit-Y5A23U3G.js")),Th=(0,w.lazy)(()=>import("./WalletBackUp-73AA76SG.js")),xh=(0,w.lazy)(()=>import("./WalletAccountAddress-LPXY33LV.js")),Ch=(0,w.lazy)(()=>import("./WalletAccountPrivateKey-CNZHAUU5.js")),Ph=(0,w.lazy)(()=>import("./WalletMnemonicAndPrivateKey-WJSA3SIR.js")),Oh=(0,w.lazy)(()=>import("./LedgerNetworkManage-G7OFRIIF.js")),Ah=(0,w.lazy)(()=>import("./WalletDetail-BB2WBIUT.js")),Rh=(0,w.lazy)(()=>import("./WalletAccountDetail-OMDCQV6X.js")),Mh=(0,w.lazy)(()=>import("./CreatePassword-5HDMKW4B.js")),Ih=(0,w.lazy)(()=>import("./VerifyPassword-BR5F3XXM.js")),Dh=(0,w.lazy)(()=>import("./Onboard-6F4XSF5H.js")),Nh=(0,w.lazy)(()=>import("./InitialCreate-HT4TG534.js")),kh=(0,w.lazy)(()=>import("./InitialImport-EHHD5ONV.js")),Lh=(0,w.lazy)(()=>import("./wallet-add-page-ULPS7M37.js")),qh=(0,w.lazy)(()=>import("./walletAddImport-YB7ILCPL.js")),Bh=(0,w.lazy)(()=>import("./Login-X5R3ESEE.js")),Wh=(0,w.lazy)(()=>import("./Import-BD35XLCD.js")),Uh=(0,w.lazy)(()=>import("./show-supported-chains-KRCFNGCD.js")),jh=(0,w.lazy)(()=>import("./Unlock-SI6PE3D6.js")),Fh=(0,w.lazy)(()=>import("./Receive-W52WJKM4.js")),Hh=(0,w.lazy)(()=>import("./Lock-VUNCLETF.js")),Kh=(0,w.lazy)(()=>import("./ForgetPassword-ICJUMI6L.js")),Gh=(0,w.lazy)(()=>import("./ResetPassword-YDRCK6ER.js")),$h=(0,w.lazy)(()=>import("./select-network-45FLPAIG.js")),Vh=(0,w.lazy)(()=>import("./select-coin-7YZNCHNJ.js")),Yh=(0,w.lazy)(()=>import("./SelectNetwork-QLQMCVKD.js")),zh=(0,w.lazy)(()=>import("./SelectProtocol-4YF2PAWL.js")),Jh=(0,w.lazy)(()=>import("./SendNft-PHZPNAB6.js")),Xh=(0,w.lazy)(()=>import("./SendPageContainer-Q5MXSUTB.js")),Zh=(0,w.lazy)(()=>import("./CoinManage-4F5NCMTL.js")),Qh=(0,w.lazy)(()=>import("./CustomCrypto-F2VD2TRD.js")),em=(0,w.lazy)(()=>import("./Setting-UDU4ZWFZ.js")),tm=(0,w.lazy)(()=>import("./Preference-PVODWRYF.js")),rm=(0,w.lazy)(()=>import("./WalletSafely-2X7ZUFFY.js")),nm=(0,w.lazy)(()=>import("./DefaultWallet-NBD4L7S7.js")),im=(0,w.lazy)(()=>import("./SwitchRandomPassword-A4BF4BXJ.js")),om=(0,w.lazy)(()=>import("./AboutWallet-SPUT2GCL.js")),am=(0,w.lazy)(()=>import("./WalletHistory-WVODOET3.js")),sm=(0,w.lazy)(()=>import("./Selector-Z7IOOQIA.js")),lm=(0,w.lazy)(()=>import("./RpcMode-BJZUYOOC.js")),um=(0,w.lazy)(()=>import("./DappEntry-75FSTKAA.js")),fm=(0,w.lazy)(()=>import("./NetworkManagement-MGDOSUCG.js")),dm=(0,w.lazy)(()=>import("./Form-ZD6V6WSX.js")),cm=(0,w.lazy)(()=>import("./PermissionsConnect-36HY37ZR.js")),pm=(0,w.lazy)(()=>import("./Detail-EDAOWY2L.js")),hm=(0,w.lazy)(()=>import("./NftFilter-Q73SKEM7.js")),mm=(0,w.lazy)(()=>import("./DAppNetworkManage-4SHMV63N.js")),gm=(0,w.lazy)(()=>import("./CoinDetail-ZMV43CFA.js")),wm=(0,w.lazy)(()=>import("./address-J2LUQ3A3.js")),ym=(0,w.lazy)(()=>import("./ZKSpace-YA4BXZCK.js")),bm=(0,w.lazy)(()=>import("./ZKSyncLite-KFKMIHUX.js")),_m=(0,w.lazy)(()=>import("./Starknet-AFZGRRGJ.js")),vm=(0,w.lazy)(()=>import("./CreateAccount-T4QY5APX.js")),Sm=(0,w.lazy)(()=>import("./ConfirmPay-WQAG74CW.js")),Em=(0,w.lazy)(()=>import("./rpc-mode-UYPSHYEX.js")),Tm=(0,w.lazy)(()=>import("./BatchTransfer-MI6SXCTB.js")),xm=(0,w.lazy)(()=>import("./Bitcoin-J4RHATXD.js")),Cm=(0,w.lazy)(()=>import("./BatchAddAccount-F5AMXDDR.js")),Pm=(0,w.lazy)(()=>import("./BulkRename-OZXZ6ET3.js")),Om=(0,w.lazy)(()=>import("./Edit-NKTSZUXH.js")),Am=(0,w.lazy)(()=>import("./Confirm-Z6LNAR36.js")),PA=(0,w.lazy)(()=>import("./FractalBTCInscribe-GK7442LR.js")),Rm=(0,w.lazy)(()=>import("./FractalBRCFetchLoss-5ITTENCE.js")),Mm=(0,w.lazy)(()=>import("./ManageUtxo-4LKBIY2U.js")),Im=(0,w.lazy)(()=>import("./CoinInfo-G5VI3C5X.js")),Dm=(0,w.lazy)(()=>import("./DownloadAddresses-SSLMSKSO.js")),Nm=(0,w.lazy)(()=>import("./GasTracker-RH6IUUYD.js")),km=(0,w.lazy)(()=>import("./Advanced-4HZDDTRS.js")),Lm=(0,w.lazy)(()=>import("./PasswordType-KZMKICCP.js"));var qm=({autoLockTimeLimit:e,setLastActiveTime:t})=>{let n=(0,se.useHistory)().location?.state?.noGuard||{},i=p.default.createElement(p.Suspense,null,p.default.createElement(se.Switch,null,p.default.createElement(se.Route,{path:Ls,component:bh}),p.default.createElement(_,{path:fl,component:Yo,exact:!0}),p.default.createElement(Uo,{path:Dl,component:Om,exact:!0}),p.default.createElement(Uo,{path:Nl,component:Am,exact:!0}),p.default.createElement(_,{path:oi,guard:!n[oi],component:_h,exact:!0}),p.default.createElement(_,{path:_l,component:vh,exact:!0}),p.default.createElement(_,{path:pl,component:Sh,exact:!0}),p.default.createElement(_,{path:hl,component:Eh,exact:!0}),p.default.createElement(_,{path:Js,component:Th,exact:!0}),p.default.createElement(_,{path:bl,guard:!0,component:Ph,exact:!0}),p.default.createElement(se.Route,{path:Kl,component:Lm,exact:!0}),p.default.createElement(se.Route,{path:Ks,component:Mh,exact:!0}),p.default.createElement(_,{path:Gs,component:Ih}),p.default.createElement(Dr,{path:$s,component:Yo,exact:!0}),p.default.createElement(se.Route,{path:`${Vs}/:type`,component:Uh}),p.default.createElement(_,{path:ml,component:Ah}),p.default.createElement(_,{path:vl,component:Oh}),p.default.createElement(_,{path:gl,component:Rh}),p.default.createElement(_,{path:wl,component:xh}),p.default.createElement(_,{path:yl,guard:!0,component:Ch}),p.default.createElement(se.Route,{path:Ll,component:yh}),p.default.createElement(_,{path:Ws,component:Fh,exact:!0}),p.default.createElement(se.Route,{path:As,component:Hh,exact:!0}),p.default.createElement(Dr,{path:St,component:Dh}),p.default.createElement(Dr,{path:Hs,component:Nh,exact:!0}),p.default.createElement(Dr,{path:Fs,component:kh,exact:!0}),p.default.createElement(_,{path:dl,component:Lh,exact:!0}),p.default.createElement(_,{path:cl,component:qh,exact:!0}),p.default.createElement(se.Route,{path:Bl,component:Bh,exact:!0}),p.default.createElement(se.Route,{path:Wl,component:Wh,exact:!0}),p.default.createElement(Bn,{path:zr,exact:!0,component:jh}),p.default.createElement(Bn,{path:Us,component:Kh}),p.default.createElement(_,{path:js,component:Gh}),p.default.createElement(_,{path:Al,component:Em}),p.default.createElement(_,{path:Rl,component:Tm}),p.default.createElement(_,{path:Ml,component:Cm}),p.default.createElement(_,{path:Il,component:Rm}),p.default.createElement(_,{path:kl,component:Pm}),p.default.createElement(_,{path:ks,component:zh}),p.default.createElement(_,{path:Ns,component:Yh}),p.default.createElement(_,{path:ul,component:$h}),p.default.createElement(_,{path:ll,component:Vh}),p.default.createElement(_,{path:`${Ms}/:nftPath`,component:Jh,exact:!0}),p.default.createElement(_,{path:`${Rs}/:coinId?`,component:Xh}),p.default.createElement(_,{path:Ys,component:Zh}),p.default.createElement(_,{path:zs,component:Qh}),p.default.createElement(_,{path:Xr,component:em}),p.default.createElement(_,{path:Xs,component:tm}),p.default.createElement(_,{path:Zs,component:rm}),p.default.createElement(_,{path:Qs,component:nm}),p.default.createElement(_,{path:rl,component:im}),p.default.createElement(_,{path:el,component:om}),p.default.createElement(_,{path:Sl,component:am,exact:!0}),p.default.createElement(_,{path:tl,component:sm}),p.default.createElement(_,{path:nl,component:lm}),p.default.createElement(_,{path:al,component:um}),p.default.createElement(_,{path:il,component:fm}),p.default.createElement(_,{path:ol,component:dm}),p.default.createElement(_,{path:`${Is}/:id`,component:cm}),p.default.createElement(_,{path:`${qs}`,component:pm,exact:!0}),p.default.createElement(_,{path:Bs,component:hm,exact:!0}),p.default.createElement(_,{path:`${Ds}`,component:mm}),p.default.createElement(_,{path:Jr,component:gm,exact:!0}),p.default.createElement(_,{path:Ul,component:Im}),p.default.createElement(_,{path:jl,component:Dm}),p.default.createElement(_,{path:El,component:wm}),p.default.createElement(_,{path:Tl,component:ym}),p.default.createElement(_,{path:xl,component:bm}),p.default.createElement(_,{path:Cl,component:_m}),p.default.createElement(_,{path:Pl,component:vm}),p.default.createElement(_,{path:Ol,component:Sm}),p.default.createElement(_,{path:sl,component:xm}),p.default.createElement(_,{path:Zr},p.default.createElement(p.Suspense,{fallback:p.default.createElement(ou,null)},p.default.createElement(gh,null))),p.default.createElement(_,{path:ql,component:Mm}),p.default.createElement(_,{path:Fl,component:Nm}),p.default.createElement(_,{path:Hl,component:km}),p.default.createElement(_,{path:[fe,Yr],component:wh})));return e>0?p.default.createElement(Fp,{onAction:t,throttle:1e3},i):i};var Bm=qm;var Wm=({isLoading:e})=>{let{autoLockTimeLimit:t=0}=(0,Un.useSelector)(Ts),r=(0,Un.useDispatch)();return Qe.default.createElement(Qe.default.Fragment,null,Qe.default.createElement(Lp,null),Qe.default.createElement(Bp,null),Qe.default.createElement("div",{className:"main-container-wrapper"},e&&Qe.default.createElement(iu,null),Qe.default.createElement(Bm,{autoLockTimeLimit:t,setLastActiveTime:()=>{r(ps())}})))};var Um=({isLoading:e})=>React.createElement(Wm,{isLoading:e});a();s();a();s();var pv=()=>{},jm=pv;var Fm=jm;ie.config({duration:3,top:10,left:16,right:16,maxCount:3,placement:ie.DIRECTION.top,isInline:!0});var $m=()=>{let e=Fm(),t=(0,Hm.useHistory)(),r=(0,et.useDispatch)();Do();let n=(0,et.useSelector)(h=>h.appState.isLoading),{os:i,browser:o}=(0,et.useSelector)(h=>h.metamask.browserEnvironment)||{},l=(0,et.useSelector)(xs),u=(0,et.useSelector)(Es)?.isoCode||"usd",d=(0,et.useSelector)(jr),m=process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY,S=()=>{t.listen((h,x)=>{x==="PUSH"&&Dp(h.pathname)})},E=()=>{u||r(ru("usd"))},O=()=>{Fr(bt.getCheckCountryLimit).then(h=>{try{let{data:{web3:{limit:x,displayCountryName:c}}}=h;x&&we.warn({maskClosable:!1,renderFooter:()=>ft.default.createElement("div",null),alignBottom:!1,title:N("wallet_extension_login_title_access_restricted"),text:N("wallet_extension_login_toast_unavailable_inyourregion",{area:c})})}catch{ie.error({title:N("wallet_home_toast_network_error")})}}).catch(ve)};return(0,Km.useMount)(()=>{S(),Yl(),Vr(l),E(),O(),xp(d)}),Io(),ft.default.createElement(ft.default.Fragment,null,ft.default.createElement("div",{className:(0,Gm.default)("app-content",{[`os-${i}`]:i,[`browser-${o}`]:o}),style:{height:e}},ft.default.createElement(Um,{isLoading:n})),!!m&&ft.default.createElement(kp,null))};a();s();a();s();var Nr=g(R());Se();a();s();var zo={"error-page":"_error-page_1qj8r_1",errorPage:"_error-page_1qj8r_1","error-page-details":"_error-page-details_1qj8r_13",errorPageDetails:"_error-page-details_1qj8r_13"};var hv=()=>{let e=Ur(),t=xe.State.getImgMap(e),r=`${Gr()}${t[xe.State.TYPE.noNetwork]}`;return Nr.default.createElement("div",{className:zo.errorPage},Nr.default.createElement("div",{className:zo.errorPageDetails},Nr.default.createElement(xe.State,{type:xe.State.TYPE.noNetwork,title:N("wallet_extension_tg_empty_title_load_failed"),description:N("wallet_extension_tg_empty_desc_load_failed"),imgSrc:r,renderButton:()=>Nr.default.createElement(Te,{category:Te.CATEGORY.fill,type:Te.TYPE.primary,size:Te.SIZE.s,onClick:()=>{window.location.href=window.location.pathname}},N("wallet_extension_tg_empty_btn_load_failed"))})))},Vm=hv;var jn=class extends le.PureComponent{constructor(){super(...arguments);Ke(this,"state",{});Ke(this,"isNetworkError",()=>{let{error:r}=this.state;return r instanceof TypeError&&r.message?.toLocaleLowerCase().match(/failed to fetch/)})}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){he.captureException(r)}render(){let{error:r}=this.state,{store:n}=this.props;if(r){let i=r&&this.isNetworkError();return le.default.createElement(Jo.Provider,{store:n},le.default.createElement(xr,null,i?le.default.createElement(Vm,null):le.default.createElement(Mo,{error:r})))}return le.default.createElement(Jo.Provider,{store:n},le.default.createElement(Ym.HashRouter,null,le.default.createElement(xr,null,le.default.createElement(ca,{options:Aa},le.default.createElement(pa,null,le.default.createElement($m,null))))))}};jn.propTypes={store:zm.default.object.isRequired};var Jm=jn;var oa=g(Dg());zn();a();s();async function Xm(e){return(await wt.permissions_log).query(e)}Hr();qg();Xn();Gt();ht();var bg=g(Pa()),_g=g(Rg()),Gn=g(pt());Se();a();s();var Zm="SET_ACTIVE_TAB";function Xo(e={},t){let r={...e};switch(t.type){case Zm:return t.value;default:return r}}function Qm(e){return{type:Zm,value:e}}a();s();ht();Yn();var eg=async()=>{try{let{authMap:e}=await $e.get("authMap"),{data:t}=await $e.get("data"),r=la(t,"TransactionController.transactions");return{authMap:e,evmTransactions:r}}catch{return{}}};hs();a();s();var Hn=g(Oa());Ng();a();s();ni();Gt();Ut();a();s();function Fn(e){return typeof e=="string"?e:typeof e>"u"?"Undefined error":e instanceof DOMException?`Error Name: ${e.name}, Message: ${e.message}, Code: ${e.code}`:`Error Object: ${JSON.stringify(e,["message","arguments","type","name"])}`}var mv=yt({name:"balanceSlice",initialState:{balanceMap:{}},reducers:{setBalance:(e,t)=>{e.balanceMap=t.payload}}}),{actions:gv,reducer:wv}=mv;function tg(e){he.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:e}]},level:"error"})}var rg=()=>async e=>{(await wt.balance).liveQuery().subscribe((r,n)=>{if(n)tg(`subscribe balance error, ${Fn(n)}`),Ie().fallbackBalancesData();else{if(!r||r.filter?.(o=>!o).length>0){tg(`subscribe balance null, ${JSON.stringify(r)}`),Ie().fallbackBalancesData();return}let i=r.reduce((o,l)=>(o[l.walletId]=l,o),{});e(gv.setBalance(i))}})},ng=wv;a();s();ni();Gt();Ut();var yv=yt({name:"coins",initialState:{coinsMap:{},ready:!1},reducers:{updateCoinsMap(e,t){e.coinsMap=t.payload,e.ready=!0}}}),{actions:bv,reducer:_v}=yv,{updateCoinsMap:vv}=bv;var ig=()=>async e=>{(await wt.common_coins).liveQuery().subscribe(async(r,n)=>{if(n)he.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:`subscribe coins error, ${Fn(n)}`}]},level:"error"}),Ie().fallbackAllCoinsMap();else{r.sort((o,l)=>o.rank-l.rank);let i=r.reduce((o,l)=>(o[String(l.coinId)]=l,o),{});e(vv(i))}})},og=_v;a();s();var fg=g(Oa());a();s();Mg();function Zo(e={},t){let r={shouldClose:!1,modal:{open:!1,modalState:{name:null,props:{}},previousModalState:{name:null}},sidebar:{transitionName:"",type:"",props:{}},accountDetail:{subview:"transactions"},isLoading:!1,warning:null,requestAccountTabs:{},currentWindowTab:{},showSupportedChainsFlag:!1,...e};switch(t.type){case ka:return{...r,forgottenPassword:t.value};case Ba:return{...r,warning:null};case ja:return{...r,isLoading:!1,warning:null,scrollToBottom:!1,forgottenPassword:!1};case Fa:return{...r,txId:t.id,warning:null,isLoading:!1};case Ha:return t.value.unconfirmedActionsCount>0?{...r,txId:null,warning:null}:{...r,shouldClose:!0,warning:null,txId:null,accountDetail:{subview:"transactions"}};case Ka:return{...r};case La:return{...r,warning:t.value||"Incorrect password. Try again."};case qa:return{...r,warning:""};case Ga:return{...r,isLoading:!0,loadingMessage:t.value};case $a:return{...r,isLoading:!1};case Wa:return{...r,warning:t.value,isLoading:!1};case Ua:return{...r,warning:void 0};case Va:return{...r,requestAccountTabs:t.value};case Ya:return{...r,currentWindowTab:t.value};case za:return{...r,showSupportedChainsFlag:t.value};default:return r}}a();s();a();s();var ag={[$u]:Vu};a();s();var sg={[Fu]:Hu,[hu]:mu,[Ku]:Gu,[zu]:Ju};var lg={...ag,...sg};a();s();var Sv="metamask/send/OPEN_TO_DROPDOWN",Ev="metamask/send/CLOSE_TO_DROPDOWN",Tv="metamask/send/UPDATE_SEND_ERRORS",xv="metamask/send/RESET_SEND_STATE",Cv="metamask/send/SHOW_GAS_BUTTON_GROUP",Pv="metamask/send/HIDE_GAS_BUTTON_GROUP",ug={toDropdownOpen:!1,gasButtonGroupShown:!0,errors:{}};function Qo(e=ug,t){switch(t.type){case Sv:return{...e,toDropdownOpen:!0};case Ev:return{...e,toDropdownOpen:!1};case Tv:return{...e,errors:{...e.errors,...t.value}};case Cv:return{...e,gasButtonGroupShown:!0};case Pv:return{...e,gasButtonGroupShown:!1};case xv:return{...ug};default:return e}}a();s();kg();var dg=(0,fg.combineReducers)({activeTab:Xo,metamask:ts,appState:Zo,history:Ip,send:Qo,nftSend:Bu,newDapp:Du,localeMessages:Ja,importAccount:Uu,coinDetail:qu,txHistory:Wu,balanceSlice:ng,currencySlice:xu,networksSlice:ws,providerSlice:_s,coins:og,assetsSlice:pu,Nft:ku,addressBookState:Yu,batchTransfer:Xu,batchAddAccount:Zu,batchImportPrivateKey:ju,bulkRename:Qu,commonSend:si,walletConfig:Jl,businessSend:li,...lg,activityBanners:Lu,keyring:is});function ea(e){return(0,Hn.createStore)(dg,e,(0,Hn.applyMiddleware)(rs))}var cg=()=>e=>{e(gs()),e(bs()),e(ig()),e(rg()),e(cu())};a();s();if((process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"||process.env.ASSETS_BUILD_TYPE==="prepub")&&localStorage.getItem("speedUp")){let t=window.setInterval;window.setInterval=function(r,n,...i){let o=n>=1e3?n/100:n;return t(r,o,...i)}}a();s();Wr();mt();a();s();var Bt=window.history,Ov=Bt.pushState,Av=Bt.replaceState,ta=new Event("locationChange");Bt.pushState=(...e)=>{let t=Ov.apply(Bt,e);return window.dispatchEvent(ta),t};Bt.replaceState=(...e)=>{let t=Av.apply(Bt,e);return window.dispatchEvent(ta),t};window.addEventListener("popstate",()=>{window.dispatchEvent(ta)});function ra(e=""){return e.replace(/^#/,"")}function pg(e){window.addEventListener("locationChange",()=>{e(ra(window.location.hash))})}a();s();var Rv=[/^(\/wallet-add\/import-with-seed-phrase-and-private-key)/,/^(\/batch-import-private-key\/edit)/,/^(\/wallet\/mnemonic\/backup)/,/^(\/wallet\/mnemonic-privateKey)/,/^(\/wallet\/account\/privateKey)/,/^(\/reset-password)/];function Kn(e,t=Rv){for(let n=0;n<t.length;n++){let i=t[n];if(typeof i=="string"&&e.endsWith(i)||typeof i!="string"&&i.test(e))return!0}return!1}function Mv(){let e=Me();return e===ma?1:e===ga?2:e===qr?3:0}var mg=Mv(),na="lastPageDetentionTimeParams",gg=ef(),tt,Fe,ia="";async function Iv(){let e=window.localStorage.getItem(na);if(window.localStorage.removeItem(na),e)try{await ai(JSON.parse(e))}catch{console.log("Failed to report last page detention time")}let t=window.location.hash;t&&t!==fe&&(tt=new Date,Fe=ra(t))}function hg(){if(!tt||!Fe||!Kn(Fe))return;let e=new Date,t={s:gg,u:Fe,r:ia,d:e.getTime()-tt.getTime(),p:mg,e:tt.toLocaleString(),l:e.toLocaleString()};window.localStorage.setItem(na,JSON.stringify(t))}function Dv(e){if(e===fe)return;let t=new Date;Fe&&tt&&Kn(Fe)&&ai({s:gg,u:Fe,r:ia,d:t.getTime()-tt.getTime(),p:mg,e:tt.toLocaleString(),l:t.toLocaleString()}),tt=t,ia=Fe||"",Fe=e}pg(Dv),Iv(),window.addEventListener("beforeunload",hg),window.onblur=hg;Lg();Pg();a();s();function wg(e){let t={accountIdentities:e.accountIdentities,keyringIdentities:e.keyringIdentities,selectedWallet:e.selectedWallet};return delete e.accountIdentities,delete e.keyringIdentities,delete e.selectedWallet,t}Na.config({top:16});da.config({returnString:!0,isConvertToZero:!0,exponentialAt:[-40,40]});Ht.setConfig({Dialog:{maskClosable:!0,getContainer:()=>document.querySelector(".main-container-wrapper")},Drawer:{getContainer:()=>document.querySelector(".main-container-wrapper")},[Ht.componentNames.Select]:{bottomSafeSpace:0}});if(process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY){let e=window.localStorage.getItem("languageKeyMode");gt(e==="keyMode")}bg.default.setLevel(process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"?"debug":"warn");function Nv(e){window.getCleanAppState=function(){let t=ua(e.getState());return t.version=globalThis.platform.getVersion(),t.browser=window.navigator.userAgent,t}}var kv=async()=>Promise.allSettled([uu(),Iu()]);function Lv(e){async function t(r){let n=await Gn.default.tabs.get(r),{active:i,id:o,title:l,url:u}=n;if(i===!1)return;let{origin:d,protocol:m}=u?new URL(u):{};!d||d==="null"||e.dispatch(Qm({id:o,title:l,origin:d,protocol:m,url:u}))}Gn.default.tabs.onActivated.addListener(async({tabId:r})=>{await t(r)}),Gn.default.tabs.onUpdated.addListener(async r=>{await t(r)})}async function qv({metamaskState:e,networks:t},r,n){await Sa.setUrlFromLocalAsync(),await _a.setUrlFromLocalAsync(),await kv();let i={},o={},l={},u=wg(e);if(e.currentLocale){let x=await Promise.allSettled([Kr(e.currentLocale),Kr(e.currentLocale,oa.LOCALE_TYPE.okd),Kr(e.currentLocale,oa.LOCALE_TYPE.dex)]);i=x[0].value,o=x[1].value,l=x[2].value}let m={...{activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{current:i,okdCurrent:o,dexCurrent:l}}},S=ea(m),E=ys(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);return E.length>0&&S.dispatch(yu({id:E[0].id})),r.onNotification(x=>{switch(x.method){case"sendUpdate":{let c=x.params[0];S.dispatch(ds(c))}break;case"sendPartialUpdate":{let c=x.params[0];S.dispatch(cs(c))}break;default:throw new Error(`Internal JSON-RPC Notification Not Handled:

 ${JSON.stringify(x)}`)}}),Lv(S),S.dispatch(cg()),S.dispatch(ms(t?.length?t:ba())),fs(u,S.dispatch.bind(S),!1),(0,_g.createRoot)(n.container).render(yg.default.createElement(Jm,{store:S})),e.currentLocale&&us(e.currentLocale),S}async function aa(e,t){let{backgroundConnection:r}=e;ns(r),as(r.refreshHttpDNS);let n,i,o;try{let[u,d,m]=await Promise.all([new Promise((S,E)=>{r.getStateByDomain((O,h)=>{if(O){E(E);return}S(h)})}),os(),Nu()]);n=u,i=d,o=m}catch(u){t(u);return}let{currentLocale:l}=n;ls(l),qv({metamaskState:n,identities:i,networks:o},r,e).then(u=>{Nv(u),t(null,u)}).catch(()=>{})}window.logStateString=async function(e){let t=window.getCleanAppState();try{let r=await globalThis.platform.getPlatformInfo();t.platform=r;try{t.permissionsLog=await Xm(),t.log=await lu()}catch{t.permissionsLog=[],t.log=[]}let n=await eg();Object.keys(n).forEach(o=>{t[o]=n[o]});let i=JSON.stringify(t,null,2);e(null,i)}catch(r){e(r)}};a();s();var Bv=["popup.html","notification.html","home.html"];navigator.userAgent.includes("Android")&&Bv.forEach(e=>{location.href.includes(e)&&(location.href=location.href.replace(e,"fullscreen.html"))});function Wv(e){let t=new Sg.default;t.pipe(e).pipe(t),e.on("error",console.error.bind(console)),t.on("error",console.error.bind(console))}function Uv(e,t){let r=pd(e);t(null,r)}function jv(e,t){let r=wc(e);Uv(r.createStream("controller"),t),Wv(r.createStream("provider"))}function Fv(e,t,r,n){jv(r,(i,o)=>{if(i){n(i);return}aa({activeTab:e,container:t,backgroundConnection:o},n)})}async function Hv(e){return new Promise(t=>{if(e!==Lr&&e!==qr){t({});return}sa.default.tabs.query({active:!0,currentWindow:!0}).then(r=>{let[n]=r,{id:i,title:o,url:l}=n,{origin:u,protocol:d}=l?new URL(l):{};if(!u||u==="null"){t({});return}t({id:i,title:o,origin:u,protocol:d,url:l})}).catch(r=>{console.error(r)})})}async function Kv(e,t){let r=await Hv(e);Ve()===ya&&(r.origin="https://www.okx.com");let n=document.getElementById("app");Fv(r,n,t,i=>{if(i)throw i})}async function Eg(){globalThis.platform=new yc;let e=Me(),t=sa.default.runtime.connect({name:e}),r=new nr(t);r.once("end",Eg),Kv(e,r)}Eg().catch(vg.default.error);

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ui.js.map
