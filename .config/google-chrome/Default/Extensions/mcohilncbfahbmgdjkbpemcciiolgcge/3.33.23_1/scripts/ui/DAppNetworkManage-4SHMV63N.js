import{a as oo}from"./chunk-ZEQQZDJ3.js";import"./chunk-OWXOW5AO.js";import{a as xe}from"./chunk-V3VOM45E.js";import{a as eo,b as he}from"./chunk-RPZZJKZJ.js";import"./chunk-FDJ2AAAT.js";import"./chunk-GQYTOJVD.js";import{a as to,c as pe}from"./chunk-BBVLJ4T3.js";import"./chunk-RZP4RECK.js";import{b as Re}from"./chunk-DQQKPXHV.js";import"./chunk-K4WB5MMU.js";import"./chunk-FXQ35K27.js";import"./chunk-TJW4EUGS.js";import{a as Xe,c as H}from"./chunk-SJRV5U24.js";import"./chunk-AQH6QKNE.js";import"./chunk-6IVHTBSR.js";import"./chunk-C77TCOTM.js";import"./chunk-KA5VAELR.js";import{a as je}from"./chunk-RUFGCIXT.js";import"./chunk-4BUFJ3ZT.js";import"./chunk-E2MXYP3A.js";import"./chunk-FPV6XIHQ.js";import"./chunk-MZXFJMVC.js";import"./chunk-46PSZUMN.js";import"./chunk-MYY7DCIN.js";import"./chunk-AHIMORZ4.js";import{a as Ge,c as z,d as Ye,h as k}from"./chunk-XZ6AHFH2.js";import"./chunk-6UFIPREK.js";import"./chunk-G4OIO3Z6.js";import"./chunk-JEIYTQ5E.js";import"./chunk-TOO5SEJU.js";import"./chunk-DUWPYFAS.js";import"./chunk-ZVXDJZSD.js";import"./chunk-56SDY6L3.js";import{a as Ke}from"./chunk-PXWV5LKL.js";import"./chunk-M5PVKGM6.js";import"./chunk-AK34CZMZ.js";import{h as $e,i as me}from"./chunk-QHZHYX4V.js";import"./chunk-FLFVNMKM.js";import"./chunk-YJ2NGJXA.js";import{a as Qe}from"./chunk-ZUBNNPBM.js";import{r as Je}from"./chunk-2SHHGXPQ.js";import{a as qe}from"./chunk-LXIBKSOK.js";import"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import"./chunk-DUKP4BLI.js";import{b as S}from"./chunk-S3O4LR55.js";import{h as ze,q as r}from"./chunk-FZCNSMLW.js";import"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import"./chunk-KCWFMCND.js";import{ga as Ze,m as Be,o as Le,w as b}from"./chunk-3TDWET6C.js";import"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import"./chunk-VPGNJAK6.js";import{Na as We,Ra as ko}from"./chunk-W6Q44ZHW.js";import{d as V,f as He}from"./chunk-3HS6AHPS.js";import"./chunk-JUXPONKW.js";import{b as ge,c as Ve,i as v,j as ae}from"./chunk-WSUAESF2.js";import"./chunk-O2FUKKO3.js";import"./chunk-GQJVAWGG.js";import"./chunk-WO5B666G.js";import"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import{c as l}from"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import{$ as j,A as P,B as E,D as ke,E as Ae,G as Pe,H as Ee,Mc as So,N as ve,U as ie,V as Y,W as De,X as O,Ya as se,_a as be,da as q,wb as Co,xc as Ue,z as C}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import{A as ce,E as Fe,G as Me,c as M}from"./chunk-J3CEQI22.js";import"./chunk-VFHYER2K.js";import{L as N,w as s}from"./chunk-KJIO572I.js";import"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import{T as Oe,ca as $}from"./chunk-KALFZBR5.js";import"./chunk-V55FEIYE.js";import{a as x}from"./chunk-EAZTJZU7.js";import"./chunk-YTRW5WTJ.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-WPMHLM7C.js";import"./chunk-P7DU4NJA.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as u,m as e,o}from"./chunk-ZCHLW7CF.js";e();o();e();o();var A=u(x()),G=u(b());N();He();ko();e();o();e();o();var ye=()=>{},we=()=>{};e();o();var ro=u(x());He();var no=u(b()),le=({origin:t})=>{let c=(0,no.useSelector)(({metamask:m})=>m.silence||{});return{removeSilencePermission:(0,ro.useCallback)(async()=>{await V().removeSilencePermission(t)},[t]),silencePermissions:c[t]||[]}};e();o();e();o();var Se=u(x()),wo=u(b());e();o();var y=u(x()),Ne=u(b());N();e();o();var U=u(x());e();o();var K={main:"_main_1vn1g_1",logo:"_logo_1vn1g_6",content:"_content_1vn1g_10",network:"_network_1vn1g_17",icon:"_icon_1vn1g_22"};function _e({icon:t,customIcon:c,name:i,content:m=null,disconnect:n,showDisconnect:a=!0,className:f=""}){return U.default.createElement("div",{className:`${K.main} ${f}`},c||U.default.createElement(S,{src:t,text:i,size:S.SIZE.lg,className:K.logo}),U.default.createElement("div",{className:K.content},U.default.createElement(r.Text,{strong:700,ellipsis:!0},i),m),a&&U.default.createElement(S.IconButton,{icon:"okx-wallet-plugin-unlink",className:K.icon,onClick:n}))}e();o();var Q=u(x());N();e();o();var J={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var io=({origin:t})=>{let{removeSilencePermission:c,silencePermissions:i}=le({origin:t});if(i.findIndex(a=>a.expireTime>Date.now())===-1)return null;let n=async()=>{await c()};return Q.default.createElement(l.Box,{className:J.wrapper},Q.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:J.silence},Q.default.createElement(r.Text,{className:J.text,type:r.TYPE.secondary,size:r.SIZE.xs},s("wallet_extension_connect_text_silent_mode_enabled")),Q.default.createElement(r.Text,{strong:500,className:J.cancel,size:r.SIZE.xs,onClick:n},s("wallet_extension_connect_btn_cancel"))))};So();e();o();var _=u(x()),lo=u(b());N();se();ie();e();o();var h=u(x()),co=u(b());N();ie();e();o();var F={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};e();o();var de=u(x());N();se();ie();var so=({providerType:t})=>{let[c,i]=(0,de.useState)({}),m=Xe(),n=Re(t),{list:a}=eo(),f=d=>m.filter(T=>T.factionType===d).find(T=>T.localType===n?.localType)||{};return(0,de.useEffect)(()=>{switch(t){case C:{let d=a.find(T=>n.type===De?T.uniqueId===n?.uniqueId:T.localType===n?.type)||{};i({...d,title:s("wallet_extension_sonic_header_evm_network")});break}case P:{let d=f(4);i({...d,icon:d.imageUrl,title:s("wallet_extension_sonic_desc_solana_comaptible")});break}case E:{let d=f(5);i({...d,icon:d.imageUrl,title:s("wallet_extension_sonic_desc_aptos_comaptible")});break}default:break}},[t,n,m]),c};var g=({providerType:t,isAllchain:c=!1})=>{let i=so({providerType:t}),{title:m,icon:n,chainName:a}=i,[f,d]=(0,h.useState)(!1),T=(0,co.useSelector)(k);return h.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:F.wrapper},h.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:F.title},m),c?h.default.createElement(r.Text,{type:r.SIZE.xs},s("wallet_extension_sonic_desc_all_networks")):h.default.createElement(h.default.Fragment,null,h.default.createElement(M,{width:16,height:16,alt:"chain",src:n||v,errorImg:v,pictureClassName:F.chainIcon}),h.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:F.switchNetwork,onClick:()=>d(!0)},h.default.createElement(r.Text,{size:r.SIZE.xs},a),h.default.createElement(S,{className:`okx-wallet-plugin-select-unfold ${F.arrow}`,size:S.SIZE.xxs}))),h.default.createElement(he,{visible:f,providerType:t,onClose:()=>d(!1),origin:T?.origin},h.default.createElement(he.Header,{title:s("wallet_extension_title_switch_network"),subTitle:t===C?s("wallet_extension_evm_desc"):s("wallet_extension_aptos_toast_manually_switch_network",{network:a})})))},Ao=({chainName:t})=>h.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:F.tip},s("wallet_extension_sonic_toast_manually_switch_network",{network:t}));g.Tip=Ao;e();o();var X=u(x());N();se();e();o();var D=u(x());N();e();o();Co();function ao(){let t=be;return{address:Ke(t)||"",localType:t}}e();o();var Ie={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var mo=({walletId:t,network:c})=>{let{address:i}=ao(),[m,n]=D.default.useState(!1),a=c?.coinId;return D.default.createElement(D.default.Fragment,null,D.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:Ie.wrapper,onClick:()=>{n(!0)}},D.default.createElement(r.Text,{size:r.SIZE.xs},Be(i)),D.default.createElement(S,{className:`okx-wallet-plugin-select-unfold ${Ie.arrow}`,size:S.SIZE.xxs})),D.default.createElement(xe,{visible:m,onClose:()=>n(!1),coinId:a,walletId:t},D.default.createElement(xe.Header,{title:s("extension_defi_top_header_title_select_address_type"),subTitle:s("extension_defi_popup_desc_new_address_default")})))};e();o();var ue={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var W=({chain:t})=>{let c=t?.localType||O,i=$e(),m=H({localType:c});return X.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:ue.lineItem},X.default.createElement(r.Text,{size:r.SIZE.xs,type:r.TYPE.secondary,className:ue.networkTitle},s("wallet_extension_sonic_header_btc_address")),X.default.createElement(M,{width:16,height:16,alt:"chain",src:m?.imageUrl||v,errorImg:v,pictureClassName:ue.chainIcon}),X.default.createElement(mo,{walletId:i,network:m}))};e();o();var Z=u(x());N();e();o();var R={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var ee=({showImage:t=!0,info:c})=>Z.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:R.lineItem},Z.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:R.title},s("wallet_extension_card_dropdown_available_network",{network:""})),t&&Z.default.createElement(M,{width:16,height:16,alt:"chain",src:c.image||v,errorImg:v,pictureClassName:R.chainIcon}),Z.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:R.switchNetwork},Z.default.createElement(r.Text,{size:r.SIZE.xs},c.chainName||"")));e();o();var po={headerTip:"_headerTip_tbl1j_1"};var _o=({isAllchain:t,isCurrentDappConnect:c})=>{let i=me(),m=(0,lo.useSelector)(k),{provider:n}=pe({dappUrl:m?.origin}),a=ae[n],f=H({localType:a}),d=()=>_.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:po.headerTip},s("wallet_extension_sonic_desc_switch_network_btc"));if(!c)return _.default.createElement(_.default.Fragment,null,d(),i?.account[Y]&&_.default.createElement(g,{providerType:C}),i?.account[j]&&_.default.createElement(g,{providerType:P}),i?.account[q]&&_.default.createElement(g,{providerType:E}),i?.account[O]&&_.default.createElement(W,null));if(t)return _.default.createElement(_.default.Fragment,null,d(),i?.account[Y]&&_.default.createElement(g,{providerType:C,isAllchain:t}),i?.account[j]&&_.default.createElement(g,{providerType:P}),i?.account[q]&&_.default.createElement(g,{providerType:E}),i?.account[O]&&_.default.createElement(W,null));switch(n){case C:case ge["okx6963-provider"]:case ge["ethereum-provider"]:return _.default.createElement(g,{providerType:C});case P:case Ae:return _.default.createElement(_.default.Fragment,null,_.default.createElement(g.Tip,{chainName:f?.chainName}),_.default.createElement(g,{providerType:P}));case E:case Pe:return _.default.createElement(_.default.Fragment,null,_.default.createElement(g.Tip,{chainName:f?.chainName}),_.default.createElement(g,{providerType:E}));case Ee:case ve:return _.default.createElement(W,{chain:f});case ke:return _.default.createElement(ee,{info:{chainName:s("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return _.default.createElement(ee,{info:{image:f?.imageUrl,chainName:f?.chainName}})}};e();o();var w=u(x()),uo=u(b());se();ie();var fo=({isAllchain:t,isCurrentDappConnect:c,provider:i})=>{let m=(0,uo.useSelector)(je),n=m?.length?m[0]:{},a=ae[i],f=H({localType:a});switch(n?.localType){case Y:return w.default.createElement(g,{providerType:C,isAllchain:c?t:!1});case O:return w.default.createElement(W,{chain:f});case j:return w.default.createElement(w.default.Fragment,null,w.default.createElement(g.Tip,{chainName:n?.chainName}),w.default.createElement(g,{providerType:P}));case q:return w.default.createElement(w.default.Fragment,null,w.default.createElement(g.Tip,{chainName:n?.chainName}),w.default.createElement(g,{providerType:E}));default:return w.default.createElement(ee,{info:{image:n?.image,chainName:n?.chainName}})}};e();o();var oe={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var To=({activeTab:t,removeAccount:c,domain:i})=>{let m=(0,Ne.useSelector)(z),n=me(),{method:a,provider:f}=pe({dappUrl:t?.origin}),d=(0,y.useMemo)(()=>n?.keyringIdentityType===Ue.PRIVATE_KEY,[n]),T=(0,y.useMemo)(()=>Boolean((m||[]).find(Te=>Te.origin===t?.origin)),[m,t]),B=(0,Ne.useSelector)(Ge),te=(0,y.useMemo)(()=>B[t?.origin]?.isOkx,[B,t]),re=to({provider:f,method:a})||te;return y.default.createElement(l.Box,{className:oe.main},y.default.createElement(l.FlexBox,{align:l.ALIGN.center},y.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs},s("wallet_extension_header_subtitle_current_dapp")),y.default.createElement(ce,{title:s("wallet_extension_toast_tooltip_adjust_retry"),trigger:ce.TRIGGER_TYPES.hover,placement:ce.DIRECTION.bottom,className:oe.tooltip},y.default.createElement(Oe,{className:`okds-question-mark-circle-fill ${oe.tipIcon}`}))),y.default.createElement(_e,{className:oe.connectedItem,customIcon:y.default.createElement(Fe,{alt:"connected",src:t?.icon||"/static/images/default-img.svg",errorImg:Ve,className:"connect-site-page__origin-icon"}),name:i,disconnect:()=>c(t?.origin),showDisconnect:T}),d?y.default.createElement(fo,{isAllchain:re,isCurrentDappConnect:T,provider:f}):y.default.createElement(_o,{isAllchain:re,isCurrentDappConnect:T}),y.default.createElement(io,{origin:t?.origin}))};e();o();var I=u(x()),fe=u(b());N();e();o();var Ce=u(x());N();e();o();var go={main:"_main_ntvor_1"};var Po=({connectedDomains:t,onDisconnect:c,domainHostCount:i})=>{let m=a=>c(a.origin),n=a=>a.extensionId?s("wallet_dapp_conncetion_subtitle_external_extension"):i[a.host]>1?a.origin:Le(a.origin);return Ce.default.createElement("main",{className:go.main},t.map(a=>Ce.default.createElement(_e,{key:a.origin,icon:a.icon,name:n(a),disconnect:()=>m(a)})))},xo=Po;e();o();var ho={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var Eo=({loading:t,emptyText:c,onRemoveAccount:i,onRemoveAllAccount:m,children:n})=>{let a=(0,fe.useSelector)(k),f=(0,fe.useSelector)(Ye),d=(0,fe.useSelector)(z),T=(0,I.useMemo)(()=>(d||[]).filter(B=>B.origin!==a?.origin),[d,a]);return I.default.createElement(I.default.Fragment,null,n,!!n&&!!T.length&&I.default.createElement(ze,null),!!T.length&&I.default.createElement(l.Box,null,I.default.createElement(l.FlexBox,{align:l.ALIGN.center},I.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:ho.connectedText},s("wallet_extension_header_subtitle_connected_dapp"))),I.default.createElement(xo,{domainHostCount:f,connectedDomains:T,onDisconnect:i})),!!d.length&&I.default.createElement(qe.FooterActions,null,I.default.createElement($,{block:!0,loading:t,size:$.SIZE.lg,type:$.TYPE.highlight,category:$.CATEGORY.fill,onClick:m},s("wallet_extension_withdraw_btn_disconnected"))),!n&&!d.length&&!T.length&&c)},yo=Eo;var vo=({loading:t,onRemoveAccount:c,onRemoveAllAccount:i})=>{let m=(0,wo.useSelector)(k),n=m?.origin&&m?.origin.replace(/^https?:\/\//iu,"");return Se.default.createElement(yo,{loading:t,onRemoveAccount:c,onRemoveAllAccount:i},Se.default.createElement(To,{activeTab:m,removeAccount:c,domain:n}))},Io=vo;var No=Io;e();o();var Do=()=>{let t=(0,G.useSelector)(z),c=(0,G.useSelector)(Ze),i=(0,G.useDispatch)(),[m,n]=(0,A.useState)(!1),a=(0,G.useSelector)(k),{removeSilencePermission:f,silencePermissions:d}=le({origin:a?.origin}),{setDisconnectUpgrade:T,isNeedShowDisconnectUpgrade:B}=oo(),te=(0,A.useCallback)(()=>{B&&(Me.success({title:s("wallet_extension_card_subtitle_disconnect_update")}),T())},[B,T]),re=async L=>{await ye(L),V().clearCookie(L),await V().removePermittedAllAccount(L),te(),d.length>0&&f(L),await We(i)},Te=()=>{n(!0);try{Promise.all(t.map(ne=>(d.length>0&&f(ne.origin),V().clearCookie(ne.origin)))).catch(()=>{});let L=t.map(async ne=>i(Je(ne.origin,c)));Promise.all([...L,we(c)]).then(()=>{n(!1),te()}).catch(()=>{n(!1)})}catch{n(!1)}};return A.default.createElement("div",{className:"connect-site-page__wrapper"},A.default.createElement(Qe,{title:s("wallet_home_dapp_connection_btn_connect"),closeable:!1}),A.default.createElement(No,{loading:m,onRemoveAccount:re,onRemoveAllAccount:Te}))},bo=(0,A.memo)(Do);export{bo as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=DAppNetworkManage-4SHMV63N.js.map
