import{a as we}from"./chunk-LX6FOAVF.js";import{a as j,c as et}from"./chunk-RF7SIEVA.js";import{b as tt}from"./chunk-MFJNC2RJ.js";import{E as Ke,G as Je}from"./chunk-V3H7KJBT.js";import{A as z,b as S,e as Ne,f as se,n as Ze,z as Se}from"./chunk-23HVNSWR.js";import{l as k,o as c}from"./chunk-HB7QCGGE.js";import{Dc as U,Gc as Re,Ic as ge,Qa as Xe,Ra as Qe,U as je,V as Q,X as $e}from"./chunk-PUMQ7BEU.js";import{f as _}from"./chunk-4OKCKO5L.js";import{a as ze}from"./chunk-VPGNJAK6.js";import{A as Fe,b as X,c as _e,f as re}from"./chunk-J3CEQI22.js";import{ga as ye,j as Ye,pa as He}from"./chunk-VFHYER2K.js";import"./chunk-KJIO572I.js";import{T as Ve,Z as be,ca as ne}from"./chunk-KALFZBR5.js";import"./chunk-V55FEIYE.js";import{a as w}from"./chunk-EAZTJZU7.js";import"./chunk-224G4QSH.js";import{f as d,m as r,o as n}from"./chunk-ZCHLW7CF.js";r();n();var y=d(w()),Ut=d(ze()),Oe=d(z());r();n();var R=d(w()),ot=d(z());r();n();var Te={"mev-bar":"_mev-bar_1goqr_1",mevBar:"_mev-bar_1goqr_1","mev-desc":"_mev-desc_1goqr_12",mevDesc:"_mev-desc_1goqr_12","mev-arrow":"_mev-arrow_1goqr_18",mevArrow:"_mev-arrow_1goqr_18"};var qt=()=>{let{components:{Mev:e}}=_,{quoteStore:{quote:t},mevStore:o}=c(),{bestRoute:i}=t||{},{fromToken:s,toToken:a}=i||{},m=i?.isEnableMev,{computedIsMevOpen:u,setMevUserSwitchOpen:l,setMevInfo:p}=o,f=!u&&Number(m)===$e.ON;return R.default.createElement(e,{isMev:u,chainId:s?.chainId,toChainId:a?.chainId,isShowBlockSwapMevTooltip:f,onMevChange:(T,v)=>{l(T),p(v)}},R.default.createElement("div",{className:Te.mevBar},R.default.createElement(_e,{src:u?Xe():Qe(),width:16}),R.default.createElement("span",{className:Te.mevDesc},S("swaptrade_history_label_mev_protect")),R.default.createElement(Ve,{className:(0,ot.default)("okds-arrow-chevron-right-centered-md",Te.mevArrow)})))},rt=k(qt);r();n();var ve=d(w());var Yt=({fromList:e,toList:t})=>{let{components:{SectionWrap:o,CoinSummary:i}}=_;return ve.default.createElement(o,null,ve.default.createElement(i,{title:S("swaptrade_card_swap_label1_pay"),summaryList:e}),ve.default.createElement(i,{space:16,title:S("swaptrade_card_swap_label2_receive"),summaryList:t}))},nt=Yt;r();n();var C=d(w()),Ae=d(z());r();n();var B=d(w()),st=d(z());r();n();var W={"chain-logos":"_chain-logos_11m0k_1",chainLogos:"_chain-logos_11m0k_1","bridge-logo":"_bridge-logo_11m0k_2",bridgeLogo:"_bridge-logo_11m0k_2",w100:"_w100_11m0k_15","icon-color":"_icon-color_11m0k_18",iconColor:"_icon-color_11m0k_18",exchange:"_exchange_11m0k_26","increase-weight":"_increase-weight_11m0k_26",increaseWeight:"_increase-weight_11m0k_26",icon:"_icon_11m0k_18","show-data-icon":"_show-data-icon_11m0k_54",showDataIcon:"_show-data-icon_11m0k_54","visible-set":"_visible-set_11m0k_58",visibleSet:"_visible-set_11m0k_58",rotate:"_rotate_11m0k_1","call-data":"_call-data_11m0k_61",callData:"_call-data_11m0k_61"};var Ht=({bridge:e})=>{let t=(0,B.useRef)(null),[o,i]=(0,B.useState)(null);return(0,B.useEffect)(()=>{let s=t.current;if(s){let a=s.getBoundingClientRect().width;i(a)}},[e]),B.default.createElement("div",{ref:t,className:(0,st.default)("flex align-items-center justify-content-start",W.w100)},B.default.createElement(_e,{className:W.bridgeLogo,src:e?.bridgeLogoUrl,alt:e?.bridgeName,width:20,height:20}),B.default.createElement(j,{maxWidth:o,text:e?.bridgeName}))},it=Ht;r();n();var G=d(w()),at=d(z());var zt=({networks:e})=>{let t=(0,G.useRef)(null),[o,i]=(0,G.useState)(null);return(0,G.useEffect)(()=>{let s=t.current;if(s){let a=s.getBoundingClientRect().width;i(a)}},[e]),G.default.createElement("div",{ref:t,className:(0,at.default)("flex align-items-center justify-content-start",W.w100)},G.default.createElement("div",{className:W.chainLogos},e.map(({chainName:s,chainLogoUrl:a})=>G.default.createElement("img",{src:a,alt:`${s}Logo`,key:s}))),G.default.createElement(j,{maxWidth:o,text:e.map(({chainName:s})=>s).join(` ${S("swaptrade_order_info_label_network_to")} `)}))},mt=zt;r();n();var ie=d(w()),ct=d(ze());var lt=()=>{let e=(0,ct.useLocation)(),{search:t}=e,{needUpdate:o,type:i}=Se(t);return(0,ie.useMemo)(()=>({needUpdate:o===je.on,type:i}),[o,i])},Z=e=>{let{quoteStore:t,facetStore:o}=c(),i=t?.quote?.bestRoute||{},{fromToken:s,toToken:a,fromTokenAmount:m,receiveAmount:u}=i,{computedFacetOrderTokens:l}=o;return(0,ie.useMemo)(()=>e===Q.REDEEM?l:{fromToken:{...s,amount:m},toToken:{...a,amount:u}},[e,s,m,a,u,l])},Vt=e=>{let{fromToken:t,toToken:o}=Z(e);return(0,ie.useMemo)(()=>t.chainId!==o.chainId?[t,o]:[t],[t,o])},ut=e=>{let{quoteStore:t,fromToStore:o,facetStore:i,walletContractStore:s,accountStore:{walletConfig:a,address:m},slippageStore:u}=c(),l=e===Q.REDEEM,p=e===Q.INTENT_SWAP,{fromToken:f,toToken:T}=Z(e),v=Vt(e),x=a?.walletId,{data:I}=s?.transactionPayload||{},{computedFacetOrderFromToRate:b,computedFacetOrderToFromRate:E,computedFacetOrderMinimumReceived:h}=i,{quote:F,computedIsUsingCentralizedBridge:P,enableQuoteAggregates:L}=t,A=F?.bestRoute?.bridge,N=t?.computedIsOfflineType,{name:O,logo:H,estimatedTime:$}=t?.quote?.bestRoute||{},{computedRate:le,computedToFromRate:ue,computedIsBridge:pe,computedIsEvmChain:fe,computedIsFromBtcCoin:V,computedIsCrossChain:de}=o,{computedMinimumReceived:Ue}=u;return(0,ie.useMemo)(()=>{let qe={walletId:x,address:m,networks:v,data:I,fromToken:f,toToken:T};return l?{rate:b,toFromRate:E,minimumReceived:h,isFromBtcCoin:!1,isEvmChain:!0,hideExchangeBtn:!1,...qe}:{estimatedTime:(parseInt($||0,10)/60).toFixed(0)??"--",isIntentBridge:N,computedIsCrossChain:de,rate:le,toFromRate:ue,minimumReceived:Ue,isFromBtcCoin:V,hideExchangeBtn:pe||P,isEvmChain:fe,isIntentSwap:p,bridge:A,enableQuoteAggregates:L,name:O,logo:H,...qe}},[x,m,v,I,l,le,ue,Ue,V,pe,fe,P,A,b,E,h,f,T,p,L,O,H,$,N,de])};var jt=({type:e})=>{let{rate:t,toFromRate:o,minimumReceived:i,isFromBtcCoin:s,isEvmChain:a,data:m,walletId:u,address:l,networks:p,bridge:f,hideExchangeBtn:T,fromToken:v,toToken:x,isIntentSwap:I,name:b,logo:E,enableQuoteAggregates:h,estimatedTime:F,computedIsCrossChain:P}=ut(e),{components:{SectionWrap:L,InteractiveAddress:A,ModuleWrap:N,ViewData:O}}=_;return C.default.createElement(C.default.Fragment,null,C.default.createElement(L,null,C.default.createElement(A,{title:S("swaptrade_transfer_textarea_wallet_used"),address:l,walletId:u})),C.default.createElement(L,{bordered:!1},h&&b&&E&&C.default.createElement(N,{title:S("swaptrade_mid_dialog_title_provider")},C.default.createElement("div",{className:"flex"},C.default.createElement(tt,{size:20,logo:E,name:b,className:"ml-8 content-primary font-14"}))),f?.bridgeName&&C.default.createElement(N,{title:S("swaptrade_xrouting_single_chain_routes")},C.default.createElement(it,{bridge:f})),!s&&C.default.createElement(N,{title:S("swaptrade_extension_cinteraction_reference")},C.default.createElement(et,{contentClassName:(0,Ae.default)("truncate font-14 font-400"),maxWidth:240,from:v.tokenSymbol,to:x.tokenSymbol,rate:t,toFromRate:o,hideExchangeBtn:T,className:(0,Ae.default)(W.exchange,W.increaseWeight),iconClassName:W.icon,wrapContentClassName:"justify-start"})),P&&C.default.createElement(N,{title:S("swaptrade_bridge_select_label_est_time")},C.default.createElement(j,{text:S("swaptrade_xrouting_tag_mins",{value:F})})),!s&&C.default.createElement(N,{title:S("swaptrade_card_swap_label3_minimum_receive")},C.default.createElement(j,{text:i})),C.default.createElement(N,{title:S("swaptrade_extension_cinteraction_network")},C.default.createElement(mt,{networks:p})),a&&!I&&m&&C.default.createElement(O,{copyable:{hideDesc:!0},data:m})))},pt=k(jt);r();n();var q=d(w()),Pe=d(z());r();n();var D=d(w());r();n();var ft=d(w());var De=e=>{let{useCoin:t}=_.hooks;return t(e)},$t=e=>{let{walletContractStore:t}=c(),o=De(e);return(0,ft.useEffect)(()=>{Ze(e)&&t.setNativeCoin(o)},[o,e]),{coin:o}},dt=$t;var Xt=()=>{let{TipMessage:e}=_.components,{walletContractStore:t,fromToStore:o,quoteStore:i}=c(),{noCurrentPathTipInfo:{visible:s,bridgeName:a}}=i,{gasInfo:m,gasLimitError:u,starknetRegisterStatus:l,setVisibleStarknetRegister:p,computedPriceUpdate:f,computedSolonaNativeTokenSufficientRent:T,solonaRent:v,gasFee:x}=t,{from:I}=o,b=De(I.chainId),{symbol:E}=b??{},h={type:X.TYPE.error,renderGasStation:!1},F=()=>D.default.createElement(e,{type:X.TYPE.warn,message:S("swaptrade_extension_cinteraction_insufficient_networkfee",{symbol:E}),renderGasStation:!1}),P=()=>D.default.createElement(e,{...h,message:S("swaptrade_extension_cinteraction_might_error")}),L=()=>D.default.createElement(e,{...h,type:X.TYPE.warn,message:S("swaptrade_xrouting_dialog_market_fluctuations_default",{value:a})}),A=()=>D.default.createElement(e,{...h,message:u}),N=()=>D.default.createElement(e,{...h,message:D.default.createElement(D.default.Fragment,null,D.default.createElement("p",null,S("swaptrade_extension_errortip_address_not_registered")),D.default.createElement(re,{type:re.TYPE.primary,weight:re.WEIGHT.muted,size:re.SIZE.xs,onClick:()=>{p(!0)}},S("swaptrade_extension_textbtn_registor_now")))}),O=()=>D.default.createElement(e,{...h,type:X.TYPE.warn,message:S("swaptrade_extension_errortip_chainname_address_registering",{chainName:I.chainName})}),H=()=>D.default.createElement(e,{renderGasStation:!1,message:S("swaptrade_transfer_textarea_quote_expired")}),$=()=>D.default.createElement(e,{type:X.TYPE.warn,renderGasStation:!1,message:S("swaptrade_extension_solana_insufficient_sol_balance",{number:ge(U.BigNumber(v||0).plus(x).toFixed(9),{sigFigs:9})})});if(l===_.global.RegisterLocalStatusEnum.NOT_STARTED)return N();if(l===_.global.RegisterLocalStatusEnum.PROCESSING)return O();if(u)return A();if(t.computedIsSufficientGas&&m?.gasLimitInfo?.queryGasLimitErrorUseDefault)return P();if(T)if(t.computedIsSufficientGas){if(s)return L();if(f)return H()}else return F();else return $();return null},_t=k(Xt);r();n();var he={footer:"_footer_ckzo2_1","confirm-button":"_confirm-button_ckzo2_4",confirmButton:"_confirm-button_ckzo2_4","confirm-style":"_confirm-style_ckzo2_7",confirmStyle:"_confirm-style_ckzo2_7"};var Qt=({onChangeHeight:e,type:t})=>{let o=(0,q.useRef)(null),{walletContractStore:i}=c(),{computedBtnProps:s}=i,{text:a,onClick:m,...u}=s;return(0,q.useEffect)(()=>{let l=f=>{e&&e(f.offsetHeight)},p=new MutationObserver(f=>{l(f[0]?.target)});return o.current&&(l(o.current),p.observe(o.current,{childList:!0})),()=>{p.disconnect()}},[e]),q.default.createElement("div",{ref:o,className:(0,Pe.default)(he.footer)},q.default.createElement(_t,null),q.default.createElement("div",{className:(0,Pe.default)(he.confirmButton)},q.default.createElement(ne,{block:!0,circle:!1,className:he.confirmStyle,size:ne.SIZE.lg,type:ne.TYPE.highlight,category:ne.CATEGORY.fill,loadingText:a,onClick:()=>{m(t)},...u},a)))},gt=k(Qt);r();n();var Ee=d(w());r();n();var kt=d(w());r();n();var Y=d(w());r();n();var ae=d(w()),wt=d(z());r();n();var St={"network-fee-title":"_network-fee-title_16onq_1",networkFeeTitle:"_network-fee-title_16onq_1","tooltip-icon":"_tooltip-icon_16onq_4",tooltipIcon:"_tooltip-icon_16onq_4","gas-type":"_gas-type_16onq_8",gasType:"_gas-type_16onq_8"};var Rt=({chainName:e,coinSymbol:t})=>{let{quoteStore:o,commonStore:i,fromToStore:s}=c(),{currencyConversion:a,computedNowCurrencySymbol:m}=i,{computedIsCrossChain:u}=s,{estimateBridgeFeeAmount:l,estimateBridgeFeeAmountUsd:p}=o?.quote?.bestRoute?.bridge||{},f=(0,ae.useMemo)(()=>u?S("swaptrade_intro_dialog_desc_cross_fee_notice",{value:S("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:l?Re(a(p).toString(),m):"--",fee:l?`${ge(l)} ${t}`:"--"})}):S("swaptrade_extension_tooltip_mining_fee"),[t,u,m,a,l,p]);return ae.default.createElement(Fe,{rebirthPopper:!0,popupProps:{className:"text-center"},maxWidth:200,placement:Fe.DIRECTION.topRight,title:f},ae.default.createElement("span",{className:(0,wt.default)("font-12 content-contrast",St.networkFeeTitle)},S("swaptrade_history_card_text_destination_chain_fee",{chainName:e})))},K=k(Rt);r();n();var Ie=d(w());var ke={SLOW:"slow",STANDARD:"standard",FAST:"fast",CUSTOM:"custom"};function Zt(){let{useSignInfo:e,useUtxoEstimateFee:t}=_.hooks,{walletContractStore:o,accountStore:i,fromToStore:s}=c(),{nativeCoin:a,transactionPayload:m}=o,{from:u,to:l,value:p,...f}=m||{},T=a?.coinId,{decimals:v,availableBalance:x}=s.from,[I,b]=(0,Ie.useState)(null),E=e({address:i.address,coinId:T}),h=I?.level||ke.STANDARD,F=(0,Ie.useMemo)(()=>{let H={[ke.SLOW]:"min",[ke.STANDARD]:"normal",[ke.FAST]:"max"};return E?.[H[h]]||I?.satBytes||0},[E,h,I?.satBytes]),P=se(p,v),L=se(x,v),[,A,N]=t({coinId:T,fromAddr:u,toAddr:l,satBytes:F,networkFee:"0",coinAmount:P,canTransferAmount:L,...f});return{loading:U.lte(A,"0")&&!N,error:N,signInfo:E,option:{level:h,satBytes:F},estimatedFee:A,setOption:b}}var Tt=Zt;r();n();var me=d(w());r();n();var Ce=d(w());He();var J=({estimatedGasFeeInt:e,maxGasFeeInt:t,decimals:o})=>{let{quoteStore:i}=c(),s=Ye(i,"quote.bestRoute.bridge.estimateBridgeFeeAmount");return(0,Ce.useMemo)(()=>{let a=Ne(t,o),m=Ne(e,o);return s&&(m=U.add(m,s,{returnString:!0}),a=U.add(a,s,{returnString:!0})),{maxGasFee:a,estimatedGasFee:m}},[t,o,e,s])},ee=e=>{let{walletContractStore:t}=c();(0,Ce.useEffect)(()=>{t.setGasFee(e)},[e])};function Kt(e){let{loading:t,estimatedFee:o,error:i}=e,{fromToStore:s,walletContractStore:a}=c(),{setGasFeeLoading:m,setGasLimitError:u}=a,{decimals:l}=s.from,{maxGasFee:p}=J({maxGasFeeInt:o,estimatedGasFeeInt:o,decimals:l});ee(p),(0,me.useEffect)(()=>{m(t)},[t,m]),(0,me.useEffect)(()=>{u(i)},[i,u])}function Jt(e){let{signInfo:t,estimatedFee:o,option:i}=e,{useUtxoListFn:s,useUtxoCheckBeforePublishFn:a}=_.hooks,{walletContractStore:m,accountStore:u,fromToStore:l}=c(),{setPreDataForSendBtc:p,nativeCoin:f,transactionPayload:T}=m,{from:v,value:x}=T||{},{decimals:I}=l.from,b=se(x,I),E=s({coinId:f?.coinId,walletId:u.computedAccountId,address:v}),h=a({address:v,coinId:f?.coinId}),{satBytes:F}=i;(0,me.useEffect)(()=>{p({satBytes:F,coinAmount:b,dustSize:t?.minOutput,serviceCharge:o,checkUtxoBeforePublish:P=>h(P,()=>{}),fetchUtxoList:()=>E(b,o)})},[p,F,t?.minOutput,E,h,b,o]),(0,me.useEffect)(()=>()=>{p(null)},[p])}function eo(e){Kt(e),Jt(e)}var vt=eo;function to(){let{UtxoNetworkFeePanel:e,NetworkFeeEnter:t,SectionWrap:o}=_.components,[i,s]=(0,Y.useState)(!1),{walletContractStore:a,commonStore:m}=c(),u=Tt();vt(u);let{loading:l,signInfo:p,estimatedFee:f,option:T,setOption:v,error:x}=u,{nativeCoin:I}=a,{chainName:b,symbol:E,coinId:h}=I||{},F=m.nowCurrencyUnit;return Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(o,null,Y.default.createElement(t,{title:Y.default.createElement(K,{chainName:b,coinSymbol:E}),coinId:h,loading:l,networkFee:f,estimateFailed:x,onClick:()=>{s(!0)}})),Y.default.createElement(e,{visible:i,coinId:h,currencyId:F.currencyId,signInfo:p,value:T,estimatedFee:f,onChange:v,onToggleVisible:()=>{s(!1)}}))}var ht=k(to);function oo(){let{walletContractStore:e}=c(),{nativeCoin:t}=e;return we(t?.chainId)?kt.default.createElement(ht,null):null}var It=k(oo);r();n();var xe=d(w());r();n();var Ct=d(w());var ro=e=>{let{useFeeDisplay:t}=_.hooks,{walletContractStore:o}=c(),{transactionPayload:i}=o,{coinAmount:s,coinSymbol:a,estimatedGasFeeInt:m,maxGasFeeInt:u,decimals:l,loading:p}=t(e,{calldata:i}),{maxGasFee:f,estimatedGasFee:T}=J({maxGasFeeInt:u,estimatedGasFeeInt:m,decimals:l});return ee(f),(0,Ct.useEffect)(()=>{o.setGasFeeLoading(p)},[p,o]),{maxGasFee:f,estimatedGasFee:T,coinAmount:s,coinSymbol:a,feeLoading:p}},xt=ro;var no=({chainId:e})=>{let{NetworkFeeEnter:t,SectionWrap:o}=_.components,{estimatedGasFee:i,feeLoading:s,coinSymbol:a}=xt(e),{walletContractStore:m}=c(),{nativeCoin:u}=m;return xe.default.createElement(o,null,xe.default.createElement(t,{title:xe.default.createElement(K,{chainName:u?.chainName,coinSymbol:a}),coinId:u?.coinId,loading:s,networkFee:i,useMinPrecision:!1}))},Et=k(no);r();n();var M=d(w());He();r();n();var Le=d(w());r();n();r();n();var te={SLOW:"SLOW",MODERATE:"MODERATE",FAST:"FAST",CUSTOM:"CUSTOM"},yt={[te.SLOW]:"slow",[te.MODERATE]:"standard",[te.FAST]:"fast",[te.CUSTOM]:"custom"};var so=()=>({initialGasType:yt[te.MODERATE]}),bt=so;var io=(e,t)=>{let{useFeeDisplay:o}=_.hooks,{walletContractStore:i}=c(),s=bt(),a=o(t,{gasInfo:e,calldata:i.transactionPayload}),{coinAmount:m,coinSymbol:u,estimatedGasFeeInt:l,maxGasFeeInt:p,decimals:f,loading:T,error:v}=a,{maxGasFee:x,estimatedGasFee:I}=J({maxGasFeeInt:p,estimatedGasFeeInt:l,decimals:f});return ee(x),(0,Le.useEffect)(()=>{i.setGasFeeLoading(T)},[T,i]),(0,Le.useEffect)(()=>{i.setGasLimitError(v)},[v,i]),{txInitGasInfo:s,coinAmount:m,coinSymbol:u,maxGasFee:x,estimatedGasFee:I,gasType:e.gasType,feeLoading:a.loading,error:v}},Ft=io;r();n();var Nt=e=>U.div(e,10**18).toString();var ao=({chainId:e})=>{let{EthereumNetworkFee:t,NetworkFeeEnter:o,SectionWrap:i}=_.components,{useGasReturnActivity:s}=_.hooks,[a,m]=(0,M.useState)(!1),{walletContractStore:u,accountStore:l,mevStore:p}=c(),{gasInfo:f,transactionPayload:T,setGasInfo:v,nativeCoin:x,setActivityId:I}=u,{computedIsMevOpen:b,mevInfo:E}=p,{to:h,from:F,data:P,value:L}=T||{},{coinId:A,chainName:N}=x||{},{txInitGasInfo:O,coinSymbol:H,gasType:$,estimatedGasFee:le,maxGasFee:ue,feeLoading:pe,error:fe}=Ft(f,e),V=s({coinId:A,fromAddress:ye(F),toAddress:ye(h),unavailable:f.gasType==="custom",disabled:!h||!F||!A,gasInfo:f,txType:2,fee:Nt(f.networkFee||0)}),de=()=>{m(!1)};return(0,M.useEffect)(()=>{I(V?.activityId)},[V,I]),M.default.createElement(M.default.Fragment,null,M.default.createElement(i,null,M.default.createElement(o,{level:$,title:M.default.createElement(K,{chainName:N,coinSymbol:H}),coinId:A,loading:pe,networkFee:le,maxNetworkFee:ue,gasReturn:V,estimateFailed:fe,onClick:()=>{Ke({wallet_address:l.address,button_name:"network_fee"}),m(!0)},useMinPrecision:!1})),A&&M.default.createElement(t,{visible:a,coinId:A,address:F,inputData:P,tokenAddress:h,value:L,onBack:de,onClose:_.goHome,onGasChange:v,initialGasData:O,gasReturn:V,isMev:b,mevInfo:E}))},At=k(ao);var mo=({type:e})=>{let{fromToStore:t,walletContractStore:o}=c(),{isEvmChain:i}=t,{fromToken:s}=Z(e);return dt(s.chainId),o.computedIsIntentSwap?null:we(s.chainId)?s.isNativeToken?Ee.default.createElement(It,null):null:i(s.chainId)?Ee.default.createElement(At,{chainId:s.chainId}):Ee.default.createElement(Et,{chainId:s.chainId})},Dt=k(mo);r();n();var ce=d(w());r();n();var Lt=d(w()),Gt=d(z());r();n();var Pt={"drawer-mask":"_drawer-mask_jl4xy_1",drawerMask:"_drawer-mask_jl4xy_1","box-padding":"_box-padding_jl4xy_4",boxPadding:"_box-padding_jl4xy_4"};var co=({visible:e,children:t})=>{let{Layout:o}=_.components;return e?Lt.default.createElement(o.Portal,{className:(0,Gt.default)(Pt.drawerMask)},t):null},Mt=co;r();n();var Wt={drawer:"_drawer_kg0sg_1"};var lo=()=>{let{hooks:{useRegisterStatus:e},components:{StarknetRegister:t}}=_,{walletContractStore:o}=c(),{registerStatus:i}=e();return(0,ce.useEffect)(()=>{o.setStarknetRegisterStatus(i)},[i,o]),ce.default.createElement(Mt,{className:Wt.drawer,visible:o.visibleStarknetRegister},ce.default.createElement(t,{onBack:()=>{o.setVisibleStarknetRegister(!1)},registerStatus:i}))},Bt=k(lo);r();n();var Me=d(w());var Ge=e=>{let{useCoin:t}=_.hooks;return t(e?.chainId,e.isNativeToken?"":e.tokenContractAddress)},uo=()=>{let{fromToStore:e,gasDropStore:t}=c(),{to:o}=e,i=Ge({chainId:o.chainId}),{computedGasDropSelected:s,gasDropConfig:a}=t||{},{gasDrop:m}=a||{};return(0,Me.useMemo)(()=>s?{coinId:i?.coinId,coinAmount:m,useMinPrecision:!1,useChainCorner:o.chainLogoUrl,displayEstimate:!1,desc:S("swaptrade_transfer_text_for_gas")}:null,[s,m,o,i])};function We(e){let{fromToken:t,toToken:o}=Z(e),i=uo(),s=Ge(t),a=Ge(o);return(0,Me.useMemo)(()=>({fromList:[{coinId:s?.coinId,coinAmount:t.amount,useMinPrecision:!1,useChainCorner:t.chainLogoUrl}],toList:[{coinId:a?.coinId,coinAmount:o.amount,useMinPrecision:!1,useChainCorner:o.chainLogoUrl},i].filter(Boolean)}),[s,t,o,a,i])}r();n();var oe={container:"_container_wvaui_1",loading:"_loading_wvaui_5",wrap:"_wrap_wvaui_10",scroll:"_scroll_wvaui_13"};r();n();var Ot=d(w());function Be(e=!0){let{walletContractStore:t}=c(),{startCountdown:o,clearTimer:i,initCountDown:s}=t;(0,Ot.useEffect)(()=>(e&&o(),()=>{i(),s()}),[i,s,o,e])}var po=()=>{let{fromToStore:e,walletContractStore:t}=c(),{computedIsStarknetChain:o}=e,{loading:i,reset:s}=t,[a,m]=(0,y.useState)(80),{needUpdate:u,type:l}=lt(),{fromList:p,toList:f}=We(l),{search:T}=(0,Ut.useLocation)(),{type:v}=Se(T),x=v!==Q.INTENT_SWAP;return(0,y.useEffect)(()=>{t.setSwapType(l)},[l]),(0,y.useEffect)(()=>{Je()},[]),Be(u),(0,y.useEffect)(()=>s,[s]),i?y.default.createElement("div",{className:(0,Oe.default)(oe.container,oe.loading)},y.default.createElement(be,{size:be.SIZE.lg})):y.default.createElement("div",{className:oe.container},y.default.createElement("div",{style:{height:`calc(100% - ${a}px)`},className:(0,Oe.default)(oe.wrap)},y.default.createElement("div",{className:oe.scroll,id:"wallet_scroll"},x?y.default.createElement(rt,null):null,y.default.createElement(nt,{fromList:p,toList:f}),y.default.createElement(Dt,{type:l}),y.default.createElement(pt,{type:l}))),y.default.createElement(gt,{onChangeHeight:m,type:l}),o&&y.default.createElement(Bt,null))},Ki=k(po);export{Ki as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Contract-4XNXX5H4.js.map
