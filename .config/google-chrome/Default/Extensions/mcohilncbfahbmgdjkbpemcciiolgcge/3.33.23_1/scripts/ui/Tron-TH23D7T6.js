import{a as nt}from"./chunk-H3WNV4JD.js";import{b as st}from"./chunk-LL3AYUCA.js";import"./chunk-ZCIPA4CD.js";import{a as rt}from"./chunk-V2C2H4YP.js";import"./chunk-F4T6Q6QK.js";import"./chunk-ZRAG5WLF.js";import"./chunk-3BOIX6DD.js";import"./chunk-4IDSMRQU.js";import{a as at}from"./chunk-65VFWMII.js";import"./chunk-ID2G3YUZ.js";import"./chunk-7KXE5PFN.js";import{a as d}from"./chunk-F7YYSTTZ.js";import{a as it}from"./chunk-SYQTAGUC.js";import"./chunk-X6LGMUFV.js";import"./chunk-6M2GCKDH.js";import"./chunk-EU22H7NN.js";import"./chunk-KTRYKYE5.js";import{a as I}from"./chunk-V2A2AEVZ.js";import{b as tt}from"./chunk-KU3DITYD.js";import"./chunk-7CWLH6ZR.js";import"./chunk-UUX3UNZW.js";import"./chunk-QCTV4R7X.js";import{c as L,d as w,e as et,g as M}from"./chunk-SIIB3XCZ.js";import"./chunk-GUGRL7WK.js";import"./chunk-6ZHQ2QLX.js";import"./chunk-S4NIXE4H.js";import{q as A}from"./chunk-UTVBVZWC.js";import"./chunk-GL4YYTXQ.js";import"./chunk-4MDR2IS2.js";import"./chunk-GZN3TPOZ.js";import"./chunk-ZN3567SM.js";import"./chunk-SJCGLHGC.js";import{d as Z}from"./chunk-GQYTOJVD.js";import"./chunk-7HZMPY3W.js";import"./chunk-QTEBOXIQ.js";import{a as h}from"./chunk-K4WB5MMU.js";import{a as ot}from"./chunk-FSQDFL3V.js";import"./chunk-YLJ56YQC.js";import"./chunk-YVC4CAU2.js";import"./chunk-K4MSA5MN.js";import"./chunk-4HBLPFAF.js";import"./chunk-TJW4EUGS.js";import"./chunk-SJRV5U24.js";import"./chunk-PUMQ7BEU.js";import"./chunk-4OKCKO5L.js";import"./chunk-SKK4O3IC.js";import"./chunk-L4BR2EHM.js";import"./chunk-AQH6QKNE.js";import"./chunk-6IVHTBSR.js";import"./chunk-75OW6LUI.js";import"./chunk-W4IULSMQ.js";import"./chunk-UXRYSOKP.js";import"./chunk-ABSI53HE.js";import"./chunk-JJIQEHOY.js";import"./chunk-HJM7ZNQ6.js";import"./chunk-ZOXV6Z7M.js";import"./chunk-L44D6USJ.js";import"./chunk-AE7B6XHD.js";import{b as J}from"./chunk-HC6T2TFK.js";import"./chunk-JMTMYFWR.js";import"./chunk-RE5SSELD.js";import{h as P,i as R}from"./chunk-A3B5II6P.js";import"./chunk-XVPROSYE.js";import"./chunk-E2MXYP3A.js";import"./chunk-FPV6XIHQ.js";import"./chunk-MZXFJMVC.js";import"./chunk-46PSZUMN.js";import"./chunk-MYY7DCIN.js";import"./chunk-AHIMORZ4.js";import"./chunk-XZ6AHFH2.js";import"./chunk-3DEZPDXQ.js";import"./chunk-6UFIPREK.js";import"./chunk-G4OIO3Z6.js";import"./chunk-JEIYTQ5E.js";import"./chunk-TOO5SEJU.js";import"./chunk-DUWPYFAS.js";import"./chunk-CA4PB6NG.js";import"./chunk-SCXRHDUG.js";import"./chunk-5STCPPZU.js";import"./chunk-ZVXDJZSD.js";import"./chunk-56SDY6L3.js";import"./chunk-PXWV5LKL.js";import"./chunk-M5PVKGM6.js";import"./chunk-AK34CZMZ.js";import"./chunk-QHZHYX4V.js";import"./chunk-FLFVNMKM.js";import{e as S}from"./chunk-YJ2NGJXA.js";import"./chunk-DQ2UEFEE.js";import{a as Q}from"./chunk-ZUBNNPBM.js";import"./chunk-2SHHGXPQ.js";import"./chunk-UK4SAM7E.js";import{a as K}from"./chunk-LXIBKSOK.js";import"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import"./chunk-DUKP4BLI.js";import"./chunk-S3O4LR55.js";import"./chunk-FZCNSMLW.js";import"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import"./chunk-KCWFMCND.js";import{V as z,w as Tt}from"./chunk-3TDWET6C.js";import{H as l,ba as $}from"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import"./chunk-VPGNJAK6.js";import{Na as D,Ra as kt}from"./chunk-W6Q44ZHW.js";import"./chunk-3HS6AHPS.js";import"./chunk-JUXPONKW.js";import{e as q,f as v,h as V}from"./chunk-WSUAESF2.js";import"./chunk-O2FUKKO3.js";import"./chunk-GQJVAWGG.js";import"./chunk-WO5B666G.js";import"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import{c as j}from"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import{Ba as O,Lb as U,Sc as H,Uc as At,Vc as X,Wc as Ct,Ya as _t,dc as gt}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import{b as x}from"./chunk-J3CEQI22.js";import{j as y,pa as W}from"./chunk-VFHYER2K.js";import{L as G,w as m}from"./chunk-KJIO572I.js";import"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import{ca as Y}from"./chunk-KALFZBR5.js";import"./chunk-V55FEIYE.js";import{a as T}from"./chunk-EAZTJZU7.js";import"./chunk-6A5OK46Z.js";import"./chunk-YTRW5WTJ.js";import"./chunk-3AN5FAZD.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-WPMHLM7C.js";import"./chunk-3MRE2BAK.js";import"./chunk-CSLLQXN7.js";import"./chunk-P7DU4NJA.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as g,m as a,o as n}from"./chunk-ZCHLW7CF.js";a();n();var B=g(T());a();n();var E=g(T());_t();a();n();var C=g(T());At();Ct();var yt=({message:o,chainId:t,method:i,originUrl:e})=>{let[c,p]=(0,C.useState)(!0),[_,f]=(0,C.useState)({});return(0,C.useEffect)(()=>{(async()=>{if(t){try{let{data:s}=await H(X.signMessageDataCheck,{data:"",source:2,chainId:t,raw:o,method:i,originUrl:e});f(s)}catch(s){console.log(s)}p(!1)}})()},[t]),{loading:c,signMessageCheckRet:_}},mt=yt;a();n();var r=g(T());G();gt();var St=o=>{let{signMessageCheckRet:t,walletAccount:i,buttonGroup:e,tipMessage:c,message:p,baseCoin:_}=o,{value:f=0}=t.addtion||{},s=U(f,z)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):f,u=I(i.walletId);return r.default.createElement(j.Container,null,r.default.createElement(Q,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),r.default.createElement(w,null,r.default.createElement(L,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:t.tokenIcon||q},title:`${s} ${t.tokenSymbol||""}`,desc:t.tokenAddress}]}),r.default.createElement(L,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.contractIcon||v},title:t.contractName||V,desc:t.contractAddress||""}]})),r.default.createElement(w,null,r.default.createElement(et,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{u({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),r.default.createElement(w,{bordered:!1},r.default.createElement(nt,{coinId:_?.coinId}),r.default.createElement(rt,{data:p,copyable:{hideDesc:!0}})),r.default.createElement(K,{placeholder:!0,offsetBottom:0,borderTop:!0},r.default.createElement(M,{...c}),r.default.createElement(A,{buttonGroup:e})))},ct=St;a();n();W();var pt=g(T()),lt=g(Tt());G();kt();var wt=({unapproved:o,walletAccount:t,signMessageCheckRet:i})=>{let e=(0,lt.useDispatch)(),c=I(t?.walletId),p=(0,pt.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:o.origin,network:o.localType}),await e(P(o.id)),await D(e)},[c,e,o.id,o.origin,o.localType]),_={btnText:m("wallet_dapp_connection_btn_reject"),actionType:A.ACTION_TYPE.CANCEL,onClick:p},f=S(t.initialType),s=async()=>{try{if(!await ot({walletId:o.walletId,callback:async()=>{await e(P(o.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:o.origin,network:o.localType}),await e(R(o.id)),await D(e)}catch(b){console.log(b)}},u={disabled:f,actionType:A.ACTION_TYPE.CONFIRM,onClick:s},N=tt(),F=y(i,"risk_black_list.0");return(i.risk===d.high||F)&&(u.type=Y.TYPE.red,u.onClick=async()=>{try{await N({isDefraud:!0,address:F,similarType:$.EXACT}),await s()}catch{await p()}}),[_,u]},ft=wt;a();n();W();G();var Mt=({unapproved:o,signMessageCheckRet:t})=>{let i=h(o);if(S(i.initialType))return{type:x.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(t?.risk===d.middle)return{type:x.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:t.contractName,asset:t.tokenSymbol})};if(t?.risk===d.high){let e=y(t,"risk_black_list.0");if(e)return{type:M.TIP_TYPE.DEFRAUD,address:e}}return null},ut=Mt;var It=o=>{let{unapproved:t}=o,i=t?.params?.message||"",e=it(t),c=h(t),p=Z(O)||{},{chainId:_}=p||{},{loading:f,signMessageCheckRet:s}=mt({message:i,chainId:_,originUrl:e.host,method:l.SIGN_MESSAGE}),u=ut({unapproved:t,signMessageCheckRet:s}),N=ft({unapproved:t,walletAccount:c,signMessageCheckRet:s});return f?E.default.createElement(J,null):[d.middle,d.high].includes(s?.risk)?E.default.createElement(ct,{signMessageCheckRet:s,walletAccount:c,baseCoin:p,message:i,tipMessage:u,buttonGroup:N}):E.default.createElement(at,{needCheckMpc:!0,message:i,unapproved:t,tipMessage:u})},dt=It;var Uo=({unapproved:o})=>{switch(o.method){case l.SIGN_TRANSACTION:case l.RPC_SIGN_TRANSACTION:case l.SIGN_AND_SEND_TRANSACTION:return B.default.createElement(st,{unapproved:o});case l.SIGN_MESSAGE:case l.RPC_SIGN_MESSAGE:case l.SIGN_MESSAGE_V2:return B.default.createElement(dt,{unapproved:o});default:return""}};export{Uo as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Tron-TH23D7T6.js.map
