import{e as b}from"./chunk-GL4YYTXQ.js";import{h as R}from"./chunk-56SDY6L3.js";import{a as q}from"./chunk-PXWV5LKL.js";import{m as F}from"./chunk-FZCNSMLW.js";import{o as G}from"./chunk-KCWFMCND.js";import{ga as x,r as y,w as V}from"./chunk-3TDWET6C.js";import{q as N}from"./chunk-EBR3PGFZ.js";import{d as A,f as W}from"./chunk-3HS6AHPS.js";import{Sc as I,Uc as j,Vc as O,Wc as z,X as h,Ya as v}from"./chunk-O3CM75EN.js";import{L as P,l as g}from"./chunk-KJIO572I.js";import{a as H}from"./chunk-EAZTJZU7.js";import{f as T,m as k,o as M}from"./chunk-ZCHLW7CF.js";k();M();var i=T(H()),C=T(V()),w=T(G());P();W();v();z();j();function J(t={},e,m=!1){let s=(0,C.useSelector)(x),u=R(h)[e],a=q(h),c=e?u:a;return async()=>{let o=await A().getRequestHeaders({walletId:s,needSign:!0,currency:"usd"}),n={coinId:t?.coinId,utxoRequests:[{address:c,utxoType:12}]};try{let{data:r=[]}=await I(O.getBTCUTXO,n,{headers:o});return m?r?.map(p=>({...p,utxoList:p?.utxoList?.filter(d=>d.utxoStatusType===2)})):r}catch{return[]}}}function it(t={},e,m=!1){let s=J(t,e,m),{coinAmountInt:l=0}=b(t?.coinId,e),[u,{setTrue:a,setFalse:c}]=(0,w.useBoolean)(!1),[o,{setTrue:n}]=(0,w.useBoolean)(!1),[r,p]=(0,i.useState)(""),{coinId:d,decimals:U}=t||{};return(0,i.useEffect)(()=>{y(t)?s().then((X=[])=>{X.some((f={})=>f.utxoList?.length>0)?a():c();let B=X?.reduce((f,D)=>{let E=D?.utxoList?.reduce((S,L)=>L?.utxoStatusType===2?g.add(S,L?.coinAmount):S,0);return g.add(f,E)},0);if(B){let f=F(B,{decimals:U});p(f)}n()}).catch(()=>{n(),c()}):(n(),c())},[d,U,l,n,a]),{showManageUTXO:u,NFTAmountDisplay:r,isCheckFinished:o}}function at(t,e){let[m,s]=(0,i.useState)(0),[l,u]=(0,i.useState)([]),a=(0,C.useSelector)(x),c=async()=>{let o=await A().getRequestHeaders({walletId:a,needSign:!0,currency:"usd"}),n={coinId:e.coinId,utxoRequests:[{address:t,utxoType:N.Occupy}]};try{let{data:r}=await I(O.getBTCUTXO,n,{headers:o});return r[0]||null}catch{return null}};return(0,i.useEffect)(()=>{y(e)?c().then(o=>{s(o?.lockAmount||0),u(o?.utxoList||[])}).catch(()=>{s(0),u([])}):(s(0),u([]))},[t,e]),{lockedAmount:m,UTXOList:l}}export{it as a,at as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-KXIOITHX.js.map
