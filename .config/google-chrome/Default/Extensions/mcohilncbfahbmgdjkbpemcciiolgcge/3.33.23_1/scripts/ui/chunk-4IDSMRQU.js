import{b as xe}from"./chunk-F7YYSTTZ.js";import{c as _e,d as ye}from"./chunk-6M2GCKDH.js";import{d as Te,e as $}from"./chunk-EU22H7NN.js";import{a as ue,b as ce,c as D,d as fe}from"./chunk-7CWLH6ZR.js";import{a as de,c as x,d as g}from"./chunk-SIIB3XCZ.js";import{d as me}from"./chunk-XVPROSYE.js";import{b as pe}from"./chunk-M5PVKGM6.js";import{l as ne,m as j,q as i}from"./chunk-FZCNSMLW.js";import{o as be}from"./chunk-KCWFMCND.js";import{W as le}from"./chunk-3TDWET6C.js";import{b as k}from"./chunk-EBR3PGFZ.js";import{a as z}from"./chunk-JUXPONKW.js";import{e as U,f as ae,g as B,h as S}from"./chunk-WSUAESF2.js";import{a as ve}from"./chunk-O2FUKKO3.js";import{c as T}from"./chunk-FDCWN4NG.js";import{Ba as Z,Eb as X,Fb as R,Ob as ee,Ya as Ie,dc as re}from"./chunk-O3CM75EN.js";import{c as se,o as ie}from"./chunk-J3CEQI22.js";import{L as O,w as n}from"./chunk-KJIO572I.js";import{T as oe,c as te}from"./chunk-KALFZBR5.js";import{a as M}from"./chunk-EAZTJZU7.js";import{f as c,m as o,o as s}from"./chunk-ZCHLW7CF.js";o();s();var L=c(M());Ie();var Y={eoa:"eoa",contract:"contract"},Ue="eth_sign",De="suspicion_withdraw_address",We="lower_value",Fe=({connectRet:e={},kysRet:r={},coinId:t="",handleCancel:p})=>{let{getEoaModalParams:_,getEthSignModalParams:A,getLowerValueModalParams:C,getTronPermissionsModalParams:N,getSolPermissionsModalParams:u,getBlackAddressWarnModalParams:E,getStrongBlackAddressModalParams:h,getSuspicionWithdrawAddressModalParams:I,getNotSameParamsModalParams:we,getRiskRejectParamsModalParams:Me,getRiskAlertParamsModalParams:Se,getMaliciousTokenModalParams:ke,getConnectRiskModalParams:Le}=ue(),{permissionMsg:G,approveList:Pe,causeRiskItem:d=[],blackAddress:v}=r||{},{whetherShowRisk:q,origin:J}=e,[b={}]=Pe||[],w=(0,L.useRef)(),l=Q=>{w.current||(w.current=ie.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:L.default.createElement(ce,{modalParams:Q,handleCancel:async()=>{await p(),w.current.destroy(),w.current=null},closeModal:()=>{w.current.destroy(),w.current=null}})}))},Ce=()=>v?.tagExt?(l(h(v.address)),!1):d.includes("not_same_params")?(l(we()),!1):d.includes(Ue)?(l(A()),!1):G&&t!==Z?(l(u()),!1):d.includes("purchase_malicious_token")?(l(ke()),!1):!0;(0,L.useEffect)(()=>{if(!!Ce()){if(d.includes("basic_risk_reject")){l(Me());return}if($(b.approvalType)&&b.addressType===Y.eoa){l(_(b.address));return}if(v?.msg){l(E(v.msg));return}if(d.includes(We)){l(C());return}if(d.includes(De)){l(I());return}if(G&&t===Z){l(N());return}d.includes("basic_risk_alert")&&l(Se()),q&&l(Le(J))}},[t,G,v?.msg,d?.length,b.addressType,b.approvalType,q,J])},Re=Fe;o();s();var a=c(M()),ge=c(be()),H=c(te()),Ae=c(ve());O();re();o();s();var f={root:"_root_pbsli_1",tokenImg:"_tokenImg_pbsli_5",coinDetail:"_coinDetail_pbsli_12",title:"_title_pbsli_16",in:"_in_pbsli_20",arrow:"_arrow_pbsli_23",fold:"_fold_pbsli_35"};var Ve=e=>e.nftName?e.nftName:e.tokenId?n("wallet_extension_network_text_unknown_tokenid",{tokenId:e.tokenId}):S,Oe=e=>{let r=e.asset||{},t="";if(r.assetType===D.NFT)t=`${e.tokenNum?`${e.tokenNum} `:""}${Ve(e)}`;else{let p=(0,Ae.isHexString)(e.rawValue)?z(e.rawValue):e.rawValue;t=j(p,{symbol:r.symbol,decimals:r.decimals})}return`${e.operator}${t}`},Be=e=>{let r=e.asset||{},t;return r.assetType===D.NFT?t=e.nftImageUrl||B:t=r.imageUrl||U,t},je=({data:e,maxTitle:r})=>{let t=pe(),p=(0,a.useMemo)(()=>{let _=e.asset||{};return[D.NATIVE,D.TOKEN].includes(_.assetType)?e.usdValue?ne(X(e.usdValue,t.usdToThisRate),{symbol:t.symbol}):n("wallet_extension_text_barmark"):null},[e?.asset,e?.usdValue,t]);return a.default.createElement(T.Box,{className:f.root},a.default.createElement(se,{src:Be(e||{}),className:f.tokenImg,errorImg:U}),a.default.createElement(T.FlexBox,{direction:T.DIRECTION.vertical,className:f.coinDetail},a.default.createElement(i.AdaptiveText,{text:r,autoSize:xe,ellipsis:{tooltip:!0},className:(0,H.default)(f.title,{[f.in]:e.operator===fe.add})},e.title),p?a.default.createElement(i.Text,{size:i.SIZE.sm,type:i.TYPE.secondary,forceWrap:!0},p):null))},ze=({assetChange:e=[],dappInfo:r,showDappInfo:t=!0,noFold:p})=>{let _=p?!1:e?.length>4,[A,{toggle:C}]=(0,ge.useBoolean)(_),N=A?e.slice(0,4):e,u="",E=N.map(h=>{let I=Oe(h||{});return u=I.length>u.length?I:u,{...h,title:I}});return a.default.createElement(g,null,a.default.createElement(de,{className:f.root,title:n("wallet_extension_modaltitle_asset_change"),tooltip:n("wallet_extension_modaldesc_asset_change")},a.default.createElement(me,{space:8,dataSource:E,renderItem:h=>a.default.createElement(je,{data:h||{},maxTitle:u})}),_&&a.default.createElement(T.Box,{align:T.ALIGN.center,className:(0,H.default)(f.arrow,{[f.fold]:A}),onClick:C},a.default.createElement(oe,{className:"okx-wallet-plugin-add-arrow-chevrons"}))),t&&a.default.createElement(ye,{...r}))},Mr=ze;o();s();var F=c(M());O();o();s();var Ee=c(M());o();s();var Ne={root:"_root_1wfix_1"};var $e=({text:e,type:r=i.TYPE.secondary})=>{let t=_e();return Ee.default.createElement(i.Text,{forceWrap:!0,size:i.SIZE.xs,type:r,className:Ne.root,onClick:()=>{t(e)}},e)},P=$e;o();s();var K=c(M());O();var Ge=({approveInfo:e})=>{let r=e?.addressType===Y.eoa&&$(e?.approvalType)?i.TYPE.danger:i.TYPE.secondary;return K.default.createElement(x,{title:n("wallet_extension_popup_text_project"),summaryList:[{icon:{src:e.imageUrl||ae},title:e.name||S,desc:K.default.createElement(P,{text:e.address,type:r})}]})},W=Ge;var Ze=({approveInfo:e})=>F.default.createElement(g,null,F.default.createElement(x,{title:n(Te(e.approvalType)?"extension_approve_maintitle_approve":"extension_revoke_approval_maintitle_revoke_approval"),summaryList:[{icon:{src:e.asset?.imageUrl||B},title:e.asset?.name||S,desc:F.default.createElement(P,{text:e.asset?.address})}]}),F.default.createElement(W,{approveInfo:e})),st=Ze;o();s();var m=c(M()),he=c(te());O();re();o();s();var V={approve:"_approve_ojrap_1",title:"_title_ojrap_1",titleContent:"_titleContent_ojrap_6",warning:"_warning_ojrap_10"};var Ye=e=>{typeof e!="string"&&(e=e.toString());let r=e?.length;return r<=15?30:r<=16?28:r<=17?26:r<=18?24:r<=20?22:r<=21?20:r<=23?18:r<=25?16:r<=29?14:12},He=({approveInfo:e,editBtnSlot:r=null,authAmount:t})=>{let{symbol:p,decimals:_,imageUrl:A=U}=e?.asset||{},{approvalRaw:C}=e||{},N=t||R(z(C),ee.pow(10,_));if([k.AUTHORIZATION,k.INCREASE_ALLOWANCE,k.COMMON_APPROVE].includes(e.approvalType)){let u=le(N),E=`${u?n("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):j(N)} ${p}`;return m.default.createElement(g,{className:V.approve},m.default.createElement(x,{title:n(e.approvalType===k.INCREASE_ALLOWANCE?"wallet_extension_approve_text_increase_approval_amount":"extension_approve_maintitle_approve"),summaryList:[{title:m.default.createElement(T.Box,{className:V.title},m.default.createElement(i.AdaptiveText,{text:E,className:(0,he.default)(V.titleContent,{[V.warning]:u}),autoSize:Ye,ellipsis:{tooltip:!0}},E),r),desc:!!u&&m.default.createElement(i.Text,{size:i.SIZE.xs,type:i.TYPE.warnig},n("wallet_extension_transfer_text_unlimited_approval_risk")),icon:{src:A},descSize:i.SIZE.xs}]}),m.default.createElement(W,{approveInfo:e}))}return m.default.createElement(g,null,m.default.createElement(x,{title:n(e.approvalType===k.CANCEL_AUTHORIZATION?"extension_revoke_approval_maintitle_revoke_approval":"wallet_extension_approve_text_reduce_approval_amount"),summaryList:[{desc:m.default.createElement(P,{text:e.asset?.address}),title:e.asset?.symbol,icon:{src:e.asset?.imageUrl}}]}),m.default.createElement(W,{approveInfo:e}))},Lt=He;export{Re as a,Mr as b,st as c,Lt as d};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-4IDSMRQU.js.map
