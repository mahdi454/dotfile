import{a as St}from"./chunk-4MDR2IS2.js";import{g as Ct}from"./chunk-GZN3TPOZ.js";import{d as Et}from"./chunk-GQYTOJVD.js";import{a as At}from"./chunk-QTEBOXIQ.js";import{c as Co}from"./chunk-YLJ56YQC.js";import{a as Nt,b as xt}from"./chunk-SJRV5U24.js";import{Gc as Ge,Ic as ye,Jc as pt}from"./chunk-PUMQ7BEU.js";import{c as ho}from"./chunk-75OW6LUI.js";import{a as lt}from"./chunk-W4IULSMQ.js";import{f as Ze,t as so,v as io}from"./chunk-UXRYSOKP.js";import{g as ht,h as It}from"./chunk-A3B5II6P.js";import{d as ne}from"./chunk-XVPROSYE.js";import{Q as gt,R as Tt,S as yt,T as co,a as ut,d as dt,m as Io,s as ft}from"./chunk-FPV6XIHQ.js";import{a as _t}from"./chunk-3DEZPDXQ.js";import{h as mt,i as ct}from"./chunk-QHZHYX4V.js";import{a as mo}from"./chunk-ZUBNNPBM.js";import{a as lo}from"./chunk-LXIBKSOK.js";import{b as Fe,c as De}from"./chunk-C53RLQYB.js";import{Ya as We}from"./chunk-DUKP4BLI.js";import{b as F}from"./chunk-S3O4LR55.js";import{f as Ao,q as c}from"./chunk-FZCNSMLW.js";import{o as ao}from"./chunk-KCWFMCND.js";import{ga as at,ra as st,sa as it,w as no}from"./chunk-3TDWET6C.js";import{E as Q,ja as z,k as rt,ka as Ve,la as re,m as nt}from"./chunk-EBR3PGFZ.js";import{a as Jo}from"./chunk-VPGNJAK6.js";import{d as Le,f as et}from"./chunk-3HS6AHPS.js";import{a as Ke,b as Pe}from"./chunk-JUXPONKW.js";import{e as Oe}from"./chunk-WSUAESF2.js";import{c as g}from"./chunk-FDCWN4NG.js";import{$a as Ko,Eb as He,Fb as xo,Hb as $o,Kb as qo,Sc as ot,Uc as Cr,V as Wo,Vc as tt,Wc as wr,Ya as hr,Zb as Eo,dc as jo,hc as be,mc as Ir,nb as No,w as we,wb as Zo,y as Ar}from"./chunk-O3CM75EN.js";import{E as ve,G as ke,b as le,o as me,q as Qo,y as So}from"./chunk-J3CEQI22.js";import{M as Yo,pa as Vo,r as Ho}from"./chunk-VFHYER2K.js";import{L as V,l as U,w as t}from"./chunk-KJIO572I.js";import{b as Sr}from"./chunk-HJXNXGYU.js";import{T as Xo,Z as Ye,c as xe,ca as C}from"./chunk-KALFZBR5.js";import{a as L}from"./chunk-EAZTJZU7.js";import{f as y,m as n,o as a}from"./chunk-ZCHLW7CF.js";n();a();var A=y(L()),ir=y(no()),lr=y(xe());V();n();a();var v=y(L()),or=y(Jo()),tr=y(ao());V();n();a();var _o=y(L());n();a();var ae=y(L()),kt=y(no()),Ot=y(xe());V();n();a();var wt=y(ao()),$e=y(L()),bt=y(no());function vt({chainId:o,walletId:e}){let[r,i]=(0,$e.useState)(!1),[s,l]=(0,$e.useState)([]),m=(0,bt.useSelector)(at);e=e||m;let _=(0,wt.useMemoizedFn)(async()=>{i(!0),l([]);try{let u=await Tt({chainId:o,walletId:e}),{data:N=[]}=u;l(N)}catch{l([])}finally{i(!1)}});return(0,$e.useEffect)(()=>{o&&_()},[_,o]),{loading:r,coinList:s}}n();a();var ee={container:"_container_1vjlb_1",scrollable:"_scrollable_1vjlb_7",wrapContainer:"_wrapContainer_1vjlb_12",icon:"_icon_1vjlb_20",tokenLogo:"_tokenLogo_1vjlb_23",tokenLogoLarger:"_tokenLogoLarger_1vjlb_30",chainLogo:"_chainLogo_1vjlb_37",tab:"_tab_1vjlb_52",list:"_list_1vjlb_55",chainSmall:"_chainSmall_1vjlb_58",chainLarge:"_chainLarge_1vjlb_62"};var br=({iconUrl:o,chainUrl:e})=>ae.default.createElement(g.Box,{className:(0,Ot.default)(ee.icon,e?ee.chainSmall:ee.chainLarge)},ae.default.createElement(ve,{className:e?ee.tokenLogo:ee.tokenLogoLarger,alt:"coin-icon",errorImg:Oe,src:o}),!!e&&ae.default.createElement(ve,{className:ee.chainLogo,alt:"coin-icon",errorImg:Oe,src:e,width:16,height:16}));function wo({onSelect:o,onBack:e,chainId:r,walletId:i,chainName:s}){let{usdToThisRate:l}=(0,kt.useSelector)(it),{coinList:m}=vt({chainId:r,walletId:i}),_=u=>{o({...u}),e()};return ae.default.createElement(g.Container,{className:ee.container},ae.default.createElement(lo,{offsetTop:0},ae.default.createElement(mo,{title:t("wallet_extension_swapforgas_dialog_header_chain_token",{chain:s}),onBack:e,closeable:!1,sticky:!1,asPage:!0})),ae.default.createElement(ne,{className:ee.list,loading:!m.length&&{size:Ye.SIZE.lg},dataSource:m,renderItem:u=>{let{amountNum:N,tokenSymbol:d,tokenLogoUrl:x,currencyAmount:p,tokenName:I}=u;return ae.default.createElement(ne.Coin,{icon:ae.default.createElement(br,{iconUrl:x}),symbol:d,balance:N,name:I,market:U.mul(p,l),onClick:()=>{_(u)}})}}))}var Lt=({visible:o,closeCallback:e,onSelect:r,chainId:i,walletId:s,chainName:l})=>_o.default.createElement(g.Portal,{noStyle:!0},o&&_o.default.createElement(g.Box,{className:ee.wrapContainer},_o.default.createElement(wo,{onSelect:r,onBack:e,chainId:i,chainName:l,walletId:s})));n();a();var Ft=y(xe()),bo=y(L());n();a();var Pt={errorContainer:"_errorContainer_12hl2_1"};var Dt=({errorText:o,onClick:e,btnText:r,className:i})=>bo.default.createElement("div",{className:(0,Ft.default)(Pt.errorContainer,i)},bo.default.createElement(So.State,{type:So.State.TYPE.noNetwork,title:o,onButtonClick:e,buttonText:r}));n();a();var qe=y(L());Vo();V();var Gt=({visible:o,checkFlag:e,code:r,enoughFlag:i,onCancel:s,onConfirm:l,onClose:m,chainName:_,reminderInfo:u})=>{let N=[{message:t("swaptrade_dialog_text_irregular_operations"),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.BLACK_LIST,code:re.BLACK_LIST},{message:t("swaptrade_dialog_modal_service_closed"),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.CLOSE,code:re.CLOSE},{message:t("swaptrade_dialog_text_daily_orderlimit"),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.LIMIT,code:re.LIMIT},{message:t("swaptrade_extension_dialog_desc_swapgas_inprogress"),confirmName:t("swaptrade_extension_dialog_btn_view_pending_order"),cancelName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),title:t("wallet_extension_swapforgas_dialog_title_order_pending"),checkFlag:z.PENDING_GAS_STATION,code:re.PENDING_GAS_STATION},{message:t("swaptrade_extension_dialog_desc_similar_order_processing"),confirmName:t("swaptrade_extension_dialog_btn_view_pending_order"),cancelName:t("swaptrade_extension_dialog_btn_continue_submit_swap"),title:t("wallet_extension_swapforgas_dialog_title_order_pending"),checkFlag:z.PENDING_SWAP,enoughFlag:Ve.ENOUGH,code:re.PENDING_SWAP},{message:t("swaptrade_extension_dialog_desc_swap_order_processing"),confirmName:t("swaptrade_extension_dialog_btn_view_pending_order"),cancelName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),title:t("wallet_extension_swapforgas_dialog_title_order_pending"),checkFlag:z.PENDING_SWAP,enoughFlag:Ve.NOT_ENOUGH,code:re.PENDING_SWAP},{message:t("swaptrade_swapforgas_desc_in_progress",{chain:_}),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.WALLET_HAS_PENDING_ORDER},{message:t("defi_dextrade_errormsg_tron_change"),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.TRON_PERMISSION,code:re.TRON_PERMISSION},{title:t("wallet_extension_swapforgas_dialog_title_high_payment"),message:t("wallet_extension_swapforgas_dialog_desc_high_payment"),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.PAY_TOO_LARGE,code:re.PAY_TOO_LARGE},{title:t("wallet_extension_swapforgas_dialog_title_low_payment"),message:t("wallet_extension_swapforgas_dialog_desc_low_payment"),confirmName:t("swaptrade_dialog_modal_oneorder_pending_okbtn"),cancelName:null,checkFlag:z.PAY_TOO_SMALL,code:re.PAY_TOO_SMALL}],{needReminder:d,reminderContent:x,reminderTitle:p}=u||{},{confirmName:I,cancelName:f,message:P,title:H}=(0,qe.useMemo)(()=>d?{confirmName:t("swaptrade_extension_dialog_btn_continue_submit_swap"),cancelName:t("wallet_extension_btn_general_cancel"),message:x,title:p}:N.find(h=>Yo(e)?h.code===+r:h.checkFlag===z.PENDING_SWAP?h.checkFlag===+e&&h.enoughFlag===+i:h.checkFlag===+e)||N[1],[e,r,i,d,x,p]);return qe.default.createElement(me.Tip,{visible:o,title:H,confirmText:I,cancelText:f,onConfirm:l,onCancel:s,onClose:m,btnFull:!1},qe.default.createElement("div",null,P))};n();a();V();var Je=y(L());n();a();var je={alert:"_alert_1txjs_1"};n();a();var Bt=({priceInfo:o})=>{let{fromTokenSymbol:e,toTokenSymbol:r,currencyAbnormalType:i}=o;switch(i){case"1":return Je.default.createElement(le,{className:je.alert,title:t("swaptrade_top_reminder_paysymbol_failed",{paySymbol:e}),type:le.TYPE.error,closable:!1});case"2":return Je.default.createElement(le,{className:je.alert,title:t("swaptrade_top_reminder_receivesymbol_failed",{receiveSymbol:r}),type:le.TYPE.error,closable:!1});case"3":return Je.default.createElement(le,{className:je.alert,title:t("swaptrade_top_reminder_payreceive_failed",{paySymbol:e,receiveSymbol:r}),type:le.TYPE.error,closable:!1});default:break}return o.isQuoteAvailable==="0"?Je.default.createElement(le,{className:je.alert,title:t("wallet_extension_swapforgas_error_gas_price_flux"),type:le.TYPE.error,closable:!1}):null};n();a();var Po=y(L()),Xe=y(no()),Vt=y(Jo());V();n();a();var Ut={min:"0",max:"0",normal:"0",minGasPrice:"0",supportEip1559:!1,suggestBaseFee:"0",safePriorityFee:"0",proposePriorityFee:"0",fastPriorityFee:"0",baseFee:"0"};Ir();Sr();Zo();hr();jo();n();a();Zo();n();a();var vo=(o,e)=>`Failed to get tx hash, localType is ${o}, signedTx is ${e}`;async function zt(o,e){try{let i=No({localType:o})?.coinType,{wallet:s}=await ho(i);return await s?.calcTxHash({data:e})}catch{throw new Error(vo(o,e))}}async function ia(o,e){try{e=e||[];let i=No({localType:o})?.coinType,{wallet:s}=await ho(i);return await Promise.all(e.map(m=>s?.calcTxHash({data:m})))}catch{throw new Error(vo(o,e.toString()))}}n();a();var Ee=y(lt());jo();n();a();var uo=y(lt());n();a();Ar();var ko={CANCEL:"cancel",RETRY:"retry",TOKEN_METHOD_TRANSFER:"transfer",TOKEN_METHOD_TRANSFER_FROM:"transferfrom",TOKEN_METHOD_APPROVE:"approve",TOKEN_METHOD_INCREASE_ALLOWANCE:"increaseAllowance",INCOMING:"incoming",SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",SWAP:"swap",SWAP_APPROVAL:"swapApproval",SIGN:we.ETH_SIGN,SIGN_TYPED_DATA:we.ETH_SIGN_TYPED_DATA,PERSONAL_SIGN:we.PERSONAL_SIGN,ETH_DECRYPT:we.ETH_DECRYPT,ETH_GET_ENCRYPTION_PUBLIC_KEY:we.ETH_GET_ENCRYPTION_PUBLIC_KEY},M={UNAPPROVED:"unapproved",APPROVED:"approved",REJECTED:"rejected",SIGNED:"signed",SUBMITTED:"submitted",FAILED:"failed",DROPPED:"dropped",CONFIRMED:"confirmed",PKGING:"PKGING",CONFIRMING:"CONFIRMING",ERROR:"ERROR",SUCCESS:"SUCCESS"};var po={SEND:"send",RECEIVE:"receive",INTERACTION:"interaction",APPROVAL:"approval",SIGNATURE_REQUEST:"signature-request",SWAP:"swap"},pa=[null,po.RECEIVE,po.SEND,po.INTERACTION,po.APPROVAL],ua=[null,M.PKGING,M.CONFIRMING,M.ERROR,M.SUCCESS],vr={[M.UNAPPROVED]:!0,[M.APPROVED]:!0,[M.SUBMITTED]:!0,[M.PKGING]:!0,[M.CONFIRMING]:!0},da={[M.FAILED]:!0,[M.DROPPED]:!0,[M.REJECTED]:!0,[M.ERROR]:!0},fa={[M.SUCCESS]:!0,[M.CONFIRMED]:!0},ga={...vr,[M.CONFIRMED]:!0},Ta={[ko.TOKEN_METHOD_APPROVE]:!0,[ko.TOKEN_METHOD_TRANSFER]:!0,[ko.TOKEN_METHOD_TRANSFER_FROM]:!0},ya={CARRY_ALL_REMAINING_BALANCE:128,CARRY_ALL_REMAINING_INCOMING_VALUE:64,DESTROY_ACCOUNT_IF_ZERO:32,PAY_GAS_SEPARATELY:1,IGNORE_ERRORS:2,NONE:0},Na={TON_ADDR:"ton_addr",TON_PROOF:"ton_proof"},xa={MAINNET:"-239",TESTNET:"-3"},Ea={UNKNOWN_ERROR:0,BAD_REQUEST_ERROR:1,MANIFEST_NOT_FOUND_ERROR:2,MANIFEST_CONTENT_ERROR:3,UNKNOWN_APP_ERROR:100,USER_REJECTS_ERROR:300,METHOD_NOT_SUPPORTED:400},Oo={Transaction:"legacy",VersionedTransaction:0};var Lo=(o,e=Q.TRANSACTION)=>uo.default.encode(e===Q.TRANSACTION?o.serialize({requireAllSignatures:!1,verifySignatures:!1}):o.serialize()),ba=(o,e=Q.TRANSACTION)=>{let r=uo.default.decode(o);return e===Q.TRANSACTION?so.from(r):io.deserialize(r)},va=o=>{switch(o?.version){case Oo.Transaction:case Oo.VersionedTransaction:return Q.VERSIONED_TRANSACTION;default:return Q.TRANSACTION}};var ka=o=>o?new Ze(o):null,Oa=(o,e)=>({publicKey:o,signature:uo.default.decode(e)});function Mt(o,e){return Eo(xo(He(e||"0",o||"0"),10**6),0)}function za(o,e="0",r="0"){let i=Mt(e,r);if(!o||qo(i,o))return{priorityFee:i,priorityGasPrice:e,priorityGasLimit:r};let s=Eo(xo(He(o,10**6),r),0);return{priorityFee:Mt(s,r),priorityGasPrice:s,priorityGasLimit:r}}var Ht=async({coinId:o,fromAddress:e,instanceType:r,serializedMessage:i,needToReplaceRecentBlockhash:s,onSign:l})=>{let m="",_,u="";if(r===Q.TRANSACTION){if(_=so.from(Ee.default.decode(i)),s){let d=await Io({coinId:o,address:e},{fromAddr:e});_.recentBlockhash=d}let N=Ee.default.encode(_.serializeMessage());m=await l({finalizedMessage:N}),_.addSignature(new Ze(e),Ee.default.decode(m)),u=Lo(_,r)}else{_=io.deserialize(Ee.default.decode(i));let N=_.message;if(s){let x=await Io({coinId:o,address:e},{fromAddr:e});N.recentBlockhash=x}let d=Ee.default.encode(N.serialize());m=await l({finalizedMessage:d}),_.addSignature(new Ze(e),Ee.default.decode(m)),u=Lo(_,r)}return{signature:m,tx:_,serializedTransaction:u,type:r}};et();var Wt=({priceInfo:o,setLoading:e,loading:r,setErrorInfo:i,coinId:s,toChainId:l,chainList:m,txId:_,amount:u,isValidateAmount:N})=>{let d=(0,Xe.useDispatch)(),x=(0,Vt.useHistory)(),{toTokenSymbol:p,fromTokenValue:I,fromTokenContractAddress:f,toTokenAddress:P,currencyAbnormalType:H,fromChainName:h,fromTokenSymbol:K,balance:Y,fromChainId:R,balanceAbnormalType:oe,isQuoteAvailable:de}=o,{allAddress:fe,currentAddress:B}=(0,Xe.useSelector)(E=>Co(E,R)),{currentAddress:ge}=(0,Xe.useSelector)(E=>Co(E,l)),te=()=>de==="0"||H!=="0"||oe!=="0"?!1:Y&&u&&N?+Y>=+u:!1,q=()=>H!=="0"||oe!=="0"?t("swaptrade_footer_btn_fill_up",{nativeToken:p}):Y&&u?+Y>=+u?t("swaptrade_footer_btn_fill_up",{nativeToken:p}):t("swaptrade_bot_btn_insufficient_balance",{token:K}):t("swaptrade_footer_btn_fill_up",{nativeToken:p}),Te=async()=>{let E={amount:u,chainId:R,currentUserWalletAddress:B,fromTokenAddress:f,toChainId:l,toTokenAddress:P,walletAddresses:fe},{data:S}=await yt(E);return S},Be=async()=>{let{data:E}=await ut({coinId:s,address:B});return E},to=async({from:E,to:S,data:k,value:O},Z)=>{let X={address:B,inputData:k,coinId:s,value:O,tokenAddress:S},{data:j}=await dt(X),Ne=Z?.info?.gasPrice||Ut,Ce=Z?.info?.newNonce,{normal:Ue}=Ne,ze={chainId:R,from:E,to:S,data:k,gasPrice:be(Pe(Ue)),value:be(Pe(O)),nonce:be(Pe(Ce)),gas:be(Pe(j.gasLimit)),gasLimit:be(Pe(j.gasLimit))},Me=await Le().signTransaction(ze,ze.from),ro=await zt(Wo,Me);return{rawTx:Me,txHash:ro,txParams:ze,gasLimitInfo:j}},ur=async E=>await Le().silentOfflineSignTron(E),dr=async E=>{let k=JSON.parse(E.unsignedTx)?.data,{signature:O}=await Ht({coinId:s,fromAddress:B,instanceType:Q.TRANSACTION,serializedMessage:k,needToReplaceRecentBlockhash:!1,onSign:({finalizedMessage:Z})=>Le().signCommonMessage(B,Z,Ko)});return{signature:O}},To=E=>({chainId:R,fromAmount:u,fromTokenAddress:f,payValue:I,toChainId:l,userWalletAddress:B,walletAddresses:fe,receiveWalletAddress:ge,...E}),fr=async(E,S)=>{let{txID:k,signedTx:O}=E,{to:Z,data:X}=S,{info:{fee:j}}=await ft({coinId:s,address:B},{fromAddr:B,scenario:rt.SCENARIO_INTERACTION,inputData:X,toAddr:Z,dataLength:X.length}),Ne=JSON.stringify({chainId:R,serviceCharge:j,inputData:S.data,toAdr:S.to,coinAmount:S.value,signedTx:O,txSource:3,fromAdr:S.from,txHash:k,extJson:JSON.stringify({nonce:"",priorityFee:"",feeType:"",oldTxHash:"",maxBaseFee:"",gasPrice:"",gas:"",decimal:6})}),Ce=To({inputData:Ne,approveTransactionHash:k,signedTx:O});return await co(Ce)},gr=async(E,S)=>{let{signature:k}=E,O=To({quoteId:S,inputData:JSON.stringify({signedTx:k,txSource:3})});return await co(O)},Tr=async(E,S,k)=>{let{txHash:O,rawTx:Z,gasLimitInfo:X,txParams:j}=E,{gasPrice:Ne,nonce:Ce,gas:Ue}={...j,nonce:Ke(j.nonce),gasPrice:Ke(j.gasPrice),value:Ke(j.value),gas:Ke(j.gas)},{normal:ze,proposePriorityFee:Me,supportEip1559:ro}=k.info.gasPrice,yo=Ue;X?.originGasLimit&&S.approveGasLimitCoefficient&&(yo=U.floorMul(X.originGasLimit,S.approveGasLimitCoefficient,0).toString());let Nr=He(Ne,Ue),xr=JSON.stringify({chainId:R,serviceCharge:Nr,inputData:S.data,toAdr:S.to,coinAmount:S.value,signedTx:Z,txSource:3,fromAdr:S.from,txHash:O,extJson:JSON.stringify({nonce:Ce,priorityFee:Me||"",feeType:ro?nt.FEE_MARKET:"",oldTxHash:"",maxBaseFee:ro?$o(ze,Me):"",gasPrice:Ne,gas:yo})}),Er=To({inputData:xr,approveTransactionHash:O,approveGasLimit:yo,approveGasPrice:Ne,approveNonce:Ce});return await co(Er)},Mo=async(E,S)=>{let k;if(+R==195){let O=await ur(E);k=await fr(O,E)}else if(+R==501){let O=await dr(E);k=await gr(O,S)}else{E.networkType=m.find(X=>+X.netWorkId==+R)?.chain;let O=await Be(),Z=await to(E,O);k=await Tr(Z,E,O)}k.code!==0?i({...k,visible:!0}):x.length===1?x.push(`${We}/${k.data}`):x.replace(`${We}/${k.data}`)},yr=async()=>{if(r)return;e(!0);let E=await Te(),{checkFlag:S,approveInfo:k,reminderInfo:O,quoteId:Z}=E,X=O?.needReminder??!1;S===0&&_&&(d(ht.setKeepOpen({show:!0})),await d(It(_)));try{S!==0||X?i({...E,visible:!0,chainName:h,reConfirm:()=>{Mo(k,Z)}}):await Mo(k,Z),e(!1)}catch{ke.error({title:t("wallet_extension_toast_asset_error_try_again"),duration:1,placement:ke.DIRECTION.top}),e(!1)}finally{e(!1)}};return Po.default.createElement(lo.FooterActions,{usePortal:!0,zIndex:1002},Po.default.createElement(C,{block:!0,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:yr,disabled:!te()||r},q()))};n();a();V();var Ro=y(xe()),b=y(L());n();a();var ce=y(L()),Kt=y(xe());n();a();var se={container:"_container_1hqzh_1",textContainer:"_textContainer_1hqzh_10",tokenName:"_tokenName_1hqzh_17",chainName:"_chainName_1hqzh_21",imgContainer:"_imgContainer_1hqzh_26",tokenImg:"_tokenImg_1hqzh_31",chainImg:"_chainImg_1hqzh_36",arrowIcon:"_arrowIcon_1hqzh_44",disabled:"_disabled_1hqzh_47"};var kr=({onClick:o,token:e,chain:r,disabled:i,className:s})=>ce.default.createElement(g.Box,{onClick:o,className:(0,Kt.default)(se.container,s,{[se.disabled]:i})},ce.default.createElement(g.Box,{className:se.imgContainer},ce.default.createElement(ve,{className:se.tokenImg,alt:"token-img",errorImg:Oe,src:e.imgSrc}),ce.default.createElement(ve,{className:se.chainImg,alt:"chain-img",errorImg:Oe,src:r.imgSrc})),ce.default.createElement(g.Box,{className:se.textContainer},ce.default.createElement(c.Text,{strong:700,className:se.tokenName,ellipsis:{tooltip:e.name}},e.name),ce.default.createElement(c.Text,{size:"sm",className:se.chainName,ellipsis:{tooltip:r.name}},r.name)),!i&&ce.default.createElement(F,{size:F.SIZE.xxs,className:`okx-wallet-plugin-select-unfold ${se.arrowIcon}`})),Do=kr;n();a();var w=y(L());V();n();a();var Ae=y(L());V();n();a();var $=y(L());V();n();a();var Se={"text-color":"_text-color_3kntd_1",textColor:"_text-color_3kntd_1","tips-content":"_tips-content_3kntd_4",tipsContent:"_tips-content_3kntd_4"};var Zt=({approveAmount:o,approveAmountUsd:e,transferFee:r,transferFeeUsd:i,swapFee:s,swapFeeUsd:l,gasTokenSymbol:m})=>$.default.createElement($.default.Fragment,null,$.default.createElement(g.Box,null,$.default.createElement(c.Text,{size:c.SIZE.sm,className:Se.textColor},t("wallet_extension_swapforgas_dialog_desc_netfee_details1"))),$.default.createElement("ul",{className:Se.tipsContent},$.default.createElement("li",null,$.default.createElement(c.Text,{size:c.SIZE.sm,className:Se.textColor},t("wallet_extension_swapforgas_dialog_desc_netfee_details",{value1:e,approveFee:o,token1:m}))),$.default.createElement("li",null,$.default.createElement(c.Text,{size:c.SIZE.sm,className:Se.textColor},t("wallet_extension_swapforgas_dialog_desc_netfee_detaila",{value2:i,transferFee:r,token2:m}))),$.default.createElement("li",null,$.default.createElement(c.Text,{size:c.SIZE.sm,className:Se.textColor},t("wallet_extension_swapforgas_dialog_desc_netfee_detailb",{value3:l,swapFee:s,token3:m})))),$.default.createElement(g.Box,null,$.default.createElement(c.Text,{size:c.SIZE.sm,className:Se.textColor},t("wallet_extension_swapforgas_dialog_desc_netfee_details2"))));var fo=({amount:o,usdPrice:e,usdToThisRate:r,symbol:i})=>{if(o&&e&&r){let s=U.mul(U.mul(o,e),r);return`${Ge(s,i)}`}return""},Or=({amount:o,symbol:e,usdPrice:r,usdToThisRate:i,usdSymbol:s})=>{if(!o)return"";let l=ye(o);if(!l)return"";let m=fo({amount:o,usdPrice:r,usdToThisRate:i,symbol:s});return`${l} ${e} (${m})`},$t=o=>{let[{symbol:e,usdToThisRate:r}]=De(Fe.selectedCurrency),{approveTokenAmount:i,gasTokenPriceUSD:s,gasTokenSymbol:l,swapGasFeeAmount:m,totalGasFeeAmount:_,transferApproveTokenGasFeeAmount:u}=o||{},{approveAmount:N,approveAmountUsd:d,transferFee:x,transferFeeUsd:p,swapFee:I,swapFeeUsd:f}=(0,Ae.useMemo)(()=>({approveAmount:ye(i),approveAmountUsd:fo({amount:i,usdPrice:s,usdToThisRate:r,symbol:e}),transferFee:ye(u),transferFeeUsd:fo({amount:u,usdPrice:s,usdToThisRate:r,symbol:e}),swapFee:ye(m),swapFeeUsd:fo({amount:m,usdPrice:s,usdToThisRate:r,symbol:e})}),[i,s,m,e,u,r]),P=(0,Ae.useCallback)(()=>{let H=me.show({hideCloseBtn:!0,title:t("wallet_extension_swapforgas_label_est_netfee"),children:Ae.default.createElement(Zt,{approveAmount:N,approveAmountUsd:d,transferFee:x,transferFeeUsd:p,swapFee:I,swapFeeUsd:f,gasTokenSymbol:l}),confirmText:t("commonall_text_btn_ok_active"),onConfirm:()=>{H.destroy()}})},[N,d,l,I,f,x,p]);return(0,Ae.useMemo)(()=>({totalAmount:Or({amount:_,symbol:l,usdPrice:s,usdToThisRate:r,usdSymbol:e}),handleNetworkFeeTips:P}),[_,l,s,r,e,P])};n();a();var G={container:"_container_dngvz_1",infoIcon:"_infoIcon_dngvz_6",exchangeRate:"_exchangeRate_dngvz_9",exchangeRateValue:"_exchangeRateValue_dngvz_19",contentTertiary:"_contentTertiary_dngvz_24",finalReceive:"_finalReceive_dngvz_27",finalReceiveValue:"_finalReceiveValue_dngvz_28",max:"_max_dngvz_32",rangeAmount:"_rangeAmount_dngvz_38",amountText:"_amountText_dngvz_41",receiveText:"_receiveText_dngvz_44",displayAmount:"_displayAmount_dngvz_47",tradeTimes:"_tradeTimes_dngvz_50"};var Qe="--",qt=({priceInfo:o,pay:e})=>{let[{symbol:r,usdToThisRate:i}]=De(Fe.selectedCurrency),{toTokenSymbol:s,toAmount:l,rate:m,tradeTimes:_,currencyAbnormalType:u,toTokenValue:N,dexGasStationFeeDetailVO:d}=o,{totalAmount:x,handleNetworkFeeTips:p}=$t(d),I=()=>!m||u!=="0"?Qe:c.formatCryptoNumbericalValue(m),f=`1 ${e.token.name} \u2248 ${I()} ${s}`;return w.default.createElement(g.Box,{className:G.container},w.default.createElement(ne.Line,{size:"sm",label:w.default.createElement(g.FlexBox,{align:g.ALIGN.center},w.default.createElement("div",{className:G.exchangeRate},t("swaptrade_list_title_reference")),w.default.createElement(Ao,{title:t("swaptrade_intro_text_gassation_reference_explained")},w.default.createElement(F,{size:F.SIZE.xs,className:`okx-wallet-plugin-information-circle ${G.infoIcon}`})))},w.default.createElement(g.FlexBox,{align:g.ALIGN.center,className:G.exchangeRateValue},w.default.createElement(c.Text,{size:c.SIZE.sm,ellipsis:{tooltip:`${f} ${s}`},className:G.contentTertiary},`1 ${e.token.name} \u2248 ${I()} ${s}`))),w.default.createElement(ne.Line,{size:"sm",className:G.receiveText,label:w.default.createElement(g.FlexBox,{align:g.ALIGN.center},w.default.createElement("div",{className:G.exchangeRate},t("wallet_extension_swapforgas_label_est_netfee")),w.default.createElement(F,{onClick:p,size:F.SIZE.xs,className:`okx-wallet-plugin-information-circle ${G.infoIcon}`}))},w.default.createElement(g.FlexBox,{align:g.ALIGN.center,className:G.exchangeRateValue},w.default.createElement(c.Text,{size:c.SIZE.sm,ellipsis:{tooltip:x},className:G.contentTertiary},x))),w.default.createElement(ne.Line,{className:G.receiveText,size:"sm",label:w.default.createElement(g.FlexBox,{align:g.ALIGN.center},w.default.createElement("div",{className:G.finalReceive},t("swaptrade_list_title_you_receive")),w.default.createElement(Ao,{title:t("swaptrade_list_tooltip_receive_describe")},w.default.createElement(F,{size:F.SIZE.xs,className:`okx-wallet-plugin-information-circle ${G.infoIcon}`}))),value:w.default.createElement(g.FlexBox,{align:"center",className:G.finalReceiveValue},w.default.createElement(c.DisplayAmount,{className:G.displayAmount,size:"lg",strong:700,mode:c.CRYPTO,symbol:s},l))}),w.default.createElement(g.FlexBox,{justify:"flex-end",className:G.tradeTimes},w.default.createElement(c.Text,{size:c.SIZE.sm},t("wallet_extension_swapforgas_label_num_transactions",{num:_||Qe})),w.default.createElement(c.Text,{type:c.TYPE.secondary,size:c.SIZE.sm},Ge(U.mul(N,i),r,{needBillionMillionUnit:!1}))))};n();a();var _e=y(L());var Go=y(xe());V();n();a();var ie={swapInput:"_swapInput_6oxu1_1",inputWrapper:"_inputWrapper_6oxu1_8",input:"_input_6oxu1_8",inputInner:"_inputInner_6oxu1_15",inputClass:"_inputClass_6oxu1_22",symbol:"_symbol_6oxu1_31",currency:"_currency_6oxu1_34",currencyError:"_currencyError_6oxu1_38",error:"_error_6oxu1_41"};var Lr=12,jt=({priceInfo:o,setAmount:e,amount:r,error:i})=>{let{fromTokenValue:s,fromTokenSymbol:l,currencyAbnormalType:m,fromTokenDecimals:_}=o,u=Math.min(Lr,Number(_)),N,[{symbol:d,usdToThisRate:x}]=De(Fe.selectedCurrency),p=(0,_e.useMemo)(()=>m==="1"||m==="3",[m]),I=(0,_e.useMemo)(()=>p?`${d}0.0`:Number(r)?Ge(U.mul(s,x),d,{needBillionMillionUnit:!1}):"",[r,s,p,d,x]);return _e.default.createElement(g.FlexBox,{className:(0,Go.default)(ie.swapInput,{[ie.error]:i}),direction:g.DIRECTION.vertical,onClick:()=>{N?.focus()}},_e.default.createElement(g.FlexBox,{className:ie.inputWrapper,align:g.ALIGN.center},_e.default.createElement(Qo.Number,{onRef:f=>{N=f},placeholder:"0.0",precision:u,inputMode:"decimal",className:ie.input,inputClassName:ie.inputClass,innerClassName:ie.inputInner,onChange:f=>{f!==r&&e(f)},value:r}),_e.default.createElement(c.Text,{strong:700,className:ie.symbol},l)),_e.default.createElement(c.Text,{size:c.SIZE.sm,className:(0,Go.default)(ie.currency,{[ie.currencyError]:p}),type:c.TYPE.secondary},I))};n();a();var W={container:"_container_khgyn_1",swapTokenContainer:"_swapTokenContainer_khgyn_4",swapToken:"_swapToken_khgyn_4",swapIcon:"_swapIcon_khgyn_12",rightArrow:"_rightArrow_khgyn_16",walletIcon:"_walletIcon_khgyn_19",rate:"_rate_khgyn_22",flex:"_flex_khgyn_25",infoIcon:"_infoIcon_khgyn_29",exchangeRate:"_exchangeRate_khgyn_32",exchangeRateValue:"_exchangeRateValue_khgyn_42",finalReceive:"_finalReceive_khgyn_47",finalReceiveValue:"_finalReceiveValue_khgyn_48",max:"_max_khgyn_52",rangeAmount:"_rangeAmount_khgyn_58",error:"_error_khgyn_61",disabled:"_disabled_khgyn_64",textContainer:"_textContainer_khgyn_69",selectCoinText:"_selectCoinText_khgyn_76",selectAmountText:"_selectAmountText_khgyn_79",rateText:"_rateText_khgyn_82",receiveText:"_receiveText_khgyn_85",displayAmount:"_displayAmount_khgyn_88"};var Pr=({coinInfo:o,priceInfo:e,clickPayToken:r,setAmount:i,amount:s,isValidateAmount:l})=>{let{toTokenSymbol:m,toTokenLogoUrl:_,toChainName:u,toChainLogoUrl:N,fromTokenSymbol:d,fromTokenLogoUrl:x,balance:p,fromChainLogoUrl:I,fromChainName:f,minimumAmount:P,maximumAmount:H,currencyAbnormalType:h,balanceAbnormalType:K,isQuoteAvailable:Y}=e,R=o?{token:{name:o.tokenSymbol,imgSrc:o.tokenLogoUrl},chain:{name:o.chainName,imgSrc:o.chainLogoUrl}}:{token:{name:d,imgSrc:x},chain:{name:f,imgSrc:I}},oe={token:{name:m,imgSrc:_},chain:{name:u,imgSrc:N}},de=(0,b.useMemo)(()=>{let q=Y==="1",Te=t("wallet_extension_swapforgas_label_amount_range",{minAmount:q?ye(P):Qe}),Be=t("wallet_extension_swapforgas_label_amount_limit",{maxAmount:q?ye(H):Qe});return`${Te} \uFF5E ${Be}`},[Y,H,P]),fe=()=>{let q=pt(p,{ifFromMax:!0,noNeedThousandth:!0});i(q)},B=(0,b.useMemo)(()=>h!=="0"||K!=="0"?!1:l,[K,h,l]),ge=(0,b.useMemo)(()=>K!=="0",[K]),te=(0,b.useMemo)(()=>s!==""&&!l,[s,l]);return b.default.createElement(g.Box,{className:W.container},b.default.createElement(ne.Line,{className:W.selectCoinText,size:"sm",label:t("swaptrade_function_title_select_token")}),b.default.createElement(g.Box,{className:W.swapTokenContainer},b.default.createElement(Do,{...R,onClick:r,className:W.swapToken}),b.default.createElement(F,{size:F.SIZE.md,className:`okx-wallet-plugin-to ${W.rightArrow}`}),b.default.createElement(Do,{disabled:!0,...oe,className:W.swapToken})),b.default.createElement(ne.Line,{className:W.selectAmountText,size:"sm",label:b.default.createElement("div",{className:W.flex},t("wallet_extension_swapforgas_label_pay_amount"),b.default.createElement(F,{size:F.SIZE.xs,className:(0,Ro.default)("okx-wallet-plugin-wallet",W.walletIcon,{[W.error]:ge})}),ge?b.default.createElement(c.Text,{className:W.error,size:c.SIZE.sm},t("wallet_extension_swapforgas_error_unknown_balance")):b.default.createElement(b.default.Fragment,null,b.default.createElement(c.DisplayAmount,{noStyle:!0,mode:c.CRYPTO},p),p&&U.BigNumber(p).gt(0)&&b.default.createElement(c.Text,{className:W.max,onClick:fe,size:c.SIZE.sm},t("wallet_extension_transaction_input_max"))))}),b.default.createElement(jt,{priceInfo:e,setAmount:i,amount:s,error:te}),b.default.createElement(c.Text,{type:c.TYPE.secondary,size:c.SIZE.sm,className:(0,Ro.default)(W.rangeAmount,{[W.error]:te})},de),B&&b.default.createElement(qt,{priceInfo:e,pay:R}))},Jt=Pr;n();a();var ue=y(L());V();n();a();var pe=y(L());V();n();a();var eo={container:"_container_klk6c_1",title:"_title_klk6c_5",content:"_content_klk6c_9",footer:"_footer_klk6c_14"};var Xt=({visible:o,closeCallback:e})=>pe.default.createElement(me.Action,{onClose:()=>{e()},visible:o,maskClosable:!0,hideCloseBtn:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"}},pe.default.createElement(pe.default.Fragment,null,pe.default.createElement("div",{className:eo.container},pe.default.createElement(c.Text,{strong:700,className:eo.title},t("swaptrade_intro_title_swap_forgas")),pe.default.createElement(c.Text,{size:c.SIZE.sm,className:eo.content},t("swaptrade_intro_text_swap_forgas_desc"))),pe.default.createElement("div",{className:eo.footer},pe.default.createElement(C,{block:!0,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:()=>e(!1)},t("swaptrade_intro_btn_ok")))));n();a();var Bo={title:"_title_vcieq_1",infoIcon:"_infoIcon_vcieq_5"};var Qt=({onClose:o=()=>{}})=>{let[e,r]=(0,ue.useState)(!1);return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement(mo,{title:ue.default.createElement("div",{className:Bo.title},t("swaptrade_header_title_swap_forgas"),ue.default.createElement(F,{size:F.SIZE.sm,className:`okx-wallet-plugin-information-circle ${Bo.infoIcon}`,onClick:()=>r(!0)})),closeable:!1,onBack:o,asPage:!0}),ue.default.createElement(Xt,{visible:e,closeCallback:r}))};n();a();et();V();wr();Cr();Vo();var he=y(L());var er=({coinInfo:o,chainId:e,walletId:r,setLoading:i})=>{let[s,l]=(0,he.useState)({tradeTimes:"",balance:"",balanceAbnormalType:"0",currencyAbnormalType:"0"}),m=mt(),_=r||m,u=(0,he.useCallback)(x=>{l({...x,...s})},[]),N=(0,he.useCallback)(async x=>{if(U.BigNumber(x).isZero())return;let p;o?p={fromChainId:o.chainId,fromTokenContractAddress:o.tokenContractAddress,toChainId:e}:p={toChainId:e};try{let I=await Le().getUserUniqueId(),{data:f}=await ot(tt.getPriceInfoUrl,{...p,userUniqueId:I,walletId:_,amount:x===""?"":U.BigNumber(x).toString(10)});i(!1),l(f)}catch{u({error:!0}),i(!1)}},[e,o,_,u,i]),d=(0,he.useMemo)(()=>Ho(N,500),[N]);return{priceInfo:s,fetchPriceInfo:d}};n();a();var oo={container:"_container_1g0r0_1",contentContainer:"_contentContainer_1g0r0_8",loaderContainer:"_loaderContainer_1g0r0_14",errorContainer:"_errorContainer_1g0r0_17"};var Fr=o=>{let e=(0,or.useHistory)(),r=At(),i=o.chainId||r.get("chainId"),s=o.txId||r.get("txId"),l=o.walletId||r.get("walletId"),[m,_]=(0,v.useState)(!0),[u,N]=(0,v.useState)(!1),[d,x]=(0,v.useState)(null),[p,I]=(0,v.useState)(""),[f,P]=(0,v.useState)({orderId:"",checkFlag:-1,enoughFlag:0,visible:!1,code:0,reConfirm:()=>{}}),H=Nt(),{priceInfo:h,fetchPriceInfo:K}=er({coinInfo:d,chainId:i,walletId:l,setLoading:_});(0,v.useEffect)(()=>{d&&h.error&&ke.error({title:t("wallet_extension_toast_asset_error_try_again"),placement:ke.DIRECTION.top})},[h.error,d]);let Y=_t(),{coinId:R}=(0,tr.useCreation)(()=>Y.find(te=>+te.chainId==+h.fromChainId)||{},[Y,h?.fromChainId]);(0,v.useEffect)(()=>{let te=setInterval(()=>{K(p)},1e4);return K?.(p),()=>clearInterval(te)},[p,K]);let oe=!d&&h.error,de=(0,v.useMemo)(()=>Number(p)>=Number(h?.minimumAmount)&&Number(p)<=Number(h?.maximumAmount),[p,h]),fe=()=>oe?v.default.createElement(Dt,{className:oo.errorContainer,errorText:t("swaptrade_mid_title_network_error"),btnText:t("swaptrade_mid_btn_reload"),onClick:()=>{_(!0),K(p)}}):null,B=()=>oe?null:v.default.createElement("div",{className:oo.contentContainer},v.default.createElement(Jt,{coinInfo:d,priceInfo:h,amount:p,setAmount:I,isValidateAmount:de,clickPayToken:()=>N(!0)}),v.default.createElement(Bt,{priceInfo:h})),ge=()=>v.default.createElement(g.Box,{className:oo.loaderContainer},v.default.createElement(Ye.Circle,{hasMask:!0,maskColor:"var(--okd-color-background-base-primary)",size:Ye.SIZE.xl}));return v.default.createElement("div",{className:oo.container},v.default.createElement(Qt,{onClose:o.onClose}),fe(),m?ge():B(),!oe&&v.default.createElement(Wt,{priceInfo:h,setLoading:_,loading:m,setErrorInfo:P,coinId:R,toChainId:i,chainList:H,txId:s,amount:p,isValidateAmount:de}),v.default.createElement(Gt,{...f,onConfirm:()=>{(f.checkFlag===z.PENDING_GAS_STATION||f.checkFlag===z.PENDING_SWAP)&&e.replace(`${We}/${f.orderId}`),f.reminderInfo?.needReminder&&f.reConfirm(),P({...f,visible:!1})},onCancel:()=>{f.checkFlag===z.PENDING_SWAP&&f.enoughFlag===Ve.ENOUGH&&f.reConfirm(),P({...f,visible:!1})},onClose:()=>{P({...f,visible:!1})}}),v.default.createElement(Lt,{visible:u,closeCallback:()=>N(!1),chainName:o.chainName,onSelect:x,chainId:i,walletId:l}))},rr=Fr;n();a();var nr=y(L()),ar=y(ao());var Dr="DEX_CHAIN_LIST";function Gr({toChainId:o}){let e=xt(),r=ct(),i=(0,nr.useMemo)(()=>[...new Set(Object.values(r?.account||{}))].filter(Boolean),[r?.account]),{data:s,loading:l,error:m}=(0,ar.useRequest)(async()=>{if(!o)return Promise.reject();try{let{data:_,code:u}=await gt({deviceId:"",userWalletAddresses:i,toChainId:o});if(Number(u)===0){let{gasStationSupportChainList:N=[],isInBlackList:d}=_;return d===1?[]:N.filter(x=>!!e.find(p=>Number(p.chainId)===Number(x.chainId)))}return Promise.reject()}catch{return Promise.reject()}},{cacheKey:Dr,onError:()=>{},ready:!!o});return{chainList:s||[],isError:!!m,loading:l}}var sr=Gr;n();a();var D={"supply-gas":"_supply-gas_1rvpg_1",supplyGas:"_supply-gas_1rvpg_1","supply-gas__nav":"_supply-gas__nav_1rvpg_7",supplyGasNav:"_supply-gas__nav_1rvpg_7","supply-gas__nav-icon":"_supply-gas__nav-icon_1rvpg_17",supplyGasNavIcon:"_supply-gas__nav-icon_1rvpg_17","supply-gas__item":"_supply-gas__item_1rvpg_21",supplyGasItem:"_supply-gas__item_1rvpg_21","supply-gas__side":"_supply-gas__side_1rvpg_31",supplyGasSide:"_supply-gas__side_1rvpg_31","supply-gas__image":"_supply-gas__image_1rvpg_35",supplyGasImage:"_supply-gas__image_1rvpg_35","supply-gas__title":"_supply-gas__title_1rvpg_39",supplyGasTitle:"_supply-gas__title_1rvpg_39","supply-gas__title-text":"_supply-gas__title-text_1rvpg_44",supplyGasTitleText:"_supply-gas__title-text_1rvpg_44","supply-gas__title-label":"_supply-gas__title-label_1rvpg_48",supplyGasTitleLabel:"_supply-gas__title-label_1rvpg_48","supply-gas__desc":"_supply-gas__desc_1rvpg_62",supplyGasDesc:"_supply-gas__desc_1rvpg_62","supply-gas__container":"_supply-gas__container_1rvpg_67",supplyGasContainer:"_supply-gas__container_1rvpg_67",dialog:"_dialog_1rvpg_75",mask:"_mask_1rvpg_78",window:"_window_1rvpg_81"};var mr=({visible:o,closeCallback:e,receiveOnly:r,walletId:i,coinId:s,txId:l,address:m})=>{let[_,u]=(0,A.useState)(!1),[N,d]=(0,A.useState)(!1),[x,p]=(0,A.useState)(!1),I=(0,ir.useSelector)(st),{coin:f}=St(s,!1),{chainList:P,loading:H,isError:h}=sr({toChainId:f?.chainId}),K=(0,A.useMemo)(()=>{if(r||I||h)return!1;let{chainId:q}=f;return!!P.find(Te=>`${Te.chainId}`==`${q}`)},[I,f,P,r,h]);(0,A.useEffect)(()=>{o&&!H?K?p(!0):d(!0):(d(!1),p(!1),u(!1))},[o,K,H]);let Y={GAS_STATION:"gas-station",GAS_RECEIVE:"gas-receive"},R=[{title:t("swaptrade_transfer_title_swap_forgas"),label:t("swaptrade_transfer_tag_recommend"),desc:t("swaptrade_transfer_text_swap_forgasdesc",{token:f?.symbol}),type:Y.GAS_STATION},{title:t("swaptrade_transfer_title_receive_gas"),label:null,desc:t("swaptrade_transfer_text_receive_gasdesc",{token:f?.symbol}),type:Y.GAS_RECEIVE}],oe=()=>{u(!0)},de=()=>{u(!1)},fe=()=>{d(!0)},B=()=>{d(!1),x||e()},ge=q=>{switch(q){case Y.GAS_STATION:oe();break;case Y.GAS_RECEIVE:default:fe();break}},te=()=>A.default.createElement("div",{className:D["supply-gas"]},A.default.createElement("div",{className:D["supply-gas__nav"]},A.default.createElement("div",null,t("swaptrade_header_title_fillup_gas",{token:f?.symbol})),A.default.createElement(Xo,{className:(0,lr.default)(D["supply-gas__nav-icon"],D["okx-wallet-plugin-close"]),onClick:e})),R.map(({title:q,label:Te,desc:Be,type:to})=>A.default.createElement("div",{className:D["supply-gas__item"],key:to,onClick:()=>{ge(to)}},A.default.createElement("div",{className:D["supply-gas__main"]},A.default.createElement("div",{className:D["supply-gas__title"]},A.default.createElement("div",{className:D["supply-gas__title-text"]},q),Te&&A.default.createElement("div",{className:D["supply-gas__title-label"]},Te)),A.default.createElement("div",{className:D["supply-gas__desc"]},Be)))));return H||h?null:A.default.createElement(A.default.Fragment,null,A.default.createElement(me.Action,{onClose:()=>{e()},visible:x,maskClosable:!0,hideCloseBtn:!0,noTopRadius:!1,windowStyle:{overflow:"hidden",padding:"0"},zIndex:1e3,alignBottom:!0,noContentPadding:!0,className:D.dialog,maskClassName:D.mask,windowClass:D.window,getContainer:()=>document.querySelector(".app-content")},te()),A.default.createElement(g.Portal,{noStyle:!0},_?A.default.createElement(g.Box,{className:D["supply-gas__container"]},A.default.createElement(rr,{walletId:i,onClose:de,chainId:f?.chainId,chainName:f?.chainName,txId:l})):null),A.default.createElement(me.Action,{title:t("wallet_home_btn_receive"),onClose:B,visible:N,maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden",padding:"0"},zIndex:1001,alignBottom:!0,noContentPadding:!0,className:D.dialog,maskClassName:D.mask,windowClass:D.window,getContainer:()=>document.querySelector(".app-content")},A.default.createElement(Ct,{coinId:s,address:m,onBack:B,onClose:B,closeable:!1,hideNavigator:!0,showTop:!0})))};n();a();var J=y(L());var cr=y(xe());V();var Re=y(ao());n();a();var Ie={FILL_UP:"FILL_UP",CONFIRM:"CONFIRM",CANCEL:"CANCEL",ETH_SIGN:"ETH_SIGN"},Uo=o=>{o&&typeof o!="string"&&(o=String(o));let e=o?.length;return e<14?16:e<16?14:12},Rr=o=>{o&&typeof o!="string"&&(o=String(o));let e=o?.length;return e<8?16:e<9?14:12},zo={[Ie.ETH_SIGN]:{size:C.SIZE.lg,type:C.TYPE.red,category:C.CATEGORY.fill,btnText:"extension_transactions_btn_confirm",autoSize:Uo},[Ie.CONFIRM]:{size:C.SIZE.lg,type:C.TYPE.highlight,category:C.CATEGORY.fill,btnText:"extension_transactions_btn_confirm",autoSize:Uo},[Ie.CANCEL]:{size:C.SIZE.lg,type:C.TYPE.primary,category:C.CATEGORY.outline,autoSize:Rr,btnText:"wallet_extension_btn_general_cancel"},[Ie.FILL_UP]:{size:C.SIZE.lg,type:C.TYPE.highlight,category:C.CATEGORY.fill,autoSize:Uo,btnText:"wallet_extension_placeorder_textbtn_replenish"}};n();a();var go={"action-buttons":"_action-buttons_j3bvq_1",actionButtons:"_action-buttons_j3bvq_1","action-button":"_action-button_j3bvq_1",actionButton:"_action-button_j3bvq_1","action-button__content":"_action-button__content_j3bvq_12",actionButtonContent:"_action-button__content_j3bvq_12"};var _r=({coinId:o,onClick:e,onAction:r,actionType:i,btnText:s,children:l,autoSize:m,..._})=>{let[u,{toggle:N}]=(0,Re.useBoolean)(!1),{btnText:d,autoSize:x,...p}=zo[i]||{},I=(0,J.useMemo)(()=>s||t(d),[s,d]),f=(0,Re.useMemoizedFn)(async()=>{if(typeof e=="function"||typeof r=="function")try{N(),e&&await e?.(i),!e&&r&&await r?.(i)}catch(P){console.log(P)}finally{N()}},[i,e,r]);return J.default.createElement(C,{loading:u,...p,..._,className:go["action-button"],contentClassName:go["action-button__content"],onClick:f},J.default.createElement(c.AdaptiveText,{inherit:!0,autoSize:m||x,ellipsis:{tooltip:!0},style:{lineHeight:"20px"}},I))},Br=({txId:o,coinId:e,walletId:r,address:i,actionType:s,onClick:l,receiveOnly:m,..._})=>{let u=Et(e),[N,{toggle:d}]=(0,Re.useBoolean)(),{btnText:x}=zo[s],p=(0,Re.useMemoizedFn)(async()=>{d(),l&&await l()},[]);return J.default.createElement(J.default.Fragment,null,J.default.createElement(_r,{onClick:p,actionType:s,btnText:t(x,{token:u?.symbol}),..._}),J.default.createElement(mr,{walletId:r,address:i,visible:N,closeCallback:d,coinId:e,txId:o,receiveOnly:m}))},pr=({className:o,buttonGroup:e,children:r,onAction:i})=>J.default.createElement(g.FlexBox,{className:(0,cr.default)(go["action-buttons"],o)},(e||[])?.map((s,l)=>s?s?.children?s?.children:s?.actionType===Ie.FILL_UP?J.default.createElement(Br,{...s,key:l}):J.default.createElement(_r,{...s,key:l,onCallback:i}):null),r);pr.ACTION_TYPE=Ie;var jm=pr;export{zt as a,ia as b,Ut as c,ko as d,ya as e,Na as f,xa as g,Ea as h,Lo as i,ba as j,va as k,ka as l,Oa as m,Mt as n,za as o,mr as p,jm as q};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-UTVBVZWC.js.map
