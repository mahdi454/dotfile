import{a as z}from"./chunk-YKMF3JI2.js";import{a as ae,c as H,d as L}from"./chunk-4HBLPFAF.js";import{a as ie}from"./chunk-MYY7DCIN.js";import{d as se,q as le}from"./chunk-QHZHYX4V.js";import{e as re}from"./chunk-YJ2NGJXA.js";import{$a as oe}from"./chunk-DUKP4BLI.js";import{q as p}from"./chunk-FZCNSMLW.js";import{g as ee}from"./chunk-WANYNTD6.js";import{w as _e}from"./chunk-3TDWET6C.js";import{a as fe}from"./chunk-VPGNJAK6.js";import{c as i}from"./chunk-FDCWN4NG.js";import{Mc as he,xc as te}from"./chunk-O3CM75EN.js";import{A as G,G as X,b as q}from"./chunk-J3CEQI22.js";import{j as J,pa as ce}from"./chunk-VFHYER2K.js";import{L as C,w as _}from"./chunk-KJIO572I.js";import{T as k,Z as j,c as Q}from"./chunk-KALFZBR5.js";import{a as M}from"./chunk-V55FEIYE.js";import{a as x}from"./chunk-EAZTJZU7.js";import{f as d,m as r,o as s}from"./chunk-ZCHLW7CF.js";r();s();var S=d(x()),ye=(e,o=e.showMe)=>(0,S.memo)(l=>o(l)?S.default.createElement(e,{...l}):null),ne=ye;r();s();var Z=d(Q());ce();var D=d(M());C();var me=d(_e());var f=d(x());he();r();s();var N={root:"_root_1dloi_1",main:"_main_1dloi_4",notAllowed:"_notAllowed_1dloi_9",iconWrap:"_iconWrap_1dloi_20",loader:"_loader_1dloi_26",icon:"_icon_1dloi_20",btnText:"_btnText_1dloi_36"};var U=({keyringIdentity:e,createdCb:o})=>{let l=le(),t=(0,me.useSelector)(ee),[a,c]=(0,f.useState)(!1),u=(0,f.useCallback)(async()=>{t||a||(c(!0),l(e?.keyringId).then(m=>{c(!1),m&&o(m)}).catch(m=>{m.message===se&&X.error({title:_("wallet_extension_error_reminder_system_busy")}),c(!1)}))},[a,o,l,e,t]),n=(0,f.useMemo)(()=>{if(t)return _("wallet_extension_addaccount_text_feature_unavailable")},[t]);return f.default.createElement(G,{title:n,className:N.root,placement:G.DIRECTION.top,maxWidth:328},f.default.createElement(i.FlexBox,{align:i.ALIGN.center,onClick:u,className:(0,Z.default)(N.main,{[N.notAllowed]:t})},f.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:i.ALIGN.center,className:N.iconWrap},a?f.default.createElement(j.Circle,{className:N.loader,size:j.SIZE.md}):f.default.createElement(k,{className:(0,Z.default)("okx-wallet-plugin-plus",N.icon)})),f.default.createElement(i.Box,{className:N.btnText},_("wallet_manage_wallet_btn_add_acoount"))))},ge=e=>{let{keyringIdentity:o,keyword:l,isRpcMode:t}=e;return l?!1:o?.keyringIdentityType===te.MNEMONIC&&!J(o,"walletIdentities.0.needBackup",!1)?!0:re(o?.initialType)?!t:(ie(o?.keyringIdentityType),!1)};U.propTypes={keyringIdentity:D.default.object.isRequired,createdCb:D.default.func.isRequired};var Ge=ne(U,ge),He=U;r();s();var F=d(x()),E=d(M());C();r();s();var T=d(x()),A=d(M());C();r();s();var B={walletAsset:"_walletAsset_1rhpe_1",unsupport:"_unsupport_1rhpe_8"};var V=(0,T.memo)(e=>{let{isRpcMode:o,currentRpcNetwork:l,hiddenAssets:t,walletAsset:a,hiddenText:c,unsopportCurrentNetwork:u}=e,n=()=>u?_("extension_wallet_list_not_support",{network:l?.chainName}):t?c:a||`0 ${l?.symbol}`;return T.default.createElement(T.default.Fragment,null,o?T.default.createElement(p.Text,{ellipsis:!0,className:{[B.walletAsset]:!0,[B.unsupport]:u}},n()):T.default.createElement(p.DisplayAmount,{ellipsis:!0,mode:p.LEGAL,useApproximate:!1,hidden:t?c:!1,className:B.walletAsset},a))});V.defaultProps={hiddenText:"***"};V.propTypes={isRpcMode:A.default.bool.isRequired,hiddenAssets:A.default.bool.isRequired,walletAsset:A.default.oneOfType([A.default.string,A.default.number]).isRequired,hiddenText:A.default.string};var P=V;r();s();var R={root:"_root_18r9p_1",keyringName:"_keyringName_18r9p_4",highlight:"_highlight_18r9p_12"};var Y=e=>{let{keyword:o,keyringIdentity:l,isRpcMode:t,hiddenAssets:a,currentRpcNetwork:c,isMpcWallet:u}=e,n=u?_("wallet_extension_tools_tab_keyless"):"";return F.default.createElement(i.FlexBox,{className:R.root},F.default.createElement(p.HighlightKeyword,{keyword:o,className:R.keyringName,text:l?.keyringName,highlightClassName:R.highlight,badge:n,ellipsis:{tooltip:!0}}),F.default.createElement(P,{isRpcMode:t,currentRpcNetwork:c,hiddenAssets:a,walletAsset:l?.walletAsset}))};Y.defaultProps={keyword:""};Y.propTypes={keyword:E.default.string,keyringIdentity:E.default.object.isRequired,isRpcMode:E.default.bool.isRequired,hiddenAssets:E.default.bool.isRequired};var ht=Y;r();s();var b=d(x()),pe=d(fe());C();var bt=({keyringIdentity:e,className:o})=>{let l=(0,pe.useHistory)(),{accountStatus:t,mpcStatus:a}=e?.status||{},c=(0,b.useMemo)(()=>{switch(!0){case a===L.RECOVER:return _("wallet_extension_mpc_alert_scanqr_sync");case a===L.ESCAPE:return _("wallet_extension_mpc_alert_keyless_escaped");case t===H.FROZEN:return _("wallet_extension_mpc_alert_account_frozen");case t===H.DELETE:return _("wallet_extension_mpc_alert_account_closed");default:return""}},[t,a]),u=()=>{switch(!0){case a===L.RECOVER:return b.default.createElement(k,{className:"okx-wallet-plugin-right"});default:return null}},n=()=>{switch(!0){case a===L.RECOVER:{let m=e?.walletIdentities?.[0]?.walletId;l.push(`${oe}?action=${ae.RECOVER}&walletId=${m}`);break}default:break}};return c?b.default.createElement(i.Box,{className:o},b.default.createElement(q,{title:c,type:q.TYPE.warn,closable:!1,rightActionText:u(),onRightAction:n})):null};r();s();var w=d(x()),I=(e,o)=>{let l=e?.toLowerCase()||"";return(o?.toLowerCase()||"").includes(l)},we=(e=[])=>{let[o,l]=(0,w.useState)(""),[t,a]=(0,w.useState)(""),c=(0,w.useCallback)(n=>{let m=n?.target?.value||"";m=m?.trimStart()||"",l(m)},[]);(0,w.useEffect)(()=>{a(o?.trim()||"")},[o]);let u=(0,w.useMemo)(()=>t?e.map((n={})=>{if(I(t,n?.keyringName))return n;let m=n?.walletIdentities?.filter(O=>I(t,O?.walletName))||[];if(m.length)return{...n,walletIdentities:m};let W=n?.walletIdentities?.filter(O=>Object.values(O.account).some(de=>I(t,de)))||[];return W.length?{...n,walletIdentities:W}:null}).filter(Boolean):e||[],[e,t]);return{keyword:o,trimedKeyWord:t,onKeyWordChange:c,filteredKeyringIdentities:u}},It=we;r();s();var K=d(x()),xe=3e3,Ne=()=>{let[e,o]=(0,K.useState)(),l=(0,K.useCallback)(t=>{o(t),setTimeout(()=>{o("")},xe)},[]);return[e,l]},St=Ne;r();s();var y=d(x()),ue=d(Q()),v=d(M());C();r();s();var h={root:"_root_vo6vv_1",detail:"_detail_vo6vv_5",avatar:"_avatar_vo6vv_5",main:"_main_vo6vv_9",walletNameWrap:"_walletNameWrap_vo6vv_13",walletName:"_walletName_vo6vv_13",subWalletName:"_subWalletName_vo6vv_24",badge:"_badge_vo6vv_29",highlight:"_highlight_vo6vv_32",inline:"_inline_vo6vv_35",disabled:"_disabled_vo6vv_38"};var $=({keyword:e,children:o,disabled:l,isRpcMode:t,currentRpcNetwork:a,hiddenAssets:c,walletIdentity:u})=>{let m=Object.values(u?.account||{}).filter(W=>e&&I(e,W));return y.default.createElement(i.Box,{className:(0,ue.default)(h.root,{[h.disabled]:l})},y.default.createElement(i.FlexBox,{className:h.detail,align:i.ALIGN.center},y.default.createElement(z,{size:z.SIZE.sm,className:h.avatar,walletIdentity:u}),y.default.createElement(i.FlexBox,{justify:i.ALIGN.center,direction:i.DIRECTION.vertical,className:h.main},y.default.createElement(i.FlexBox,{className:h.walletNameWrap},y.default.createElement(p.HighlightKeyword,{keyword:e,text:u?.walletName,className:h.walletName,highlightClassName:h.highlight,ellipsis:{tooltip:!0}})),m.length>0?y.default.createElement(i.Box,null,y.default.createElement(p.Text,{type:p.TYPE.secondary,size:p.SIZE.sm,className:h.inline},_("extension_wallet_search_text_account_include")),m.length===1?y.default.createElement(p.HighlightKeyword,{type:p.TYPE.secondary,size:p.SIZE.sm,keyword:e,text:m[0],className:h.inline,forceWrap:!0,highlightClassName:h.highlight}):y.default.createElement(p.Text,{type:p.TYPE.secondary,size:p.SIZE.sm,className:h.highlight,forceWrap:!0},e)):y.default.createElement(P,{isRpcMode:t,currentRpcNetwork:a,hiddenAssets:c,walletAsset:u?.walletAsset,unsopportCurrentNetwork:u?.unsupported}))),o)};$.defaultProps={children:null};$.propTypes={keyword:v.default.string.isRequired,isRpcMode:v.default.bool.isRequired,disabled:v.default.bool.isRequired,children:v.default.node,hiddenAssets:v.default.bool.isRequired,walletIdentity:v.default.object.isRequired};var $t=$;export{ne as a,Ge as b,He as c,ht as d,bt as e,It as f,$t as g,St as h};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-IXMTS7C2.js.map
