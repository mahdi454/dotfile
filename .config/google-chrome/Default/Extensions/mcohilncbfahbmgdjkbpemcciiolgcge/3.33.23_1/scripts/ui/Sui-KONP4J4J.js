import{a as z}from"./chunk-DZCALEW6.js";import{a as j}from"./chunk-FHYCI7EC.js";import{b as V}from"./chunk-F4T6Q6QK.js";import{a as U}from"./chunk-ZRAG5WLF.js";import{a as K}from"./chunk-3BOIX6DD.js";import{a as W}from"./chunk-4IDSMRQU.js";import{a as q}from"./chunk-65VFWMII.js";import"./chunk-ID2G3YUZ.js";import"./chunk-7KXE5PFN.js";import"./chunk-F7YYSTTZ.js";import{a as Y}from"./chunk-SYQTAGUC.js";import"./chunk-X6LGMUFV.js";import"./chunk-6M2GCKDH.js";import{b as v,k as X}from"./chunk-NHNDGUWA.js";import"./chunk-EU22H7NN.js";import{a as D}from"./chunk-KTRYKYE5.js";import"./chunk-V2A2AEVZ.js";import{a as O}from"./chunk-KU3DITYD.js";import{g as b}from"./chunk-7CWLH6ZR.js";import"./chunk-UUX3UNZW.js";import"./chunk-QCTV4R7X.js";import"./chunk-SIIB3XCZ.js";import"./chunk-GUGRL7WK.js";import"./chunk-6ZHQ2QLX.js";import"./chunk-S4NIXE4H.js";import"./chunk-UTVBVZWC.js";import"./chunk-GL4YYTXQ.js";import"./chunk-4MDR2IS2.js";import"./chunk-GZN3TPOZ.js";import"./chunk-ZN3567SM.js";import"./chunk-SJCGLHGC.js";import{d as N}from"./chunk-GQYTOJVD.js";import"./chunk-7HZMPY3W.js";import"./chunk-QTEBOXIQ.js";import{a as F}from"./chunk-K4WB5MMU.js";import"./chunk-FSQDFL3V.js";import"./chunk-YLJ56YQC.js";import"./chunk-YVC4CAU2.js";import"./chunk-K4MSA5MN.js";import"./chunk-4HBLPFAF.js";import"./chunk-TJW4EUGS.js";import"./chunk-SJRV5U24.js";import"./chunk-PUMQ7BEU.js";import"./chunk-4OKCKO5L.js";import"./chunk-SKK4O3IC.js";import"./chunk-L4BR2EHM.js";import"./chunk-AQH6QKNE.js";import"./chunk-6IVHTBSR.js";import"./chunk-75OW6LUI.js";import"./chunk-W4IULSMQ.js";import"./chunk-UXRYSOKP.js";import"./chunk-ABSI53HE.js";import"./chunk-JJIQEHOY.js";import"./chunk-AE7B6XHD.js";import"./chunk-HC6T2TFK.js";import"./chunk-JMTMYFWR.js";import"./chunk-RE5SSELD.js";import"./chunk-A3B5II6P.js";import"./chunk-XVPROSYE.js";import"./chunk-E2MXYP3A.js";import"./chunk-FPV6XIHQ.js";import"./chunk-MZXFJMVC.js";import"./chunk-46PSZUMN.js";import"./chunk-MYY7DCIN.js";import"./chunk-AHIMORZ4.js";import"./chunk-XZ6AHFH2.js";import"./chunk-3DEZPDXQ.js";import"./chunk-6UFIPREK.js";import"./chunk-G4OIO3Z6.js";import"./chunk-JEIYTQ5E.js";import"./chunk-TOO5SEJU.js";import"./chunk-DUWPYFAS.js";import"./chunk-CA4PB6NG.js";import"./chunk-SCXRHDUG.js";import"./chunk-5STCPPZU.js";import"./chunk-ZVXDJZSD.js";import"./chunk-56SDY6L3.js";import"./chunk-PXWV5LKL.js";import"./chunk-M5PVKGM6.js";import"./chunk-AK34CZMZ.js";import"./chunk-QHZHYX4V.js";import"./chunk-FLFVNMKM.js";import"./chunk-YJ2NGJXA.js";import"./chunk-DQ2UEFEE.js";import"./chunk-ZUBNNPBM.js";import"./chunk-2SHHGXPQ.js";import"./chunk-UK4SAM7E.js";import"./chunk-LXIBKSOK.js";import"./chunk-C53RLQYB.js";import"./chunk-72NGWMH2.js";import"./chunk-VRXSSD45.js";import"./chunk-DUKP4BLI.js";import"./chunk-S3O4LR55.js";import"./chunk-FZCNSMLW.js";import"./chunk-WANYNTD6.js";import"./chunk-QMGTBJAL.js";import"./chunk-KCWFMCND.js";import"./chunk-3TDWET6C.js";import{$ as P,J as _,_ as C}from"./chunk-EBR3PGFZ.js";import"./chunk-UDGUBKMO.js";import"./chunk-VPGNJAK6.js";import"./chunk-W6Q44ZHW.js";import"./chunk-3HS6AHPS.js";import"./chunk-JUXPONKW.js";import"./chunk-WSUAESF2.js";import"./chunk-O2FUKKO3.js";import"./chunk-GQJVAWGG.js";import"./chunk-WO5B666G.js";import"./chunk-GCXT25LW.js";import"./chunk-TW63K7CB.js";import"./chunk-FDCWN4NG.js";import"./chunk-5YGMD6KK.js";import{Ga as h,Mb as k,Ya as se,dc as ne}from"./chunk-O3CM75EN.js";import"./chunk-ZGRAPBBU.js";import"./chunk-J3CEQI22.js";import{K as B,pa as re}from"./chunk-VFHYER2K.js";import{L as oe,w as L}from"./chunk-KJIO572I.js";import"./chunk-HJXNXGYU.js";import"./chunk-77ECUYXV.js";import"./chunk-4BZBCAHV.js";import"./chunk-KALFZBR5.js";import"./chunk-V55FEIYE.js";import{a as I}from"./chunk-EAZTJZU7.js";import"./chunk-YTRW5WTJ.js";import"./chunk-3AN5FAZD.js";import"./chunk-VOT7VHG3.js";import"./chunk-SYQUJKIR.js";import"./chunk-WPMHLM7C.js";import"./chunk-3MRE2BAK.js";import"./chunk-CSLLQXN7.js";import"./chunk-P7DU4NJA.js";import"./chunk-KW7JYBDS.js";import"./chunk-224G4QSH.js";import{f as A,m as i,o as a}from"./chunk-ZCHLW7CF.js";i();a();var w=A(I());i();a();var y=A(I());se();i();a();re();oe();i();a();var E=A(I());var H=(e,t)=>{let{from:l,transaction:o,provider:m}=e,[x,c]=(0,E.useState)(!1),[n,r]=(0,E.useState)(null),[d,u]=(0,E.useState)(!1),[f,S]=(0,E.useState)("");return(0,E.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=X.from(o);s.setSenderIfNotSet(l);let p="";m&&(p=v(await s.build({client:m}))),t&&await t(p),r({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),u(!1),S("")}catch(s){u(!0),S(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:x,error:d,errorMsg:f,result:n}};ne();var ie=({coinId:e,unapproved:t,preExecuteRet:l})=>{let o=F(t),{address:m,walletId:x}=o,{verifyGasLimitRet:c}=l,n=D(e,x)||{},{coinAmountInt:r}=n,{loading:d,result:u={},error:f,errorMsg:S}=H({from:m,transaction:t?.params?.transaction,provider:j}),g=u?.fee,s=(B(r)||k(r,g))&&!b(c),p=B(r)||k(r,0),G={coinId:e,loading:d,estimateFailed:f,networkFee:g},R;return f&&S&&(R=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:S})),{loading:d,networkFee:u,networkFeeProps:G,isSufficientGas:s,estimateFailed:f,estimateFailedMsg:R,isSufficientBalance:p,coinWithBalance:n}},J=ie;i();a();var T=A(I());var ae=({coinId:e,unapproved:t})=>{let l=O(),[o,m]=(0,T.useState)(!0),{host:x}=Y(t),{address:c}=F(t),[n,r]=(0,T.useState)({}),d=(0,T.useMemo)(()=>({checkTypes:[C.VERIFY_GAS_LIMIT,C.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:x}),[c,e]),u=async(g,s)=>{let p=await l({...d,chainId:s,inputData:g});r(p),m(!1)},f=(0,T.useMemo)(()=>n[C.VERIFY_GAS_LIMIT]||{},[n]);return{kysRet:(0,T.useMemo)(()=>({loading:o,...n[C.KYS]||{}}),[o,n]),loading:o,preExecuteRet:n,firePreExecute:u,verifyGasLimitRet:f}},Q=ae;var ce=(0,y.memo)(({unapproved:e})=>{let t=N(h)||{},l=t?.coinId||h,o=t?.chainIndex||t?.chainId||"",m=Q({unapproved:e,coinId:l}),{firePreExecute:x,kysRet:c,verifyGasLimitRet:n}=m,{networkFee:r,networkFeeProps:d,isSufficientGas:u,estimateFailed:f,estimateFailedMsg:S,loading:g,isSufficientBalance:s,coinWithBalance:p}=J({coinId:l,unapproved:e,preExecuteRet:m});(0,y.useEffect)(()=>{r?.txBytes&&o&&x(r?.txBytes,o)},[r?.txBytes,o]);let G=K({kysRet:c,baseCoin:t,estimateFailed:f,estimateFailedMsg:S,isSufficientGas:u,verifyGasLimitRet:n,isSufficientBalance:s,coinWithBalance:p}),{buttonGroup:R,handleCancel:te}=V({coinId:l,unapproved:e,feeLoading:g,preExecuteRet:m,estimateFailed:f,isSufficientGas:u,isSufficientBalance:s,extParams:{txBytes:r?.txBytes,fee:r?.fee},coinWithBalance:p});return W({kysRet:c,handleCancel:te}),y.default.createElement(U,{kysRet:c,unapproved:e,tipMessage:G,buttonGroup:R,networkFee:d})}),Z=ce;i();a();var $=A(I());function me(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var ee=({unapproved:e})=>{let t=me(z(e.params?.message));return $.default.createElement(q,{message:t,unapproved:e})};var Ze=({unapproved:e})=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:return w.default.createElement(Z,{unapproved:e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return w.default.createElement(ee,{unapproved:e});default:return""}};export{Ze as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-KONP4J4J.js.map
