import{a as B}from"./chunk-V2A2AEVZ.js";import{g as v,h as z}from"./chunk-7CWLH6ZR.js";import{q as e}from"./chunk-UTVBVZWC.js";import{a as H}from"./chunk-K4WB5MMU.js";import{a as W}from"./chunk-FSQDFL3V.js";import{h as S,i as j}from"./chunk-A3B5II6P.js";import{o as ct}from"./chunk-KCWFMCND.js";import{w as Y}from"./chunk-3TDWET6C.js";import{Na as C,Ra as q}from"./chunk-W6Q44ZHW.js";import{L as nt,w as x}from"./chunk-KJIO572I.js";import{a as at}from"./chunk-EAZTJZU7.js";import{f as d,m as _,o as y}from"./chunk-ZCHLW7CF.js";_();y();var J=d(Y()),K=d(ct());q();function st({id:a,walletId:n,origin:c,localType:T,extraParams:k}){let i=(0,J.useDispatch)(),s=B(n);return(0,K.useMemoizedFn)(async()=>{s({trade:"contract_interaction",all_confirmation:"cancel",network:T,dapp_url:c}),await i(S(a,k)),await C(i)})}var Q=st;_();y();var t=d(at()),V=d(Y());nt();q();var lt=({coinId:a,unapproved:n,networkFee:c,feeLoading:T,estimateFailed:k=!1,preExecuteRet:i={},isSufficientGas:s,isSufficientBalance:X=!0,extParams:D,needCheckMpc:I=!1,chainConfirmDisabled:Z=!1,onCancel:l,onConfirm:p,disabledConfirmBtn:$,coinWithBalance:tt})=>{let{id:r,origin:w,localType:E}=n,P=(0,V.useDispatch)(),{address:L,walletId:o}=H(n),{loading:ot=!1,verifyGasLimitRet:N={}}=i,g=Q({id:r,walletId:o,origin:w,localType:E}),h=!s||!X||v(N),A=B(o),u=(0,t.useCallback)(async()=>{l&&typeof l=="function"?await l():await g()},[l,g]),rt={onClick:u,actionType:e.ACTION_TYPE.CANCEL,btnText:x("wallet_dapp_connection_btn_reject")},f=$||T||k||ot||z(N)||Z,F=(0,t.useCallback)(async()=>{try{if(I&&!await W({walletId:o,callback:u}))return;p&&typeof p=="function"?p({networkFee:c}):(A({page_type:"contract_interaction",all_confirmation:"confirm",network:E,dapp_url:w}),await P(j(r,D)),await C(P))}catch(U){console.log("error",U)}},[w,I,p,o,u,c,A,E,P,r,D]),{isBalanceLoadError:M,requestBalance:O,isBalanceLoading:m}=tt,b=(0,t.useMemo)(()=>({disabled:f,onClick:F,loading:m,actionType:e.ACTION_TYPE.CONFIRM}),[f,F,m]),R=(0,t.useMemo)(()=>({actionType:e.ACTION_TYPE.FILL_UP,txId:r,coinId:a,walletId:o,address:L}),[L,a,r,s,o]),G=(0,t.useMemo)(()=>({onClick:O,btnText:x("wallet_extension_transfer_error_text_reload"),actionType:e.ACTION_TYPE.CONFIRM}),[O]),et=(0,t.useMemo)(()=>f?b:M&&!m?G:h?R:b,[b,f,R,h,G,m,M]);return{buttonGroup:[rt,et],handleCancel:u}},xt=lt;export{Q as a,xt as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-F4T6Q6QK.js.map
