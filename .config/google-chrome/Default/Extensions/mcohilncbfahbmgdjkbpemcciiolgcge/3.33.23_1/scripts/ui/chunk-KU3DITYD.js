import{a as B,b,i as m}from"./chunk-7CWLH6ZR.js";import{e as E}from"./chunk-FPV6XIHQ.js";import{ca as p,d as h,p as P,x as A}from"./chunk-5STCPPZU.js";import{o as M}from"./chunk-KCWFMCND.js";import{m as y}from"./chunk-3TDWET6C.js";import{_ as C,ba as _}from"./chunk-EBR3PGFZ.js";import{o as c}from"./chunk-J3CEQI22.js";import{F as k,f as g,pa as S}from"./chunk-VFHYER2K.js";import{L as O,w as e}from"./chunk-KJIO572I.js";import{ca as a}from"./chunk-KALFZBR5.js";import{a as R}from"./chunk-EAZTJZU7.js";import{f as x,m as T,o as w}from"./chunk-ZCHLW7CF.js";T();w();var D=x(R()),i=x(M());S();O();var W=()=>(0,i.useMemoizedFn)(async n=>{try{let{data:r}=await E(n);return m(r,n?.checkTypes,n)}catch{return m([],n?.checkTypes,{preExecuteFailed:!0})}},[]);var I=()=>{let{getStrongBlackAddressModalParams:n}=B();return(0,i.useMemoizedFn)(async(r,l)=>{let t=r;if(t?.similarType!==_.EXACT&&!t?.isDefraud)return Promise.resolve();let o=r?.address||l?.address||"";t?.similarType===_.EXACT&&A({resource:"extension",black_address:o});let d=r?.rawAddress||y(o),s={};if(t?.tagExt)s=n(t.address);else{let u=t?.isDefraud?t.msg:e("wallet_extension_modaldesc_riskaddress",{accountAddress:d});s={screenOne:{title:e("wallet_extension_protocol_popup_risk_warning"),desc:u,mainBtnText:e("wallet_extension_function_btn_cancel"),subBtnText:e("wallet_extension_function_btn_advanced")},screenTwo:{title:e("wallet_extension_protocol_popup_risk_warning"),desc:e("wallet_extension_function_desc_developer_continue"),mainBtnText:e("wallet_extension_mid_dialog_btn_cancel"),subBtnText:e("wallet_extension_function_btn_continue_transaction")},monitorEvt:t?.isDefraud?P:g}}return new Promise((u,F)=>{let f=c.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:D.default.createElement(b,{modalParams:s,handleCancel:()=>{h(),F(),f.destroy()},closeModal:()=>{u(),f.destroy()}})})})},[])},J=()=>{let n=W();return(0,i.useMemoizedFn)(async(r,l)=>{let t=r;return k(r)&&(t=(await n(l))[C.CONTRACT_ADDRESS]||{}),new Promise((o,d)=>{if(t?.isContract){let s=c.prompt({alignBottom:!1,hideCloseBtn:!0,infoType:c.Prompt.INFO_TYPE.warn,confirmBtnProps:{type:a.TYPE.highlight,size:a.SIZE.lg},cancelBtnProps:{category:a.CATEGORY.outline,size:a.SIZE.lg},title:e("wallet_extension_address_popup_security_alert"),confirmText:e("wallet_extension_address_popup_btn_cancel"),cancelText:e("wallet_extension_address_popup_btn_continue"),text:e("wallet_extension_address_popup_security_alert_desc"),onConfirm:()=>{p({is_click_cancel_reject_link:!0}),s.destroy(),d()},onCancel:()=>{p({is_click_continue_link:!0}),s.destroy(),o()}})}else o()})},[])};export{W as a,I as b,J as c};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-KU3DITYD.js.map
