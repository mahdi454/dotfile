import{a as yr}from"./chunk-6ABACXY3.js";import{a as $t}from"./chunk-P7DU4NJA.js";import{d as mr}from"./chunk-KW7JYBDS.js";import{c as wt,m as z,n as $,o as E}from"./chunk-ZCHLW7CF.js";var _t=wt(xt=>{"use strict";z();E();Object.defineProperty(xt,"__esModule",{value:!0});xt.isElementCollectionFixedSizeBeet=xt.isFixableBeet=xt.assertFixedSizeBeet=xt.isFixedSizeBeet=xt.BEET_TYPE_ARG_INNER=xt.BEET_TYPE_ARG_LEN=xt.BEET_PACKAGE=void 0;var gr=$t();xt.BEET_PACKAGE="@metaplex-foundation/beet";xt.BEET_TYPE_ARG_LEN="len";xt.BEET_TYPE_ARG_INNER="Beet<{innner}>";function Ui(a){return Object.keys(a).includes("byteSize")}xt.isFixedSizeBeet=Ui;function Mr(a,l=`${a} should have been a fixed beet`){(0,gr.strict)(Ui(a),l)}xt.assertFixedSizeBeet=Mr;function br(a){return typeof a.toFixedFromData=="function"&&typeof a.toFixedFromValue=="function"}xt.isFixableBeet=br;function wr(a){let l=Object.keys(a);return l.includes("length")&&l.includes("elementByteSize")&&l.includes("lenPrefixByteSize")}xt.isElementCollectionFixedSizeBeet=wr});var Zi=wt((Vi,Ve)=>{z();E();(function(a,l){"use strict";function f(c,t){if(!c)throw new Error(t||"Assertion failed")}function v(c,t){c.super_=t;var i=function(){};i.prototype=t.prototype,c.prototype=new i,c.prototype.constructor=c}function s(c,t,i){if(s.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(i=t,t=10),this._init(c||0,t||10,i||"be"))}typeof a=="object"?a.exports=s:l.BN=s,s.BN=s,s.wordSize=26;var m;try{typeof window<"u"&&typeof window.Buffer<"u"?m=window.Buffer:m=mr().Buffer}catch{}s.isBN=function(t){return t instanceof s?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,i){return t.cmp(i)>0?t:i},s.min=function(t,i){return t.cmp(i)<0?t:i},s.prototype._init=function(t,i,r){if(typeof t=="number")return this._initNumber(t,i,r);if(typeof t=="object")return this._initArray(t,i,r);i==="hex"&&(i=16),f(i===(i|0)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var n=0;t[0]==="-"&&(n++,this.negative=1),n<t.length&&(i===16?this._parseHex(t,n,r):(this._parseBase(t,i,n),r==="le"&&this._initArray(this.toArray(),i,r)))},s.prototype._initNumber=function(t,i,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(f(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),r==="le"&&this._initArray(this.toArray(),i,r)},s.prototype._initArray=function(t,i,r){if(f(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var u,d,p=0;if(r==="be")for(n=t.length-1,u=0;n>=0;n-=3)d=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[u]|=d<<p&67108863,this.words[u+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,u++);else if(r==="le")for(n=0,u=0;n<t.length;n+=3)d=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[u]|=d<<p&67108863,this.words[u+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,u++);return this._strip()};function g(c,t){var i=c.charCodeAt(t);if(i>=48&&i<=57)return i-48;if(i>=65&&i<=70)return i-55;if(i>=97&&i<=102)return i-87;f(!1,"Invalid character in "+c)}function y(c,t,i){var r=g(c,i);return i-1>=t&&(r|=g(c,i-1)<<4),r}s.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var u=0,d=0,p;if(r==="be")for(n=t.length-1;n>=i;n-=2)p=y(t,i,n)<<u,this.words[d]|=p&67108863,u>=18?(u-=18,d+=1,this.words[d]|=p>>>26):u+=8;else{var o=t.length-i;for(n=o%2===0?i+1:i;n<t.length;n+=2)p=y(t,i,n)<<u,this.words[d]|=p&67108863,u>=18?(u-=18,d+=1,this.words[d]|=p>>>26):u+=8}this._strip()};function b(c,t,i,r){for(var n=0,u=0,d=Math.min(c.length,i),p=t;p<d;p++){var o=c.charCodeAt(p)-48;n*=r,o>=49?u=o-49+10:o>=17?u=o-17+10:u=o,f(o>=0&&u<r,"Invalid character"),n+=u}return n}s.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,u=1;u<=67108863;u*=i)n++;n--,u=u/i|0;for(var d=t.length-r,p=d%n,o=Math.min(d,d-p)+r,e=0,h=r;h<o;h+=n)e=b(t,h,h+n,i),this.imuln(u),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(p!==0){var w=1;for(e=b(t,h,t.length,i),h=0;h<p;h++)w*=i;this.imuln(w),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red};function M(c,t){c.words=t.words,c.length=t.length,c.negative=t.negative,c.red=t.red}if(s.prototype._move=function(t){M(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=B}catch{s.prototype.inspect=B}else s.prototype.inspect=B;function B(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,i){t=t||10,i=i|0||1;var r;if(t===16||t==="hex"){r="";for(var n=0,u=0,d=0;d<this.length;d++){var p=this.words[d],o=((p<<n|u)&16777215).toString(16);u=p>>>24-n&16777215,n+=2,n>=26&&(n-=26,d--),u!==0||d!==this.length-1?r=q[6-o.length]+o+r:r=o+r}for(u!==0&&(r=u.toString(16)+r);r.length%i!==0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}if(t===(t|0)&&t>=2&&t<=36){var e=T[t],h=N[t];r="";var w=this.clone();for(w.negative=0;!w.isZero();){var x=w.modrn(h).toString(t);w=w.idivn(h),w.isZero()?r=x+r:r=q[e-x.length]+x+r}for(this.isZero()&&(r="0"+r);r.length%i!==0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}f(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},m&&(s.prototype.toBuffer=function(t,i){return this.toArrayLike(m,t,i)}),s.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};var Et=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)};s.prototype.toArrayLike=function(t,i,r){this._strip();var n=this.byteLength(),u=r||Math.max(1,n);f(n<=u,"byte array longer than desired length"),f(u>0,"Requested array length <= 0");var d=Et(t,u),p=i==="le"?"LE":"BE";return this["_toArrayLike"+p](d,n),d},s.prototype._toArrayLikeLE=function(t,i){for(var r=0,n=0,u=0,d=0;u<this.length;u++){var p=this.words[u]<<d|n;t[r++]=p&255,r<t.length&&(t[r++]=p>>8&255),r<t.length&&(t[r++]=p>>16&255),d===6?(r<t.length&&(t[r++]=p>>24&255),n=0,d=0):(n=p>>>24,d+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,i){for(var r=t.length-1,n=0,u=0,d=0;u<this.length;u++){var p=this.words[u]<<d|n;t[r--]=p&255,r>=0&&(t[r--]=p>>8&255),r>=0&&(t[r--]=p>>16&255),d===6?(r>=0&&(t[r--]=p>>24&255),n=0,d=0):(n=p>>>24,d+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},s.prototype._zeroBits=function(t){if(t===0)return 26;var i=t,r=0;return(i&8191)===0&&(r+=13,i>>>=13),(i&127)===0&&(r+=7,i>>>=7),(i&15)===0&&(r+=4,i>>>=4),(i&3)===0&&(r+=2,i>>>=2),(i&1)===0&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return(this.length-1)*26+i};function Ht(c){for(var t=new Array(c.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=c.words[r]>>>n&1}return t}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,r!==26)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},s.prototype.ior=function(t){return f((this.negative|t.negative)===0),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var i;this.length>t.length?i=t:i=this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this._strip()},s.prototype.iand=function(t){return f((this.negative|t.negative)===0),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this._strip()},s.prototype.ixor=function(t){return f((this.negative|t.negative)===0),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){f(typeof t=="number"&&t>=0);var i=Math.ceil(t/26)|0,r=t%26;this._expand(i),r>0&&i--;for(var n=0;n<i;n++)this.words[n]=~this.words[n]&67108863;return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,i){f(typeof t=="number"&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),i?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this._strip()},s.prototype.iadd=function(t){var i;if(this.negative!==0&&t.negative===0)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var u=0,d=0;d<n.length;d++)i=(r.words[d]|0)+(n.words[d]|0)+u,this.words[d]=i&67108863,u=i>>>26;for(;u!==0&&d<r.length;d++)i=(r.words[d]|0)+u,this.words[d]=i&67108863,u=i>>>26;if(this.length=r.length,u!==0)this.words[this.length]=u,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},s.prototype.add=function(t){var i;return t.negative!==0&&this.negative===0?(t.negative=0,i=this.sub(t),t.negative^=1,i):t.negative===0&&this.negative!==0?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(r===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,u;r>0?(n=this,u=t):(n=t,u=this);for(var d=0,p=0;p<u.length;p++)i=(n.words[p]|0)-(u.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;for(;d!==0&&p<n.length;p++)i=(n.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;if(d===0&&p<n.length&&n!==this)for(;p<n.length;p++)this.words[p]=n.words[p];return this.length=Math.max(this.length,p),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};function Ft(c,t,i){i.negative=t.negative^c.negative;var r=c.length+t.length|0;i.length=r,r=r-1|0;var n=c.words[0]|0,u=t.words[0]|0,d=n*u,p=d&67108863,o=d/67108864|0;i.words[0]=p;for(var e=1;e<r;e++){for(var h=o>>>26,w=o&67108863,x=Math.min(e,t.length-1),_=Math.max(0,e-c.length+1);_<=x;_++){var S=e-_|0;n=c.words[S]|0,u=t.words[_]|0,d=n*u+w,h+=d/67108864|0,w=d&67108863}i.words[e]=w|0,o=h|0}return o!==0?i.words[e]=o|0:i.length--,i._strip()}var At=function(t,i,r){var n=t.words,u=i.words,d=r.words,p=0,o,e,h,w=n[0]|0,x=w&8191,_=w>>>13,S=n[1]|0,F=S&8191,P=S>>>13,Lt=n[2]|0,k=Lt&8191,K=Lt>>>13,Ei=n[3]|0,D=Ei&8191,O=Ei>>>13,Ai=n[4]|0,L=Ai&8191,I=Ai>>>13,Fi=n[5]|0,U=Fi&8191,V=Fi>>>13,Ti=n[6]|0,Z=Ti&8191,Y=Ti>>>13,qi=n[7]|0,j=qi&8191,W=qi>>>13,Pi=n[8]|0,H=Pi&8191,J=Pi>>>13,ki=n[9]|0,Q=ki&8191,X=ki>>>13,$i=u[0]|0,tt=$i&8191,et=$i>>>13,Ki=u[1]|0,it=Ki&8191,rt=Ki>>>13,Ci=u[2]|0,nt=Ci&8191,st=Ci>>>13,Gi=u[3]|0,ot=Gi&8191,at=Gi>>>13,Ni=u[4]|0,ut=Ni&8191,ft=Ni>>>13,Ri=u[5]|0,ht=Ri&8191,lt=Ri>>>13,Di=u[6]|0,ct=Di&8191,dt=Di>>>13,Oi=u[7]|0,pt=Oi&8191,vt=Oi>>>13,Li=u[8]|0,mt=Li&8191,yt=Li>>>13,Ii=u[9]|0,gt=Ii&8191,Mt=Ii>>>13;r.negative=t.negative^i.negative,r.length=19,o=Math.imul(x,tt),e=Math.imul(x,et),e=e+Math.imul(_,tt)|0,h=Math.imul(_,et);var ze=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,o=Math.imul(F,tt),e=Math.imul(F,et),e=e+Math.imul(P,tt)|0,h=Math.imul(P,et),o=o+Math.imul(x,it)|0,e=e+Math.imul(x,rt)|0,e=e+Math.imul(_,it)|0,h=h+Math.imul(_,rt)|0;var Ee=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,o=Math.imul(k,tt),e=Math.imul(k,et),e=e+Math.imul(K,tt)|0,h=Math.imul(K,et),o=o+Math.imul(F,it)|0,e=e+Math.imul(F,rt)|0,e=e+Math.imul(P,it)|0,h=h+Math.imul(P,rt)|0,o=o+Math.imul(x,nt)|0,e=e+Math.imul(x,st)|0,e=e+Math.imul(_,nt)|0,h=h+Math.imul(_,st)|0;var Ae=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,o=Math.imul(D,tt),e=Math.imul(D,et),e=e+Math.imul(O,tt)|0,h=Math.imul(O,et),o=o+Math.imul(k,it)|0,e=e+Math.imul(k,rt)|0,e=e+Math.imul(K,it)|0,h=h+Math.imul(K,rt)|0,o=o+Math.imul(F,nt)|0,e=e+Math.imul(F,st)|0,e=e+Math.imul(P,nt)|0,h=h+Math.imul(P,st)|0,o=o+Math.imul(x,ot)|0,e=e+Math.imul(x,at)|0,e=e+Math.imul(_,ot)|0,h=h+Math.imul(_,at)|0;var Fe=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,o=Math.imul(L,tt),e=Math.imul(L,et),e=e+Math.imul(I,tt)|0,h=Math.imul(I,et),o=o+Math.imul(D,it)|0,e=e+Math.imul(D,rt)|0,e=e+Math.imul(O,it)|0,h=h+Math.imul(O,rt)|0,o=o+Math.imul(k,nt)|0,e=e+Math.imul(k,st)|0,e=e+Math.imul(K,nt)|0,h=h+Math.imul(K,st)|0,o=o+Math.imul(F,ot)|0,e=e+Math.imul(F,at)|0,e=e+Math.imul(P,ot)|0,h=h+Math.imul(P,at)|0,o=o+Math.imul(x,ut)|0,e=e+Math.imul(x,ft)|0,e=e+Math.imul(_,ut)|0,h=h+Math.imul(_,ft)|0;var Te=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,o=Math.imul(U,tt),e=Math.imul(U,et),e=e+Math.imul(V,tt)|0,h=Math.imul(V,et),o=o+Math.imul(L,it)|0,e=e+Math.imul(L,rt)|0,e=e+Math.imul(I,it)|0,h=h+Math.imul(I,rt)|0,o=o+Math.imul(D,nt)|0,e=e+Math.imul(D,st)|0,e=e+Math.imul(O,nt)|0,h=h+Math.imul(O,st)|0,o=o+Math.imul(k,ot)|0,e=e+Math.imul(k,at)|0,e=e+Math.imul(K,ot)|0,h=h+Math.imul(K,at)|0,o=o+Math.imul(F,ut)|0,e=e+Math.imul(F,ft)|0,e=e+Math.imul(P,ut)|0,h=h+Math.imul(P,ft)|0,o=o+Math.imul(x,ht)|0,e=e+Math.imul(x,lt)|0,e=e+Math.imul(_,ht)|0,h=h+Math.imul(_,lt)|0;var qe=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,o=Math.imul(Z,tt),e=Math.imul(Z,et),e=e+Math.imul(Y,tt)|0,h=Math.imul(Y,et),o=o+Math.imul(U,it)|0,e=e+Math.imul(U,rt)|0,e=e+Math.imul(V,it)|0,h=h+Math.imul(V,rt)|0,o=o+Math.imul(L,nt)|0,e=e+Math.imul(L,st)|0,e=e+Math.imul(I,nt)|0,h=h+Math.imul(I,st)|0,o=o+Math.imul(D,ot)|0,e=e+Math.imul(D,at)|0,e=e+Math.imul(O,ot)|0,h=h+Math.imul(O,at)|0,o=o+Math.imul(k,ut)|0,e=e+Math.imul(k,ft)|0,e=e+Math.imul(K,ut)|0,h=h+Math.imul(K,ft)|0,o=o+Math.imul(F,ht)|0,e=e+Math.imul(F,lt)|0,e=e+Math.imul(P,ht)|0,h=h+Math.imul(P,lt)|0,o=o+Math.imul(x,ct)|0,e=e+Math.imul(x,dt)|0,e=e+Math.imul(_,ct)|0,h=h+Math.imul(_,dt)|0;var Pe=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,o=Math.imul(j,tt),e=Math.imul(j,et),e=e+Math.imul(W,tt)|0,h=Math.imul(W,et),o=o+Math.imul(Z,it)|0,e=e+Math.imul(Z,rt)|0,e=e+Math.imul(Y,it)|0,h=h+Math.imul(Y,rt)|0,o=o+Math.imul(U,nt)|0,e=e+Math.imul(U,st)|0,e=e+Math.imul(V,nt)|0,h=h+Math.imul(V,st)|0,o=o+Math.imul(L,ot)|0,e=e+Math.imul(L,at)|0,e=e+Math.imul(I,ot)|0,h=h+Math.imul(I,at)|0,o=o+Math.imul(D,ut)|0,e=e+Math.imul(D,ft)|0,e=e+Math.imul(O,ut)|0,h=h+Math.imul(O,ft)|0,o=o+Math.imul(k,ht)|0,e=e+Math.imul(k,lt)|0,e=e+Math.imul(K,ht)|0,h=h+Math.imul(K,lt)|0,o=o+Math.imul(F,ct)|0,e=e+Math.imul(F,dt)|0,e=e+Math.imul(P,ct)|0,h=h+Math.imul(P,dt)|0,o=o+Math.imul(x,pt)|0,e=e+Math.imul(x,vt)|0,e=e+Math.imul(_,pt)|0,h=h+Math.imul(_,vt)|0;var ke=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(ke>>>26)|0,ke&=67108863,o=Math.imul(H,tt),e=Math.imul(H,et),e=e+Math.imul(J,tt)|0,h=Math.imul(J,et),o=o+Math.imul(j,it)|0,e=e+Math.imul(j,rt)|0,e=e+Math.imul(W,it)|0,h=h+Math.imul(W,rt)|0,o=o+Math.imul(Z,nt)|0,e=e+Math.imul(Z,st)|0,e=e+Math.imul(Y,nt)|0,h=h+Math.imul(Y,st)|0,o=o+Math.imul(U,ot)|0,e=e+Math.imul(U,at)|0,e=e+Math.imul(V,ot)|0,h=h+Math.imul(V,at)|0,o=o+Math.imul(L,ut)|0,e=e+Math.imul(L,ft)|0,e=e+Math.imul(I,ut)|0,h=h+Math.imul(I,ft)|0,o=o+Math.imul(D,ht)|0,e=e+Math.imul(D,lt)|0,e=e+Math.imul(O,ht)|0,h=h+Math.imul(O,lt)|0,o=o+Math.imul(k,ct)|0,e=e+Math.imul(k,dt)|0,e=e+Math.imul(K,ct)|0,h=h+Math.imul(K,dt)|0,o=o+Math.imul(F,pt)|0,e=e+Math.imul(F,vt)|0,e=e+Math.imul(P,pt)|0,h=h+Math.imul(P,vt)|0,o=o+Math.imul(x,mt)|0,e=e+Math.imul(x,yt)|0,e=e+Math.imul(_,mt)|0,h=h+Math.imul(_,yt)|0;var $e=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,o=Math.imul(Q,tt),e=Math.imul(Q,et),e=e+Math.imul(X,tt)|0,h=Math.imul(X,et),o=o+Math.imul(H,it)|0,e=e+Math.imul(H,rt)|0,e=e+Math.imul(J,it)|0,h=h+Math.imul(J,rt)|0,o=o+Math.imul(j,nt)|0,e=e+Math.imul(j,st)|0,e=e+Math.imul(W,nt)|0,h=h+Math.imul(W,st)|0,o=o+Math.imul(Z,ot)|0,e=e+Math.imul(Z,at)|0,e=e+Math.imul(Y,ot)|0,h=h+Math.imul(Y,at)|0,o=o+Math.imul(U,ut)|0,e=e+Math.imul(U,ft)|0,e=e+Math.imul(V,ut)|0,h=h+Math.imul(V,ft)|0,o=o+Math.imul(L,ht)|0,e=e+Math.imul(L,lt)|0,e=e+Math.imul(I,ht)|0,h=h+Math.imul(I,lt)|0,o=o+Math.imul(D,ct)|0,e=e+Math.imul(D,dt)|0,e=e+Math.imul(O,ct)|0,h=h+Math.imul(O,dt)|0,o=o+Math.imul(k,pt)|0,e=e+Math.imul(k,vt)|0,e=e+Math.imul(K,pt)|0,h=h+Math.imul(K,vt)|0,o=o+Math.imul(F,mt)|0,e=e+Math.imul(F,yt)|0,e=e+Math.imul(P,mt)|0,h=h+Math.imul(P,yt)|0,o=o+Math.imul(x,gt)|0,e=e+Math.imul(x,Mt)|0,e=e+Math.imul(_,gt)|0,h=h+Math.imul(_,Mt)|0;var Ke=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,o=Math.imul(Q,it),e=Math.imul(Q,rt),e=e+Math.imul(X,it)|0,h=Math.imul(X,rt),o=o+Math.imul(H,nt)|0,e=e+Math.imul(H,st)|0,e=e+Math.imul(J,nt)|0,h=h+Math.imul(J,st)|0,o=o+Math.imul(j,ot)|0,e=e+Math.imul(j,at)|0,e=e+Math.imul(W,ot)|0,h=h+Math.imul(W,at)|0,o=o+Math.imul(Z,ut)|0,e=e+Math.imul(Z,ft)|0,e=e+Math.imul(Y,ut)|0,h=h+Math.imul(Y,ft)|0,o=o+Math.imul(U,ht)|0,e=e+Math.imul(U,lt)|0,e=e+Math.imul(V,ht)|0,h=h+Math.imul(V,lt)|0,o=o+Math.imul(L,ct)|0,e=e+Math.imul(L,dt)|0,e=e+Math.imul(I,ct)|0,h=h+Math.imul(I,dt)|0,o=o+Math.imul(D,pt)|0,e=e+Math.imul(D,vt)|0,e=e+Math.imul(O,pt)|0,h=h+Math.imul(O,vt)|0,o=o+Math.imul(k,mt)|0,e=e+Math.imul(k,yt)|0,e=e+Math.imul(K,mt)|0,h=h+Math.imul(K,yt)|0,o=o+Math.imul(F,gt)|0,e=e+Math.imul(F,Mt)|0,e=e+Math.imul(P,gt)|0,h=h+Math.imul(P,Mt)|0;var Ce=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,o=Math.imul(Q,nt),e=Math.imul(Q,st),e=e+Math.imul(X,nt)|0,h=Math.imul(X,st),o=o+Math.imul(H,ot)|0,e=e+Math.imul(H,at)|0,e=e+Math.imul(J,ot)|0,h=h+Math.imul(J,at)|0,o=o+Math.imul(j,ut)|0,e=e+Math.imul(j,ft)|0,e=e+Math.imul(W,ut)|0,h=h+Math.imul(W,ft)|0,o=o+Math.imul(Z,ht)|0,e=e+Math.imul(Z,lt)|0,e=e+Math.imul(Y,ht)|0,h=h+Math.imul(Y,lt)|0,o=o+Math.imul(U,ct)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(V,ct)|0,h=h+Math.imul(V,dt)|0,o=o+Math.imul(L,pt)|0,e=e+Math.imul(L,vt)|0,e=e+Math.imul(I,pt)|0,h=h+Math.imul(I,vt)|0,o=o+Math.imul(D,mt)|0,e=e+Math.imul(D,yt)|0,e=e+Math.imul(O,mt)|0,h=h+Math.imul(O,yt)|0,o=o+Math.imul(k,gt)|0,e=e+Math.imul(k,Mt)|0,e=e+Math.imul(K,gt)|0,h=h+Math.imul(K,Mt)|0;var Ge=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,o=Math.imul(Q,ot),e=Math.imul(Q,at),e=e+Math.imul(X,ot)|0,h=Math.imul(X,at),o=o+Math.imul(H,ut)|0,e=e+Math.imul(H,ft)|0,e=e+Math.imul(J,ut)|0,h=h+Math.imul(J,ft)|0,o=o+Math.imul(j,ht)|0,e=e+Math.imul(j,lt)|0,e=e+Math.imul(W,ht)|0,h=h+Math.imul(W,lt)|0,o=o+Math.imul(Z,ct)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(Y,ct)|0,h=h+Math.imul(Y,dt)|0,o=o+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(V,pt)|0,h=h+Math.imul(V,vt)|0,o=o+Math.imul(L,mt)|0,e=e+Math.imul(L,yt)|0,e=e+Math.imul(I,mt)|0,h=h+Math.imul(I,yt)|0,o=o+Math.imul(D,gt)|0,e=e+Math.imul(D,Mt)|0,e=e+Math.imul(O,gt)|0,h=h+Math.imul(O,Mt)|0;var Ne=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,o=Math.imul(Q,ut),e=Math.imul(Q,ft),e=e+Math.imul(X,ut)|0,h=Math.imul(X,ft),o=o+Math.imul(H,ht)|0,e=e+Math.imul(H,lt)|0,e=e+Math.imul(J,ht)|0,h=h+Math.imul(J,lt)|0,o=o+Math.imul(j,ct)|0,e=e+Math.imul(j,dt)|0,e=e+Math.imul(W,ct)|0,h=h+Math.imul(W,dt)|0,o=o+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(Y,pt)|0,h=h+Math.imul(Y,vt)|0,o=o+Math.imul(U,mt)|0,e=e+Math.imul(U,yt)|0,e=e+Math.imul(V,mt)|0,h=h+Math.imul(V,yt)|0,o=o+Math.imul(L,gt)|0,e=e+Math.imul(L,Mt)|0,e=e+Math.imul(I,gt)|0,h=h+Math.imul(I,Mt)|0;var Re=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Re>>>26)|0,Re&=67108863,o=Math.imul(Q,ht),e=Math.imul(Q,lt),e=e+Math.imul(X,ht)|0,h=Math.imul(X,lt),o=o+Math.imul(H,ct)|0,e=e+Math.imul(H,dt)|0,e=e+Math.imul(J,ct)|0,h=h+Math.imul(J,dt)|0,o=o+Math.imul(j,pt)|0,e=e+Math.imul(j,vt)|0,e=e+Math.imul(W,pt)|0,h=h+Math.imul(W,vt)|0,o=o+Math.imul(Z,mt)|0,e=e+Math.imul(Z,yt)|0,e=e+Math.imul(Y,mt)|0,h=h+Math.imul(Y,yt)|0,o=o+Math.imul(U,gt)|0,e=e+Math.imul(U,Mt)|0,e=e+Math.imul(V,gt)|0,h=h+Math.imul(V,Mt)|0;var De=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(De>>>26)|0,De&=67108863,o=Math.imul(Q,ct),e=Math.imul(Q,dt),e=e+Math.imul(X,ct)|0,h=Math.imul(X,dt),o=o+Math.imul(H,pt)|0,e=e+Math.imul(H,vt)|0,e=e+Math.imul(J,pt)|0,h=h+Math.imul(J,vt)|0,o=o+Math.imul(j,mt)|0,e=e+Math.imul(j,yt)|0,e=e+Math.imul(W,mt)|0,h=h+Math.imul(W,yt)|0,o=o+Math.imul(Z,gt)|0,e=e+Math.imul(Z,Mt)|0,e=e+Math.imul(Y,gt)|0,h=h+Math.imul(Y,Mt)|0;var Oe=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,o=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(X,pt)|0,h=Math.imul(X,vt),o=o+Math.imul(H,mt)|0,e=e+Math.imul(H,yt)|0,e=e+Math.imul(J,mt)|0,h=h+Math.imul(J,yt)|0,o=o+Math.imul(j,gt)|0,e=e+Math.imul(j,Mt)|0,e=e+Math.imul(W,gt)|0,h=h+Math.imul(W,Mt)|0;var Le=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Le>>>26)|0,Le&=67108863,o=Math.imul(Q,mt),e=Math.imul(Q,yt),e=e+Math.imul(X,mt)|0,h=Math.imul(X,yt),o=o+Math.imul(H,gt)|0,e=e+Math.imul(H,Mt)|0,e=e+Math.imul(J,gt)|0,h=h+Math.imul(J,Mt)|0;var Ie=(p+o|0)+((e&8191)<<13)|0;p=(h+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,o=Math.imul(Q,gt),e=Math.imul(Q,Mt),e=e+Math.imul(X,gt)|0,h=Math.imul(X,Mt);var Ue=(p+o|0)+((e&8191)<<13)|0;return p=(h+(e>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,d[0]=ze,d[1]=Ee,d[2]=Ae,d[3]=Fe,d[4]=Te,d[5]=qe,d[6]=Pe,d[7]=ke,d[8]=$e,d[9]=Ke,d[10]=Ce,d[11]=Ge,d[12]=Ne,d[13]=Re,d[14]=De,d[15]=Oe,d[16]=Le,d[17]=Ie,d[18]=Ue,p!==0&&(d[19]=p,r.length++),r};Math.imul||(At=Ft);function Ot(c,t,i){i.negative=t.negative^c.negative,i.length=c.length+t.length;for(var r=0,n=0,u=0;u<i.length-1;u++){var d=n;n=0;for(var p=r&67108863,o=Math.min(u,t.length-1),e=Math.max(0,u-c.length+1);e<=o;e++){var h=u-e,w=c.words[h]|0,x=t.words[e]|0,_=w*x,S=_&67108863;d=d+(_/67108864|0)|0,S=S+p|0,p=S&67108863,d=d+(S>>>26)|0,n+=d>>>26,d&=67108863}i.words[u]=p,r=d,d=n}return r!==0?i.words[u]=r:i.length--,i._strip()}function Si(c,t,i){return Ot(c,t,i)}s.prototype.mulTo=function(t,i){var r,n=this.length+t.length;return this.length===10&&t.length===10?r=At(this,t,i):n<63?r=Ft(this,t,i):n<1024?r=Ot(this,t,i):r=Si(this,t,i),r};function kt(c,t){this.x=c,this.y=t}kt.prototype.makeRBT=function(t){for(var i=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},kt.prototype.revBin=function(t,i,r){if(t===0||t===r-1)return t;for(var n=0,u=0;u<i;u++)n|=(t&1)<<i-u-1,t>>=1;return n},kt.prototype.permute=function(t,i,r,n,u,d){for(var p=0;p<d;p++)n[p]=i[t[p]],u[p]=r[t[p]]},kt.prototype.transform=function(t,i,r,n,u,d){this.permute(d,t,i,r,n,u);for(var p=1;p<u;p<<=1)for(var o=p<<1,e=Math.cos(2*Math.PI/o),h=Math.sin(2*Math.PI/o),w=0;w<u;w+=o)for(var x=e,_=h,S=0;S<p;S++){var F=r[w+S],P=n[w+S],Lt=r[w+S+p],k=n[w+S+p],K=x*Lt-_*k;k=x*k+_*Lt,Lt=K,r[w+S]=F+Lt,n[w+S]=P+k,r[w+S+p]=F-Lt,n[w+S+p]=P-k,S!==o&&(K=e*x-h*_,_=e*_+h*x,x=K)}},kt.prototype.guessLen13b=function(t,i){var r=Math.max(i,t)|1,n=r&1,u=0;for(r=r/2|0;r;r=r>>>1)u++;return 1<<u+1+n},kt.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var u=t[n];t[n]=t[r-n-1],t[r-n-1]=u,u=i[n],i[n]=-i[r-n-1],i[r-n-1]=-u}},kt.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var u=Math.round(t[2*n+1]/i)*8192+Math.round(t[2*n]/i)+r;t[n]=u&67108863,u<67108864?r=0:r=u/67108864|0}return t},kt.prototype.convert13b=function(t,i,r,n){for(var u=0,d=0;d<i;d++)u=u+(t[d]|0),r[2*d]=u&8191,u=u>>>13,r[2*d+1]=u&8191,u=u>>>13;for(d=2*i;d<n;++d)r[d]=0;f(u===0),f((u&-8192)===0)},kt.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},kt.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),u=this.makeRBT(n),d=this.stub(n),p=new Array(n),o=new Array(n),e=new Array(n),h=new Array(n),w=new Array(n),x=new Array(n),_=r.words;_.length=n,this.convert13b(t.words,t.length,p,n),this.convert13b(i.words,i.length,h,n),this.transform(p,d,o,e,n,u),this.transform(h,d,w,x,n,u);for(var S=0;S<n;S++){var F=o[S]*w[S]-e[S]*x[S];e[S]=o[S]*x[S]+e[S]*w[S],o[S]=F}return this.conjugate(o,e,n),this.transform(o,e,_,d,n,u),this.conjugate(_,d,n),this.normalize13b(_,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r._strip()},s.prototype.mul=function(t){var i=new s(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},s.prototype.mulf=function(t){var i=new s(null);return i.words=new Array(this.length+t.length),Si(this,t,i)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var i=t<0;i&&(t=-t),f(typeof t=="number"),f(t<67108864);for(var r=0,n=0;n<this.length;n++){var u=(this.words[n]|0)*t,d=(u&67108863)+(r&67108863);r>>=26,r+=u/67108864|0,r+=d>>>26,this.words[n]=d&67108863}return r!==0&&(this.words[n]=r,this.length++),i?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var i=Ht(t);if(i.length===0)return new s(1);for(var r=this,n=0;n<i.length&&i[n]===0;n++,r=r.sqr());if(++n<i.length)for(var u=r.sqr();n<i.length;n++,u=u.sqr())i[n]!==0&&(r=r.mul(u));return r},s.prototype.iushln=function(t){f(typeof t=="number"&&t>=0);var i=t%26,r=(t-i)/26,n=67108863>>>26-i<<26-i,u;if(i!==0){var d=0;for(u=0;u<this.length;u++){var p=this.words[u]&n,o=(this.words[u]|0)-p<<i;this.words[u]=o|d,d=p>>>26-i}d&&(this.words[u]=d,this.length++)}if(r!==0){for(u=this.length-1;u>=0;u--)this.words[u+r]=this.words[u];for(u=0;u<r;u++)this.words[u]=0;this.length+=r}return this._strip()},s.prototype.ishln=function(t){return f(this.negative===0),this.iushln(t)},s.prototype.iushrn=function(t,i,r){f(typeof t=="number"&&t>=0);var n;i?n=(i-i%26)/26:n=0;var u=t%26,d=Math.min((t-u)/26,this.length),p=67108863^67108863>>>u<<u,o=r;if(n-=d,n=Math.max(0,n),o){for(var e=0;e<d;e++)o.words[e]=this.words[e];o.length=d}if(d!==0)if(this.length>d)for(this.length-=d,e=0;e<this.length;e++)this.words[e]=this.words[e+d];else this.words[0]=0,this.length=1;var h=0;for(e=this.length-1;e>=0&&(h!==0||e>=n);e--){var w=this.words[e]|0;this.words[e]=h<<26-u|w>>>u,h=w&p}return o&&h!==0&&(o.words[o.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,i,r){return f(this.negative===0),this.iushrn(t,i,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){f(typeof t=="number"&&t>=0);var i=t%26,r=(t-i)/26,n=1<<i;if(this.length<=r)return!1;var u=this.words[r];return!!(u&n)},s.prototype.imaskn=function(t){f(typeof t=="number"&&t>=0);var i=t%26,r=(t-i)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=r)return this;if(i!==0&&r++,this.length=Math.min(r,this.length),i!==0){var n=67108863^67108863>>>i<<i;this.words[this.length-1]&=n}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return f(typeof t=="number"),f(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},s.prototype.isubn=function(t){if(f(typeof t=="number"),f(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,i,r){var n=t.length+r,u;this._expand(n);var d,p=0;for(u=0;u<t.length;u++){d=(this.words[u+r]|0)+p;var o=(t.words[u]|0)*i;d-=o&67108863,p=(d>>26)-(o/67108864|0),this.words[u+r]=d&67108863}for(;u<this.length-r;u++)d=(this.words[u+r]|0)+p,p=d>>26,this.words[u+r]=d&67108863;if(p===0)return this._strip();for(f(p===-1),p=0,u=0;u<this.length;u++)d=-(this.words[u]|0)+p,p=d>>26,this.words[u]=d&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,i){var r=this.length-t.length,n=this.clone(),u=t,d=u.words[u.length-1]|0,p=this._countBits(d);r=26-p,r!==0&&(u=u.ushln(r),n.iushln(r),d=u.words[u.length-1]|0);var o=n.length-u.length,e;if(i!=="mod"){e=new s(null),e.length=o+1,e.words=new Array(e.length);for(var h=0;h<e.length;h++)e.words[h]=0}var w=n.clone()._ishlnsubmul(u,1,o);w.negative===0&&(n=w,e&&(e.words[o]=1));for(var x=o-1;x>=0;x--){var _=(n.words[u.length+x]|0)*67108864+(n.words[u.length+x-1]|0);for(_=Math.min(_/d|0,67108863),n._ishlnsubmul(u,_,x);n.negative!==0;)_--,n.negative=0,n._ishlnsubmul(u,1,x),n.isZero()||(n.negative^=1);e&&(e.words[x]=_)}return e&&e._strip(),n._strip(),i!=="div"&&r!==0&&n.iushrn(r),{div:e||null,mod:n}},s.prototype.divmod=function(t,i,r){if(f(!t.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var n,u,d;return this.negative!==0&&t.negative===0?(d=this.neg().divmod(t,i),i!=="mod"&&(n=d.div.neg()),i!=="div"&&(u=d.mod.neg(),r&&u.negative!==0&&u.iadd(t)),{div:n,mod:u}):this.negative===0&&t.negative!==0?(d=this.divmod(t.neg(),i),i!=="mod"&&(n=d.div.neg()),{div:n,mod:d.mod}):(this.negative&t.negative)!==0?(d=this.neg().divmod(t.neg(),i),i!=="div"&&(u=d.mod.neg(),r&&u.negative!==0&&u.isub(t)),{div:d.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:t.length===1?i==="div"?{div:this.divn(t.words[0]),mod:null}:i==="mod"?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,i)},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=i.div.negative!==0?i.mod.isub(t):i.mod,n=t.ushrn(1),u=t.andln(1),d=r.cmp(n);return d<0||u===1&&d===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},s.prototype.modrn=function(t){var i=t<0;i&&(t=-t),f(t<=67108863);for(var r=(1<<26)%t,n=0,u=this.length-1;u>=0;u--)n=(r*n+(this.words[u]|0))%t;return i?-n:n},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var i=t<0;i&&(t=-t),f(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var u=(this.words[n]|0)+r*67108864;this.words[n]=u/t|0,r=u%t}return this._strip(),i?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){f(t.negative===0),f(!t.isZero());var i=this,r=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var n=new s(1),u=new s(0),d=new s(0),p=new s(1),o=0;i.isEven()&&r.isEven();)i.iushrn(1),r.iushrn(1),++o;for(var e=r.clone(),h=i.clone();!i.isZero();){for(var w=0,x=1;(i.words[0]&x)===0&&w<26;++w,x<<=1);if(w>0)for(i.iushrn(w);w-- >0;)(n.isOdd()||u.isOdd())&&(n.iadd(e),u.isub(h)),n.iushrn(1),u.iushrn(1);for(var _=0,S=1;(r.words[0]&S)===0&&_<26;++_,S<<=1);if(_>0)for(r.iushrn(_);_-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(e),p.isub(h)),d.iushrn(1),p.iushrn(1);i.cmp(r)>=0?(i.isub(r),n.isub(d),u.isub(p)):(r.isub(i),d.isub(n),p.isub(u))}return{a:d,b:p,gcd:r.iushln(o)}},s.prototype._invmp=function(t){f(t.negative===0),f(!t.isZero());var i=this,r=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var n=new s(1),u=new s(0),d=r.clone();i.cmpn(1)>0&&r.cmpn(1)>0;){for(var p=0,o=1;(i.words[0]&o)===0&&p<26;++p,o<<=1);if(p>0)for(i.iushrn(p);p-- >0;)n.isOdd()&&n.iadd(d),n.iushrn(1);for(var e=0,h=1;(r.words[0]&h)===0&&e<26;++e,h<<=1);if(e>0)for(r.iushrn(e);e-- >0;)u.isOdd()&&u.iadd(d),u.iushrn(1);i.cmp(r)>=0?(i.isub(r),n.isub(u)):(r.isub(i),u.isub(n))}var w;return i.cmpn(1)===0?w=n:w=u,w.cmpn(0)<0&&w.iadd(t),w},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var u=i.cmp(r);if(u<0){var d=i;i=r,r=d}else if(u===0||r.cmpn(1)===0)break;i.isub(r)}while(!0);return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){f(typeof t=="number");var i=t%26,r=(t-i)/26,n=1<<i;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var u=n,d=r;u!==0&&d<this.length;d++){var p=this.words[d]|0;p+=u,u=p>>>26,p&=67108863,this.words[d]=p}return u!==0&&(this.words[d]=u,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(t){var i=t<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this._strip();var r;if(this.length>1)r=1;else{i&&(t=-t),f(t<=67108863,"Number is too big");var n=this.words[0]|0;r=n===t?0:n<t?-1:1}return this.negative!==0?-r|0:r},s.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var i=this.ucmp(t);return this.negative!==0?-i|0:i},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=this.words[r]|0,u=t.words[r]|0;if(n!==u){n<u?i=-1:n>u&&(i=1);break}}return i},s.prototype.gtn=function(t){return this.cmpn(t)===1},s.prototype.gt=function(t){return this.cmp(t)===1},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return this.cmpn(t)===-1},s.prototype.lt=function(t){return this.cmp(t)===-1},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return this.cmpn(t)===0},s.prototype.eq=function(t){return this.cmp(t)===0},s.red=function(t){return new R(t)},s.prototype.toRed=function(t){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return f(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return f(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var Se={k256:null,p224:null,p192:null,p25519:null};function Tt(c,t){this.name=c,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Tt.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},Tt.prototype.ireduce=function(t){var i=t,r;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),r=i.bitLength();while(r>this.n);var n=r<this.n?-1:i.ucmp(this.p);return n===0?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):i.strip!==void 0?i.strip():i._strip(),i},Tt.prototype.split=function(t,i){t.iushrn(this.n,0,i)},Tt.prototype.imulK=function(t){return t.imul(this.k)};function de(){Tt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}v(de,Tt),de.prototype.split=function(t,i){for(var r=4194303,n=Math.min(t.length,9),u=0;u<n;u++)i.words[u]=t.words[u];if(i.length=n,t.length<=9){t.words[0]=0,t.length=1;return}var d=t.words[9];for(i.words[i.length++]=d&r,u=10;u<t.length;u++){var p=t.words[u]|0;t.words[u-10]=(p&r)<<4|d>>>22,d=p}d>>>=22,t.words[u-10]=d,d===0&&t.length>10?t.length-=10:t.length-=9},de.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=t.words[r]|0;i+=n*977,t.words[r]=i&67108863,i=n*64+(i/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Bi(){Tt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}v(Bi,Tt);function zi(){Tt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}v(zi,Tt);function Be(){Tt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}v(Be,Tt),Be.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=(t.words[r]|0)*19+i,u=n&67108863;n>>>=26,t.words[r]=u,i=n}return i!==0&&(t.words[t.length++]=i),t},s._prime=function(t){if(Se[t])return Se[t];var i;if(t==="k256")i=new de;else if(t==="p224")i=new Bi;else if(t==="p192")i=new zi;else if(t==="p25519")i=new Be;else throw new Error("Unknown prime "+t);return Se[t]=i,i};function R(c){if(typeof c=="string"){var t=s._prime(c);this.m=t.p,this.prime=t}else f(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}R.prototype._verify1=function(t){f(t.negative===0,"red works only with positives"),f(t.red,"red works only with red numbers")},R.prototype._verify2=function(t,i){f((t.negative|i.negative)===0,"red works only with positives"),f(t.red&&t.red===i.red,"red works only with red numbers")},R.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(M(t,t.umod(this.m)._forceRed(this)),t)},R.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},R.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},R.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},R.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},R.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},R.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},R.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},R.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},R.prototype.isqr=function(t){return this.imul(t,t.clone())},R.prototype.sqr=function(t){return this.mul(t,t)},R.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(f(i%2===1),i===3){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),u=0;!n.isZero()&&n.andln(1)===0;)u++,n.iushrn(1);f(!n.isZero());var d=new s(1).toRed(this),p=d.redNeg(),o=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new s(2*e*e).toRed(this);this.pow(e,o).cmp(p)!==0;)e.redIAdd(p);for(var h=this.pow(e,n),w=this.pow(t,n.addn(1).iushrn(1)),x=this.pow(t,n),_=u;x.cmp(d)!==0;){for(var S=x,F=0;S.cmp(d)!==0;F++)S=S.redSqr();f(F<_);var P=this.pow(h,new s(1).iushln(_-F-1));w=w.redMul(P),h=P.redSqr(),x=x.redMul(h),_=F}return w},R.prototype.invm=function(t){var i=t._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},R.prototype.pow=function(t,i){if(i.isZero())return new s(1).toRed(this);if(i.cmpn(1)===0)return t.clone();var r=4,n=new Array(1<<r);n[0]=new s(1).toRed(this),n[1]=t;for(var u=2;u<n.length;u++)n[u]=this.mul(n[u-1],t);var d=n[0],p=0,o=0,e=i.bitLength()%26;for(e===0&&(e=26),u=i.length-1;u>=0;u--){for(var h=i.words[u],w=e-1;w>=0;w--){var x=h>>w&1;if(d!==n[0]&&(d=this.sqr(d)),x===0&&p===0){o=0;continue}p<<=1,p|=x,o++,!(o!==r&&(u!==0||w!==0))&&(d=this.mul(d,n[p]),o=0,p=0)}e=26}return d},R.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},R.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},s.mont=function(t){return new jt(t)};function jt(c){R.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v(jt,R),jt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},jt.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},jt.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=r.isub(n).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},jt.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new s(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=r.isub(n).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},jt.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(typeof Ve>"u"||Ve,Vi)});var It=wt(A=>{"use strict";z();E();var xr=A&&A.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(A,"__esModule",{value:!0});A.numbersTypeMap=A.bool=A.i512=A.i256=A.i128=A.i64=A.i32=A.i16=A.i8=A.u512=A.u256=A.u128=A.u64=A.u32=A.u16=A.u8=void 0;var Jt=xr(Zi()),C=_t();A.u8={write:function(a,l,f){a.writeUInt8(f,l)},read:function(a,l){return a.readUInt8(l)},byteSize:1,description:"u8"};A.u16={write:function(a,l,f){a.writeUInt16LE(f,l)},read:function(a,l){return a.readUInt16LE(l)},byteSize:2,description:"u16"};A.u32={write:function(a,l,f){a.writeUInt32LE(f,l)},read:function(a,l){return a.readUInt32LE(l)},byteSize:4,description:"u32"};function pe(a,l){return{write:function(f,v,s){let g=(Jt.default.isBN(s)?s:new Jt.default(s)).toArray("le",this.byteSize);$.Buffer.from(g).copy(f,v,0,this.byteSize)},read:function(f,v){let s=f.slice(v,v+this.byteSize);return new Jt.default(s,"le")},byteSize:a,description:l}}A.u64=pe(8,"u64");A.u128=pe(16,"u128");A.u256=pe(32,"u256");A.u512=pe(64,"u512");A.i8={write:function(a,l,f){a.writeInt8(f,l)},read:function(a,l){return a.readInt8(l)},byteSize:1,description:"i8"};A.i16={write:function(a,l,f){a.writeInt16LE(f,l)},read:function(a,l){return a.readInt16LE(l)},byteSize:2,description:"i16"};A.i32={write:function(a,l,f){a.writeInt32LE(f,l)},read:function(a,l){return a.readInt32LE(l)},byteSize:4,description:"i32"};function ve(a,l){let f=a*8;return{write:function(v,s,m){let y=(Jt.default.isBN(m)?m:new Jt.default(m)).toTwos(f).toArray("le",this.byteSize);$.Buffer.from(y).copy(v,s,0,this.byteSize)},read:function(v,s){let m=v.slice(s,s+this.byteSize);return new Jt.default(m,"le").fromTwos(f)},byteSize:a,description:l}}A.i64=ve(8,"i64");A.i128=ve(16,"i128");A.i256=ve(32,"i256");A.i512=ve(64,"i512");A.bool={write:function(a,l,f){let v=f?1:0;A.u8.write(a,l,v)},read:function(a,l){return A.u8.read(a,l)===1},byteSize:1,description:"bool"};A.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:C.BEET_PACKAGE,ts:"bignum",pack:C.BEET_PACKAGE}}});var je=wt((wn,Wi)=>{"use strict";z();E();var Yi={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},ji={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},Ze={},Ye={},he={};Object.keys(Yi).forEach(function(a){var l=Ze[a]="\x1B["+Yi[a]+"m",f=Ye[a]="\x1B[39m";he[a]=function(v){return l+v+f}});Object.keys(ji).forEach(function(a){var l=Ze[a]="\x1B["+ji[a]+"m",f=Ye[a]="\x1B[49m";he[a]=function(v){return l+v+f}});Wi.exports=he;he.open=Ze;he.close=Ye});var Rt=wt(bt=>{"use strict";z();E();var Ji=bt&&bt.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bt,"__esModule",{value:!0});bt.UnreachableCaseError=bt.stringify=bt.bytes=bt.beetBytes=bt.logTrace=bt.logDebug=bt.logInfo=bt.logError=void 0;var me=Ji(yr()),_r=Ji(je()),Hi=_t(),{brightBlack:Qi}=_r.default;bt.logError=(0,me.default)("beet:error");bt.logInfo=(0,me.default)("beet:info");bt.logDebug=(0,me.default)("beet:debug");bt.logTrace=(0,me.default)("beet:trace");function Sr(a,l=!1){let f;if((0,Hi.isFixableBeet)(a))f="? B";else if((0,Hi.isElementCollectionFixedSizeBeet)(a)){let v=l?"length":a.length,s=a.lenPrefixByteSize;f=s>0?`${s} + (${a.elementByteSize} * ${v}) B  (${a.byteSize} B)`:`(${a.elementByteSize} * ${v}) B (${a.byteSize} B)`}else f=`${a.byteSize} B`;return Qi(f)}bt.beetBytes=Sr;function Br(a){return Qi(`${a} B`)}bt.bytes=Br;function zr(a){return a.toString==="function"?a.toString():a}bt.stringify=zr;var We=class extends Error{constructor(l){super(`Unreachable case: ${l}`)}};bt.UnreachableCaseError=We});var Xt=wt(Qt=>{"use strict";z();E();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.fixBeetFromValue=Qt.fixBeetFromData=void 0;var ye=_t(),Xi=Rt();function Er(a,l,f){if((0,ye.isFixedSizeBeet)(a))return a;if((0,ye.isFixableBeet)(a))return a.toFixedFromData(l,f);throw new Xi.UnreachableCaseError(a)}Qt.fixBeetFromData=Er;function Ar(a,l){if((0,ye.isFixedSizeBeet)(a))return a;if((0,ye.isFixableBeet)(a))return a.toFixedFromValue(l);throw new Xi.UnreachableCaseError(a)}Qt.fixBeetFromValue=Ar});var ge=wt(St=>{"use strict";z();E();Object.defineProperty(St,"__esModule",{value:!0});St.collectionsTypeMap=St.uint8Array=St.fixedSizeUint8Array=St.fixedSizeBuffer=St.array=St.fixedSizeArray=St.uniformFixedSizeArray=void 0;var te=_t(),Wt=$t(),Ut=It(),ee=_t(),er=Rt(),tr=Xt();function Fr(a,l,f=!1){let v=a.byteSize*l,s=f?4+v:v;return{write:function(m,g,y){Wt.strict.equal(y.length,l,`array length ${y.length} should match len ${l}`),f&&(Ut.u32.write(m,g,l),g+=4);for(let b=0;b<l;b++)a.write(m,g+b*a.byteSize,y[b])},read:function(m,g){if(f){let b=Ut.u32.read(m,g);Wt.strict.equal(b,l,"invalid byte size"),g+=4}let y=new Array(l);for(let b=0;b<l;b++)y[b]=a.read(m,g+b*a.byteSize);return y},byteSize:s,length:l,elementByteSize:a.byteSize,lenPrefixByteSize:4,description:`Array<${a.description}>(${l})`}}St.uniformFixedSizeArray=Fr;function He(a,l){let f=a.length,v=f===0?"<EMPTY>":a[0].description;return{write:function(s,m,g){Wt.strict.equal(g.length,f,`array length ${g.length} should match len ${f}`),Ut.u32.write(s,m,f);let y=m+4;for(let b=0;b<f;b++){let M=a[b];M.write(s,y,g[b]),y+=M.byteSize}},read:function(s,m){let g=Ut.u32.read(s,m);Wt.strict.equal(g,f,"invalid byte size");let y=m+4,b=new Array(f);for(let M=0;M<f;M++){let B=a[M];b[M]=B.read(s,y),y+=B.byteSize}return b},byteSize:4+l,length:f,description:`Array<${v}>(${f})[ 4 + ${l} ]`}}St.fixedSizeArray=He;function Tr(a){return{toFixedFromData(l,f){let v=Ut.u32.read(l,f);(0,er.logTrace)(`${this.description}[${v}]`);let s=f+4,m=s,g=new Array(v);for(let y=0;y<v;y++){let b=(0,tr.fixBeetFromData)(a,l,m);g[y]=b,m+=b.byteSize}return He(g,m-s)},toFixedFromValue(l){(0,Wt.strict)(Array.isArray(l),`${l} should be an array`);let f=0,v=new Array(l.length);for(let s=0;s<l.length;s++){let m=(0,tr.fixBeetFromValue)(a,l[s]);v[s]=m,f+=m.byteSize}return He(v,f)},description:"array"}}St.array=Tr;function ir(a){return{write:function(l,f,v){v.copy(l,f,0,a)},read:function(l,f){return l.slice(f,f+a)},byteSize:a,description:`Buffer(${a})`}}St.fixedSizeBuffer=ir;function Je(a,l=!1){let f=ir(a),v=l?a+4:a;return{write:function(s,m,g){Wt.strict.equal(g.byteLength,a,`Uint8Array length ${g.byteLength} should match len ${a}`),l&&(Ut.u32.write(s,m,a),m+=4);let y=$.Buffer.from(g);f.write(s,m,y)},read:function(s,m){if(l){let y=Ut.u32.read(s,m);Wt.strict.equal(y,a,"invalid byte size"),m+=4}let g=f.read(s,m);return Uint8Array.from(g)},byteSize:v,description:`Uint8Array(${a})`}}St.fixedSizeUint8Array=Je;St.uint8Array={toFixedFromData(a,l){let f=Ut.u32.read(a,l);return(0,er.logTrace)(`${this.description}[${f}]`),Je(f,!0)},toFixedFromValue(a){let l=a.byteLength;return Je(l,!0)},description:"Uint8Array"};St.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:ee.BEET_PACKAGE,ts:"Array",arg:te.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:ee.BEET_PACKAGE,ts:"Array",arg:te.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:ee.BEET_PACKAGE,ts:"Array",arg:te.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:ee.BEET_PACKAGE,ts:"Buffer",arg:te.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:ee.BEET_PACKAGE,ts:"Uint8Array",arg:te.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:ee.BEET_PACKAGE,ts:"Uint8Array",arg:te.BEET_TYPE_ARG_LEN}}});var ri=wt(zt=>{"use strict";z();E();Object.defineProperty(zt,"__esModule",{value:!0});zt.compositesTypeMap=zt.coption=zt.coptionSome=zt.coptionNone=zt.isNoneBuffer=zt.isSomeBuffer=void 0;var le=$t(),Qe=_t(),rr=_t(),sr=Rt(),nr=Xt(),or=0,ar=1;function ei(a,l){return a[l]===ar}zt.isSomeBuffer=ei;function ii(a,l){return a[l]===or}zt.isNoneBuffer=ii;function Xe(a){return(0,sr.logTrace)(`coptionNone(${a})`),{write:function(l,f,v){(0,le.strict)(v==null,"coptionNone can only handle `null` values"),l[f]=or},read:function(l,f){return(0,le.strict)(ii(l,f),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${a})>`}}zt.coptionNone=Xe;function ti(a){let l=1+a.byteSize,f={write:function(v,s,m){(0,Qe.assertFixedSizeBeet)(a,`coption inner type ${a.description} needs to be fixed before calling write`),(0,le.strict)(m!=null,"coptionSome cannot handle `null` values"),v[s]=ar,a.write(v,s+1,m)},read:function(v,s){return(0,Qe.assertFixedSizeBeet)(a,`coption inner type ${a.description} needs to be fixed before calling read`),(0,le.strict)(ei(v,s),"coptionSome can only handle `SOME` data"),a.read(v,s+1)},description:`COption<${a.description}>[1 + ${a.byteSize}]`,byteSize:l,inner:a};return(0,sr.logTrace)(f.description),f}zt.coptionSome=ti;function qr(a){return{toFixedFromData(l,f){if(ei(l,f)){let v=(0,nr.fixBeetFromData)(a,l,f+1);return ti(v)}else return(0,le.strict)(ii(l,f),`Expected ${l} to hold a COption`),Xe(a.description)},toFixedFromValue(l){return l==null?Xe(a.description):ti((0,nr.fixBeetFromValue)(a,l))},description:`COption<${a.description}>`}}zt.coption=qr;zt.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:rr.BEET_PACKAGE,ts:"COption<Inner>",arg:Qe.BEET_TYPE_ARG_INNER,pack:rr.BEET_PACKAGE}}});var oi=wt(Kt=>{"use strict";z();E();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.stringTypeMap=Kt.utf8String=Kt.fixedSizeUtf8String=void 0;var ni=_t(),ur=$t(),si=It(),Pr=Rt(),kr=a=>({write:function(l,f,v){let s=$.Buffer.from(v,"utf8");ur.strict.equal(s.byteLength,a,`${v} has invalid byte size`),si.u32.write(l,f,a),s.copy(l,f+4,0,a)},read:function(l,f){let v=si.u32.read(l,f);return ur.strict.equal(v,a,"invalid byte size"),l.slice(f+4,f+4+a).toString("utf8")},elementByteSize:1,length:a,lenPrefixByteSize:4,byteSize:4+a,description:`Utf8String(4 + ${a})`});Kt.fixedSizeUtf8String=kr;Kt.utf8String={toFixedFromData(a,l){let f=si.u32.read(a,l);return(0,Pr.logTrace)(`${this.description}[${f}]`),(0,Kt.fixedSizeUtf8String)(f)},toFixedFromValue(a){let l=$.Buffer.from(a).byteLength;return(0,Kt.fixedSizeUtf8String)(l)},description:"Utf8String"};Kt.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:ni.BEET_PACKAGE,ts:"string",arg:ni.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:ni.BEET_PACKAGE,ts:"string"}}});var fi=wt(ie=>{"use strict";z();E();Object.defineProperty(ie,"__esModule",{value:!0});ie.BeetReader=ie.BeetWriter=void 0;var $r=$t(),ai=class{constructor(l){this.buf=$.Buffer.alloc(l),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(l){this._offset+l>this.buf.length&&$r.strict.fail(`We shouldn't ever need to resize, but ${this._offset+l} > ${this.buf.length}`)}write(l,f){this.maybeResize(l.byteSize),l.write(this.buf,this._offset,f),this._offset+=l.byteSize}writeStruct(l,f){for(let[v,s]of f){let m=l[v];this.write(s,m)}}};ie.BeetWriter=ai;var ui=class{constructor(l,f=0){this.buffer=l,this._offset=f}get offset(){return this._offset}read(l){let f=l.read(this.buffer,this._offset);return this._offset+=l.byteSize,f}readStruct(l){let f={};for(let[v,s]of l)f[v]=this.read(s);return f}};ie.BeetReader=ui});var Me=wt(Vt=>{"use strict";z();E();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.BeetArgsStruct=Vt.isBeetStruct=Vt.BeetStruct=void 0;var fr=fi(),Dt=Rt(),Ct=class{constructor(l,f,v=Ct.description){if(this.fields=l,this.construct=f,this.description=v,this.byteSize=this.getByteSize(),Dt.logDebug.enabled){let s=l.map(([m,g])=>`${String(m)}: ${g.description} ${(0,Dt.beetBytes)(g)}`).join(`
  `);(0,Dt.logDebug)(`struct ${v} {
  ${s}
} ${(0,Dt.beetBytes)(this)}`)}}read(l,f){let[v]=this.deserialize(l,f);return v}write(l,f,v){let[s,m]=this.serialize(v);s.copy(l,f,0,m)}deserialize(l,f=0){Dt.logTrace.enabled&&((0,Dt.logTrace)("deserializing [%s] from %d bytes buffer",this.description,l.byteLength),(0,Dt.logTrace)(l),(0,Dt.logTrace)(l.toJSON().data));let v=new fr.BeetReader(l,f),s=v.readStruct(this.fields);return[this.construct(s),v.offset]}serialize(l,f=this.byteSize){(0,Dt.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,l,f);let v=new fr.BeetWriter(f);return v.writeStruct(l,this.fields),[v.buffer,v.offset]}getByteSize(){return this.fields.reduce((l,[f,v])=>l+v.byteSize,0)}get type(){return Ct.TYPE}};Vt.BeetStruct=Ct;Ct.description="BeetStruct";Ct.TYPE="BeetStruct";function Kr(a){return a.type===Ct.TYPE}Vt.isBeetStruct=Kr;var re=class extends Ct{constructor(l,f=re.description){super(l,v=>v,f)}};Vt.BeetArgsStruct=re;re.description="BeetArgsStruct"});var li=wt(Gt=>{"use strict";z();E();var Cr=Gt&&Gt.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.FixableBeetArgsStruct=Gt.isFixableBeetStruct=Gt.FixableBeetStruct=void 0;var hr=Xt(),be=Me(),Gr=_t(),Nr=$t(),hi=Rt(),Rr=Cr(je()),{brightBlack:Dr}=Rr.default,qt=class{constructor(l,f,v=qt.description){this.fields=l,this.construct=f,this.description=v;let s=0;if(hi.logDebug.enabled){let m=l.map(([y,b])=>((0,Gr.isFixedSizeBeet)(b)&&(s+=b.byteSize),`${y}: ${b.description} ${(0,hi.beetBytes)(b)}`)).join(`
  `),g=`> ${s} B`;(0,hi.logDebug)(`struct ${v} {
  ${m}
} ${Dr(g)}`)}}deserialize(l,f=0){return this.toFixedFromData(l,f).deserialize(l,f)}serialize(l,f){return this.toFixedFromValue(l).serialize(l,f)}toFixedFromData(l,f){let v=f,s=new Array(this.fields.length);for(let m=0;m<this.fields.length;m++){let[g,y]=this.fields[m],b=(0,hr.fixBeetFromData)(y,l,v);s[m]=[g,b],v+=b.byteSize}return this.description!==qt.description?new be.BeetStruct(s,this.construct,this.description):new be.BeetStruct(s,this.construct)}toFixedFromValue(l){let f=Object.keys(l),v=new Array(this.fields.length);for(let s=0;s<this.fields.length;s++){let[m,g]=this.fields[s];(0,Nr.strict)(f.includes(m),`Value with keys [ ${f} ] should include struct key '${m}' but doesn't.`);let y=l[m],b=(0,hr.fixBeetFromValue)(g,y);v[s]=[m,b]}return this.description!==qt.description?new be.BeetStruct(v,this.construct,this.description):new be.BeetStruct(v,this.construct)}get type(){return qt.TYPE}};Gt.FixableBeetStruct=qt;qt.description="FixableBeetStruct";qt.TYPE="FixableBeetStruct";function Or(a){return a.type===qt.TYPE}Gt.isFixableBeetStruct=Or;var ne=class extends qt{constructor(l,f=ne.description){super(l,v=>v,f)}};Gt.FixableBeetArgsStruct=ne;ne.description="FixableBeetArgsStruct"});var we=wt(se=>{"use strict";z();E();Object.defineProperty(se,"__esModule",{value:!0});se.unitTypeMap=se.unit=void 0;var Lr=_t();se.unit={write:function(a,l,f){},read:function(a,l){},byteSize:0,description:"unit"};se.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:Lr.BEET_PACKAGE,ts:"void"}}});var ci=wt(Nt=>{"use strict";z();E();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.enumsTypeMap=Nt.dataEnum=Nt.uniformDataEnum=Nt.fixedScalarEnum=void 0;var Zt=_t(),Pt=It(),oe=$t(),Ir=Me(),Ur=li(),Vr=we();function lr(a,l){return l?`${a}`:a}function Zr(a){let l=Object.keys(a);return{write(f,v,s){let m=typeof s=="number",g=lr(s,m);if(l.includes(g)||oe.fail(`${s} should be a variant of the provided enum type, i.e. [ ${Object.values(a).join(", ")} ], but isn't`),m)Pt.u8.write(f,v,s);else{let y=a[g];Pt.u8.write(f,v,y)}},read(f,v){let s=Pt.u8.read(f,v),m=typeof s=="number",g=lr(s,m);return l.includes(g)||oe.fail(`${s} should be a of a variant of the provided enum type, i.e. [ ${Object.values(a).join(", ")} ], but isn't`),m?s:a[g]},byteSize:Pt.u8.byteSize,description:"Enum"}}Nt.fixedScalarEnum=Zr;function Yr(a){return{write:function(l,f,v){Pt.u8.write(l,f,v.kind),a.write(l,f+1,v.data)},read:function(l,f){let v=Pt.u8.read(l,f),s=a.read(l,f+1);return{kind:v,data:s}},byteSize:1+a.byteSize,description:`UniformDataEnum<${a.description}>`}}Nt.uniformDataEnum=Yr;function cr(a,l,f){return{write(v,s,m){Pt.u8.write(v,s,l),a.write(v,s+Pt.u8.byteSize,m)},read(v,s){let m=a.read(v,s+Pt.u8.byteSize);return{__kind:f,...m}},byteSize:a.byteSize+Pt.u8.byteSize,description:`EnumData<${a.description}>`}}function jr(a){for(let[l,f]of a)oe((0,Ir.isBeetStruct)(f)||(0,Ur.isFixableBeetStruct)(f)||f===Vr.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(l,f){let v=Pt.u8.read(l,f),s=a[v];oe(s!=null,`Discriminant ${v} out of range for ${a.length} variants`);let[m,g]=s,y=(0,Zt.isFixedSizeBeet)(g)?g:g.toFixedFromData(l,f+1);return cr(y,v,m)},toFixedFromValue(l){if(l.__kind==null){let M=Object.keys(l).join(", "),B=a.map(([q])=>q).join(", ");oe.fail(`Value with fields [ ${M} ] is missing __kind, which needs to be set to one of [ ${B} ]`)}let f=a.findIndex(([M])=>M===l.__kind);if(f<0){let M=a.map(([B])=>B).join(", ");oe.fail(`${l.__kind} is not a valid kind, needs to be one of [ ${M} ]`)}let v=a[f],{__kind:s,...m}=l,[g,y]=v,b=(0,Zt.isFixedSizeBeet)(y)?y:y.toFixedFromValue(m);return cr(b,f,g)},description:`DataEnum<${a.length} variants>`}}Nt.dataEnum=jr;Nt.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:Zt.BEET_PACKAGE,ts:"<TypeName>",arg:Zt.BEET_TYPE_ARG_INNER,pack:Zt.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:Zt.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:Zt.BEET_TYPE_ARG_INNER,pack:Zt.BEET_PACKAGE}}});var di=wt(ae=>{"use strict";z();E();Object.defineProperty(ae,"__esModule",{value:!0});ae.aliasesTypeMap=ae.bytes=void 0;var dr=ge();ae.bytes=dr.uint8Array;ae.aliasesTypeMap={bytes:dr.collectionsTypeMap.Uint8Array}});var mi=wt(Yt=>{"use strict";z();E();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.tuplesTypeMap=Yt.tuple=Yt.fixedSizeTuple=void 0;var pr=_t(),pi=$t(),vr=Xt();function vi(a){let l=a.length,f=a.map(m=>m.description),v=a.map(m=>m.byteSize),s=v.reduce((m,g)=>m+g,0);return{write:function(m,g,y){pi.strict.equal(y.length,l,`tuple value element size ${y.length} should match len ${l}`);let b=g;for(let M=0;M<l;M++){let B=y[M],q=a[M];q.write(m,b,B),b+=q.byteSize}},read:function(m,g){let y=[],b=g;for(let M=0;M<l;M++){let B=a[M];y[M]=B.read(m,b),b+=B.byteSize}return y},byteSize:s,length:l,description:`FixedSizeTuple<${f.join(",")}>[ ${v.join(", ")} ]`}}Yt.fixedSizeTuple=vi;function Wr(a){let l=a.length,f=a.map(v=>v.description);return{toFixedFromData(v,s){let m=s,g=new Array(l);for(let y=0;y<l;y++){let b=(0,vr.fixBeetFromData)(a[y],v,m);g[y]=b,m+=b.byteSize}return vi(g)},toFixedFromValue(v){(0,pi.strict)(Array.isArray(v),`${v} should be an array of tuple values`),pi.strict.equal(v.length,l,`There should be ${l} tuple values, but there are ${v.length}`);let s=new Array(l);for(let m=0;m<v.length;m++){let g=(0,vr.fixBeetFromValue)(a[m],v[m]);s[m]=g}return vi(s)},description:`Tuple<${f.join(",")}>`}}Yt.tuple=Wr;Yt.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:pr.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:pr.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var Mi=wt(ue=>{"use strict";z();E();Object.defineProperty(ue,"__esModule",{value:!0});ue.mapsTypeMap=ue.map=void 0;var ce=_t(),gi=It(),Hr=Rt(),yi=$t();function xe(a,l,f,v){let s=(0,ce.isFixedSizeBeet)(a),m=(0,ce.isFixedSizeBeet)(l);function g(){if(s&&m){let M=a.byteSize+l.byteSize;return{elementByteSize:M,byteSize:4+v*M}}else if(s){let M=0;for(let[q,T]of f.values())M+=T.byteSize;return{elementByteSize:a.byteSize+Math.ceil(M/v),byteSize:4+a.byteSize*v+M}}else if(m){let M=0;for(let[q,T]of f.values())M+=q.byteSize;return{elementByteSize:Math.ceil(M/v)+l.byteSize,byteSize:4+M+l.byteSize*v}}else{let M=0,B=0;for(let[T,N]of f.values())M+=T.byteSize,B+=N.byteSize;return{elementByteSize:Math.ceil(M/v+B/v),byteSize:4+M+B}}}let{elementByteSize:y,byteSize:b}=g();return{write:function(M,B,q){let T=B+4,N=0;for(let[Et,Ht]of q.entries()){let Ft=s?a:null,At=m?l:null;if(Ft==null||At==null){let Ot=f.get(Et);(0,yi.strict)(Ot!=null,`Should be able to find beet els for ${(0,Hr.stringify)(Et)}, but could not`),Ft??(Ft=Ot[0]),At??(At=Ot[1])}Ft.write(M,T,Et),T+=Ft.byteSize,At.write(M,T,Ht),T+=At.byteSize,N++}gi.u32.write(M,B,N),yi.strict.equal(N,v,`Expected map to have size ${v}, but has ${N}.`)},read:function(M,B){let q=gi.u32.read(M,B);yi.strict.equal(q,v,`Expected map to have size ${v}, but has ${q}.`);let T=B+4,N=new Map;for(let Et=0;Et<q;Et++){let Ht=s?a:a.toFixedFromData(M,T),Ft=Ht.read(M,T);T+=Ht.byteSize;let At=m?l:l.toFixedFromData(M,T),Ot=At.read(M,T);T+=At.byteSize,N.set(Ft,Ot)}return N},elementByteSize:y,byteSize:b,length:v,lenPrefixByteSize:4,description:`Map<${a.description}, ${l.description}>`}}function Jr(a,l){let f=(0,ce.isFixedSizeBeet)(a),v=(0,ce.isFixedSizeBeet)(l);return{toFixedFromData(s,m){let g=gi.u32.read(s,m),y=m+4;if(f&&v)return xe(a,l,new Map,g);let b=new Map;for(let M=0;M<g;M++){let B=f?a:a.toFixedFromData(s,y),q=B.read(s,y);y+=B.byteSize;let T=v?l:l.toFixedFromData(s,y);y+=T.byteSize,b.set(q,[B,T])}return xe(a,l,b,g)},toFixedFromValue(s){let m=s.size;if(f&&v)return xe(a,l,new Map,m);let g=new Map;for(let[y,b]of s){let M=f?a:a.toFixedFromValue(y),B=v?l:l.toFixedFromValue(b);g.set(y,[M,B])}return xe(a,l,g,m)},description:`FixableMap<${a.description}, ${l.description}>`}}ue.map=Jr;ue.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:ce.BEET_PACKAGE,ts:"Map"}}});var _i=wt(fe=>{"use strict";z();E();Object.defineProperty(fe,"__esModule",{value:!0});fe.setsTypeMap=fe.set=void 0;var xi=_t(),wi=It(),Qr=Rt(),bi=$t();function _e(a,l,f){let v=(0,xi.isFixedSizeBeet)(a);function s(){if(v){let y=a.byteSize;return{elementByteSize:y,byteSize:4+f*y}}else{let y=0;for(let M of l.values())y+=M.byteSize;return{elementByteSize:Math.ceil(y/f),byteSize:4+y}}}let{elementByteSize:m,byteSize:g}=s();return{write:function(y,b,M){let B=b+4,q=0;for(let T of M.keys()){let N=v?a:null;if(N==null){let Et=l.get(T);(0,bi.strict)(Et!=null,`Should be able to find beet el for ${(0,Qr.stringify)(T)}, but could not`),N??(N=Et)}N.write(y,B,T),B+=N.byteSize,q++}wi.u32.write(y,b,q),bi.strict.equal(q,f,`Expected set to have size ${f}, but has ${q}.`)},read:function(y,b){let M=wi.u32.read(y,b);bi.strict.equal(M,f,`Expected set to have size ${f}, but has ${M}.`);let B=b+4,q=new Set;for(let T=0;T<M;T++){let N=v?a:a.toFixedFromData(y,B),Et=N.read(y,B);B+=N.byteSize,q.add(Et)}return q},elementByteSize:m,byteSize:g,length:f,lenPrefixByteSize:4,description:`Set<${a.description}>`}}function Xr(a){let l=(0,xi.isFixedSizeBeet)(a);return{toFixedFromData(f,v){let s=wi.u32.read(f,v),m=v+4;if(l)return _e(a,new Map,s);let g=new Map;for(let y=0;y<s;y++){let b=l?a:a.toFixedFromData(f,m),M=b.read(f,m);m+=b.byteSize,g.set(M,b)}return _e(a,g,s)},toFixedFromValue(f){let v=f.size;if(l)return _e(a,new Map,v);let s=new Map;for(let m of f){let g=l?a:a.toFixedFromValue(m);s.set(m,g)}return _e(a,s,v)},description:`FixableSet<${a.description}>`}}fe.set=Xr;fe.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:xi.BEET_PACKAGE,ts:"Set"}}});var cn=wt(G=>{"use strict";z();E();var tn=G&&G.__createBinding||(Object.create?function(a,l,f,v){v===void 0&&(v=f);var s=Object.getOwnPropertyDescriptor(l,f);(!s||("get"in s?!l.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(a,v,s)}:function(a,l,f,v){v===void 0&&(v=f),a[v]=l[f]}),Bt=G&&G.__exportStar||function(a,l){for(var f in a)f!=="default"&&!Object.prototype.hasOwnProperty.call(l,f)&&tn(l,a,f)};Object.defineProperty(G,"__esModule",{value:!0});G.supportedTypeMap=void 0;var en=ge(),rn=ri(),nn=It(),sn=oi(),on=ci(),an=di(),un=mi(),fn=Mi(),hn=we(),ln=_i();Bt(di(),G);Bt(ge(),G);Bt(ri(),G);Bt(ci(),G);Bt(Mi(),G);Bt(It(),G);Bt(_i(),G);Bt(oi(),G);Bt(mi(),G);Bt(we(),G);Bt(Xt(),G);Bt(fi(),G);Bt(Me(),G);Bt(li(),G);Bt(_t(),G);G.supportedTypeMap={...en.collectionsTypeMap,...sn.stringTypeMap,...rn.compositesTypeMap,...on.enumsTypeMap,...nn.numbersTypeMap,...an.aliasesTypeMap,...un.tuplesTypeMap,...fn.mapsTypeMap,...ln.setsTypeMap,...hn.unitTypeMap}});export{cn as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-TI5NM2JP.js.map
