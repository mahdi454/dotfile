import{a as l,b as _}from"./chunk-CYOQISC6.js";import{c as f,h as L}from"./chunk-TKYTZF2K.js";import{Aa as d,Yb as y,Zb as q,aa as k,ea as b,za as n}from"./chunk-YT2MPR4E.js";import{a as A}from"./chunk-O337TVCZ.js";import{f as P,m as a,o as i}from"./chunk-GLD6H5Q5.js";a();i();var U={CAN:"1",CANT:"0"},h={EVM:"0"},D={init:"INIT",loading:"LOADING",success:"SUCCESS",failed:"FAILED"},Q=(c,s)=>c?.uniqueId===s?.uniqueId;a();i();var u=P(A());q();b();_();d();a();i();d();async function S(c){try{return await(await Promise.resolve(n.rpc_networks)).delete(c),!0}catch{return!1}}L();var I=c=>{let s={...c};return s?.chainId.startsWith("0x")||(s.chainId=`0x${y(s.chainId)}`),s};var Y=()=>{let[c,s]=(0,u.useState)("loading"),[C,w]=(0,u.useState)({rpcNetworks:[],customNets:[],defaultNets:[]}),m=async e=>{let t=e,o=Number.parseInt(t.chainId,16);try{let{data:r}=await f(l.getRpcNetworkByChainId,{chainIds:[o]});if(Array.isArray(r)){let p=r.find(E=>E.chainId===o);t.faucetUrl=p?.faucets?.[0]||""}}catch{t.faucetUrl=""}return t},N=e=>{let t=e.filter(r=>r.isCustom),o=e.filter(r=>!r.isCustom).sort((r,p)=>r.order-p.order);return{rpcNetworks:[...o,...t],customNets:t,defaultNets:o}},T=async e=>{try{let t=await Promise.resolve(n.rpc_networks),o={...e,uniqueId:e.uniqueId||k(),type:h.EVM,isCustom:!0},r=await m(I(o));return await t.set(r),r}catch{return{}}},x=async e=>{try{let t=await Promise.resolve(n.rpc_networks),o=await m(I(e));return await t.get(e.uniqueId)&&await t.set(o),o}catch{return{}}},g=async e=>{try{let o=await(await Promise.resolve(n.rpc_networks)).query(e);w(N(o)),s("success")}catch{s("failed")}},v=async e=>{try{await S(e.uniqueId)}catch(t){console.log(t)}};return(0,u.useEffect)(()=>{let e;return(async()=>(await g({}),e=(await Promise.resolve(n.rpc_networks)).liveQuery().subscribe((o,r)=>{if(!r){let p=N(o);w(p),s("success")}})))(),()=>{e&&e?.unsubscribe()}},[]),{addRpcNetwork:T,updateRpcNetwork:x,deleteRpcNetwork:v,status:c,...C}};export{U as a,D as b,Q as c,Y as d};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-UBFVE3Q4.js.map
