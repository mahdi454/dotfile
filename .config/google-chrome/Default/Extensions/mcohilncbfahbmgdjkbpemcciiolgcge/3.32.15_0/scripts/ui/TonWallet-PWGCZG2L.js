import{a as ru}from"./chunk-UPCO2E6Z.js";import{a as ur}from"./chunk-CJBRPLUG.js";import{a as tu}from"./chunk-35KWTRDH.js";import{a as ci}from"./chunk-IMZNFJSN.js";import"./chunk-7W6DAKSL.js";import"./chunk-Y2L2VAJY.js";import"./chunk-5AYYZJMV.js";import"./chunk-T47I3VPR.js";import"./chunk-ME7FEN7O.js";import{N as nt}from"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{c as S,l as process,m as l,n as c,o as u}from"./chunk-GLD6H5Q5.js";var gi=S((hg,hi)=>{"use strict";l();u();hi.exports=Symbol.for("nodejs.util.inspect.custom")});var Ge=S((yg,pi)=>{"use strict";l();u();typeof process<"u",pi.exports=gi()});var Rr=S(Er=>{"use strict";l();u();Object.defineProperty(Er,"__esModule",{value:!0});Er.crc16=void 0;function nu(t){let r=0,n=c.Buffer.alloc(t.length+2);n.set(t);for(let o of n){let s=128;for(;s>0;)r<<=1,o&s&&(r+=1),s>>=1,r>65535&&(r&=65535,r^=4129)}return c.Buffer.from([Math.floor(r/256),r%256])}Er.crc16=nu});var Ae=S(Re=>{"use strict";l();u();var ou=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_i;Object.defineProperty(Re,"__esModule",{value:!0});Re.address=Re.Address=void 0;var iu=ou(Ge()),bi=Rr(),jn=17,mi=81,Nn=128;function yi(t){if(typeof t=="string"&&!ie.isFriendly(t))throw new Error("Unknown address type");let e=c.Buffer.isBuffer(t)?t:c.Buffer.from(t,"base64");if(e.length!==36)throw new Error("Unknown address type: byte length is not equal to 36");let r=e.subarray(0,34),n=e.subarray(34,36),o=(0,bi.crc16)(r);if(!(o[0]===n[0]&&o[1]===n[1]))throw new Error("Invalid checksum: "+t);let s=r[0],p=!1,f=!1;if(s&Nn&&(p=!0,s=s^Nn),s!==jn&&s!==mi)throw"Unknown address tag";f=s===jn;let _=null;r[1]===255?_=-1:_=r[1];let B=r.subarray(2,34);return{isTestOnly:p,isBounceable:f,workchain:_,hashPart:B}}var ie=class{static isAddress(e){return e instanceof ie}static isFriendly(e){return!(e.length!==48||!/[A-Za-z0-9+/_-]+/.test(e))}static isRaw(e){if(e.indexOf(":")===-1)return!1;let[r,n]=e.split(":");return!(!Number.isInteger(parseFloat(r))||!/[a-f0-9]+/.test(n.toLowerCase())||n.length!==64)}static normalize(e){return typeof e=="string"?ie.parse(e).toString():e.toString()}static parse(e){if(ie.isFriendly(e))return this.parseFriendly(e).address;if(ie.isRaw(e))return this.parseRaw(e);throw new Error("Unknown address type: "+e)}static parseRaw(e){let r=parseInt(e.split(":")[0]),n=c.Buffer.from(e.split(":")[1],"hex");return new ie(r,n)}static parseFriendly(e){if(c.Buffer.isBuffer(e)){let r=yi(e);return{isBounceable:r.isBounceable,isTestOnly:r.isTestOnly,address:new ie(r.workchain,r.hashPart)}}else{let r=e.replace(/\-/g,"+").replace(/_/g,"/"),n=yi(r);return{isBounceable:n.isBounceable,isTestOnly:n.isTestOnly,isUrlSafe:!(e.includes("/")||e.includes("+")),address:new ie(n.workchain,n.hashPart)}}}constructor(e,r){if(this.toRawString=()=>this.workChain+":"+this.hash.toString("hex"),this.toRaw=()=>{let n=c.Buffer.alloc(36);return n.set(this.hash),n.set([this.workChain,this.workChain,this.workChain,this.workChain],32),n},this.toStringBuffer=n=>{let o=n&&n.testOnly!==void 0?n.testOnly:!1,p=(n&&n.bounceable!==void 0?n.bounceable:!0)?jn:mi;o&&(p|=Nn);let f=c.Buffer.alloc(34);f[0]=p,f[1]=this.workChain,f.set(this.hash,2);let _=c.Buffer.alloc(36);return _.set(f),_.set((0,bi.crc16)(f),34),_},this.toString=n=>{let o=n&&n.urlSafe!==void 0?n.urlSafe:!0,s=this.toStringBuffer(n);return o?s.toString("base64").replace(/\+/g,"-").replace(/\//g,"_"):s.toString("base64")},this[_i]=()=>this.toString(),r.length!==32)throw new Error("Invalid address hash length: "+r.length);this.workChain=e,this.hash=r,Object.freeze(this)}equals(e){return e.workChain!==this.workChain?!1:e.hash.equals(this.hash)}};Re.Address=ie;_i=iu.default;function su(t){return ie.parse(t)}Re.address=su});var Or=S(ot=>{"use strict";l();u();var au=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Bi;Object.defineProperty(ot,"__esModule",{value:!0});ot.ExternalAddress=void 0;var lu=au(Ge()),dr=class{static isAddress(e){return e instanceof dr}constructor(e,r){this[Bi]=()=>this.toString(),this.value=e,this.bits=r}toString(){return`External<${this.bits}:${this.value}>`}};ot.ExternalAddress=dr;Bi=lu.default});var Ln=S(it=>{"use strict";l();u();Object.defineProperty(it,"__esModule",{value:!0});it.base32Decode=it.base32Encode=void 0;var Kn="abcdefghijklmnopqrstuvwxyz234567";function uu(t){let e=t.byteLength,r=0,n=0,o="";for(let s=0;s<e;s++)for(n=n<<8|t[s],r+=8;r>=5;)o+=Kn[n>>>r-5&31],r-=5;return r>0&&(o+=Kn[n<<5-r&31]),o}it.base32Encode=uu;function du(t,e){let r=t.indexOf(e);if(r===-1)throw new Error("Invalid character found: "+e);return r}function fu(t){let e;e=t.toLowerCase();let{length:r}=e,n=0,o=0,s=0,p=c.Buffer.alloc(r*5/8|0);for(let f=0;f<r;f++)o=o<<5|du(Kn,e[f]),n+=5,n>=8&&(p[s++]=o>>>n-8&255,n-=8);return p}it.base32Decode=fu});var Ai=S(at=>{"use strict";l();u();var cu=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ci;Object.defineProperty(at,"__esModule",{value:!0});at.ADNLAddress=void 0;var hu=cu(Ge()),wi=Ln(),Si=Rr(),st=class{static parseFriendly(e){if(e.length!==55)throw Error("Invalid address");e="f"+e;let r=(0,wi.base32Decode)(e);if(r[0]!==45)throw Error("Invalid address");let n=r.slice(33);if(!(0,Si.crc16)(r.slice(0,33)).equals(n))throw Error("Invalid address");return new st(r.slice(1,33))}static parseRaw(e){let r=c.Buffer.from(e,"base64");return new st(r)}constructor(e){if(this.toRaw=()=>this.address.toString("hex").toUpperCase(),this.toString=()=>{let r=c.Buffer.concat([c.Buffer.from([45]),this.address]),n=(0,Si.crc16)(r);return r=c.Buffer.concat([r,n]),(0,wi.base32Encode)(r).slice(1)},this[Ci]=()=>this.toString(),e.length!==32)throw Error("Invalid address");this.address=e}equals(e){return this.address.equals(e.address)}};at.ADNLAddress=st;Ci=hu.default});var fr=S(lt=>{"use strict";l();u();Object.defineProperty(lt,"__esModule",{value:!0});lt.paddedBufferToBits=lt.bitsToPaddedBuffer=void 0;var gu=cr(),pu=ve();function yu(t){let e=new gu.BitBuilder(Math.ceil(t.length/8)*8);e.writeBits(t);let r=Math.ceil(t.length/8)*8-t.length;for(let n=0;n<r;n++)n===0?e.writeBit(1):e.writeBit(0);return e.buffer()}lt.bitsToPaddedBuffer=yu;function _u(t){let e=0;for(let r=t.length-1;r>=0;r--)if(t[r]!==0){let n=t[r],o=n&-n;(o&1)==0&&(o=Math.log2(o)+1),r>0&&(e=r<<3),e+=8-o;break}return new pu.BitString(t,0,e)}lt.paddedBufferToBits=_u});var ve=S(ut=>{"use strict";l();u();var bu=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},vi;Object.defineProperty(ut,"__esModule",{value:!0});ut.BitString=void 0;var mu=fr(),Bu=bu(Ge()),Me=class{static isBitString(e){return e instanceof Me}constructor(e,r,n){if(this[vi]=()=>this.toString(),n<0)throw new Error(`Length ${n} is out of bounds`);this._length=n,this._data=e,this._offset=r}get length(){return this._length}at(e){if(e>=this._length)throw new Error(`Index ${e} > ${this._length} is out of bounds`);if(e<0)throw new Error(`Index ${e} < 0 is out of bounds`);let r=this._offset+e>>3,n=7-(this._offset+e)%8;return(this._data[r]&1<<n)!==0}substring(e,r){if(e>this._length)throw new Error(`Offset(${e}) > ${this._length} is out of bounds`);if(e<0)throw new Error(`Offset(${e}) < 0 is out of bounds`);if(r===0)return Me.EMPTY;if(e+r>this._length)throw new Error(`Offset ${e} + Length ${r} > ${this._length} is out of bounds`);return new Me(this._data,this._offset+e,r)}subbuffer(e,r){if(e>this._length)throw new Error(`Offset ${e} is out of bounds`);if(e<0)throw new Error(`Offset ${e} is out of bounds`);if(e+r>this._length)throw new Error(`Offset + Lenght = ${e+r} is out of bounds`);if(r%8!==0||(this._offset+e)%8!==0)return null;let n=this._offset+e>>3,o=n+(r>>3);return this._data.subarray(n,o)}equals(e){if(this._length!==e._length)return!1;for(let r=0;r<this._length;r++)if(this.at(r)!==e.at(r))return!1;return!0}toString(){let e=(0,mu.bitsToPaddedBuffer)(this);if(this._length%4===0){let r=e.subarray(0,Math.ceil(this._length/8)).toString("hex").toUpperCase();return this._length%8===0?r:r.substring(0,r.length-1)}else{let r=e.toString("hex").toUpperCase();return this._length%8<=4?r.substring(0,r.length-1)+"_":r+"_"}}};ut.BitString=Me;vi=Bu.default;Me.EMPTY=new Me(c.Buffer.alloc(0),0,0)});var cr=S(kr=>{"use strict";l();u();Object.defineProperty(kr,"__esModule",{value:!0});kr.BitBuilder=void 0;var wu=Ae(),Su=Or(),Cu=ve(),Dn=class{constructor(e=1023){this._buffer=c.Buffer.alloc(Math.ceil(e/8)),this._length=0}get length(){return this._length}writeBit(e){let r=this._length;if(r>this._buffer.length*8)throw new Error("BitBuilder overflow");(typeof e=="boolean"&&e===!0||typeof e=="number"&&e>0)&&(this._buffer[r/8|0]|=1<<7-r%8),this._length++}writeBits(e){for(let r=0;r<e.length;r++)this.writeBit(e.at(r))}writeBuffer(e){if(this._length%8===0){if(this._length+e.length*8>this._buffer.length*8)throw new Error("BitBuilder overflow");e.copy(this._buffer,this._length/8),this._length+=e.length*8}else for(let r=0;r<e.length;r++)this.writeUint(e[r],8)}writeUint(e,r){if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);let n=BigInt(e);if(r===0){if(n!==0n)throw Error(`value is not zero for ${r} bits. Got ${e}`);return}let o=1n<<BigInt(r);if(n<0||n>=o)throw Error(`bitLength is too small for a value ${e}. Got ${r}`);if(this._length+r>this._buffer.length*8)throw new Error("BitBuilder overflow");let s=8-this._length%8;if(s>0){let p=Math.floor(this._length/8);if(r<s){let f=Number(n);this._buffer[p]|=f<<s-r,this._length+=r}else{let f=Number(n>>BigInt(r-s));this._buffer[p]|=f,this._length+=s}}for(r-=s;r>0;)r>=8?(this._buffer[this._length/8]=Number(n>>BigInt(r-8)&0xffn),this._length+=8,r-=8):(this._buffer[this._length/8]=Number(n<<BigInt(8-r)&0xffn),this._length+=r,r=0)}writeInt(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(r===0){if(e!==0n)throw Error(`value is not zero for ${r} bits. Got ${e}`);return}if(r===1){if(e!==-1n&&e!==0n)throw Error(`value is not zero or -1 for ${r} bits. Got ${e}`);this.writeBit(e===-1n);return}let o=1n<<BigInt(r)-1n;if(n<-o||n>=o)throw Error(`value is out of range for ${r} bits. Got ${e}`);n<0?(this.writeBit(!0),n=o+n):this.writeBit(!1),this.writeUint(n,r-1)}writeVarUint(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(n<0)throw Error(`value is negative. Got ${e}`);if(n===0n){this.writeUint(0,r);return}let o=Math.ceil(n.toString(2).length/8),s=o*8;this.writeUint(o,r),this.writeUint(n,s)}writeVarInt(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(n===0n){this.writeUint(0,r);return}let o=n>0?n:-n,s=1+Math.ceil(o.toString(2).length/8),p=s*8;this.writeUint(s,r),this.writeInt(n,p)}writeCoins(e){this.writeVarUint(e,4)}writeAddress(e){if(e==null){this.writeUint(0,2);return}if(wu.Address.isAddress(e)){this.writeUint(2,2),this.writeUint(0,1),this.writeInt(e.workChain,8),this.writeBuffer(e.hash);return}if(Su.ExternalAddress.isAddress(e)){this.writeUint(1,2),this.writeUint(e.bits,9),this.writeUint(e.value,e.bits);return}throw Error(`Invalid address. Got ${e}`)}build(){return new Cu.BitString(this._buffer,0,this._length)}buffer(){if(this._length%8!==0)throw new Error("BitBuilder buffer is not byte aligned");return this._buffer.subarray(0,this._length/8)}};kr.BitBuilder=Dn});var dt=S(hr=>{"use strict";l();u();Object.defineProperty(hr,"__esModule",{value:!0});hr.CellType=void 0;var Au;(function(t){t[t.Ordinary=-1]="Ordinary",t[t.PrunedBranch=1]="PrunedBranch",t[t.Library=2]="Library",t[t.MerkleProof=3]="MerkleProof",t[t.MerkleUpdate=4]="MerkleUpdate"})(Au=hr.CellType||(hr.CellType={}))});var Mi=S(qr=>{"use strict";l();u();Object.defineProperty(qr,"__esModule",{value:!0});qr.readUnaryLength=void 0;function vu(t){let e=0;for(;t.loadBit();)e++;return e}qr.readUnaryLength=vu});var Pe=S(jr=>{"use strict";l();u();Object.defineProperty(jr,"__esModule",{value:!0});jr.BitReader=void 0;var Mu=Ae(),Pu=Or(),gr=class{constructor(e,r=0){this._checkpoints=[],this._bits=e,this._offset=r}get offset(){return this._offset}get remaining(){return this._bits.length-this._offset}skip(e){if(e<0||this._offset+e>this._bits.length)throw new Error(`Index ${this._offset+e} is out of bounds`);this._offset+=e}reset(){this._checkpoints.length>0?this._offset=this._checkpoints.pop():this._offset=0}save(){this._checkpoints.push(this._offset)}loadBit(){let e=this._bits.at(this._offset);return this._offset++,e}preloadBit(){return this._bits.at(this._offset)}loadBits(e){let r=this._bits.substring(this._offset,e);return this._offset+=e,r}preloadBits(e){return this._bits.substring(this._offset,e)}loadBuffer(e){let r=this._preloadBuffer(e,this._offset);return this._offset+=e*8,r}preloadBuffer(e){return this._preloadBuffer(e,this._offset)}loadUint(e){return Number(this.loadUintBig(e))}loadUintBig(e){let r=this.preloadUintBig(e);return this._offset+=e,r}preloadUint(e){return Number(this._preloadUint(e,this._offset))}preloadUintBig(e){return this._preloadUint(e,this._offset)}loadInt(e){let r=this._preloadInt(e,this._offset);return this._offset+=e,Number(r)}loadIntBig(e){let r=this._preloadInt(e,this._offset);return this._offset+=e,r}preloadInt(e){return Number(this._preloadInt(e,this._offset))}preloadIntBig(e){return this._preloadInt(e,this._offset)}loadVarUint(e){let r=Number(this.loadUint(e));return Number(this.loadUintBig(r*8))}loadVarUintBig(e){let r=Number(this.loadUint(e));return this.loadUintBig(r*8)}preloadVarUint(e){let r=Number(this._preloadUint(e,this._offset));return Number(this._preloadUint(r*8,this._offset+e))}preloadVarUintBig(e){let r=Number(this._preloadUint(e,this._offset));return this._preloadUint(r*8,this._offset+e)}loadVarInt(e){let r=Number(this.loadUint(e));return Number(this.loadIntBig(r*8))}loadVarIntBig(e){let r=Number(this.loadUint(e));return this.loadIntBig(r*8)}preloadVarInt(e){let r=Number(this._preloadUint(e,this._offset));return Number(this._preloadInt(r*8,this._offset+e))}preloadVarIntBig(e){let r=Number(this._preloadUint(e,this._offset));return this._preloadInt(r*8,this._offset+e)}loadCoins(){return this.loadVarUintBig(4)}preloadCoins(){return this.preloadVarUintBig(4)}loadAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===2)return this._loadInternalAddress();throw new Error("Invalid address: "+e)}loadMaybeAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===2)return this._loadInternalAddress();throw new Error("Invalid address")}loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadMaybeExternalAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadAddressAny(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===2)return this._loadInternalAddress();if(e===1)return this._loadExternalAddress();throw Error(e===3?"Unsupported":"Unreachable")}loadPaddedBits(e){if(e%8!==0)throw new Error("Invalid number of bits");let r=e;for(;;)if(this._bits.at(this._offset+r-1)){r--;break}else r--;let n=this._bits.substring(this._offset,r);return this._offset+=e,n}clone(){return new gr(this._bits,this._offset)}_preloadInt(e,r){if(e==0)return 0n;let n=this._bits.at(r),o=0n;for(let s=0;s<e-1;s++)this._bits.at(r+1+s)&&(o+=1n<<BigInt(e-s-1-1));return n&&(o=o-(1n<<BigInt(e-1))),o}_preloadUint(e,r){if(e==0)return 0n;let n=0n;for(let o=0;o<e;o++)this._bits.at(r+o)&&(n+=1n<<BigInt(e-o-1));return n}_preloadBuffer(e,r){let n=this._bits.subbuffer(r,e*8);if(n)return n;let o=c.Buffer.alloc(e);for(let s=0;s<e;s++)o[s]=Number(this._preloadUint(8,r+s*8));return o}_loadInternalAddress(){if(Number(this._preloadUint(2,this._offset))!==2||this._preloadUint(1,this._offset+2)!==0n)throw Error("Invalid address");let r=Number(this._preloadInt(8,this._offset+3)),n=this._preloadBuffer(32,this._offset+11);return this._offset+=267,new Mu.Address(r,n)}_loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))!==1)throw Error("Invalid address");let r=Number(this._preloadUint(9,this._offset+2)),n=this._preloadUint(r,this._offset+11);return this._offset+=11+r,new Pu.ExternalAddress(n,r)}};jr.BitReader=gr});var pr=S(ft=>{"use strict";l();u();Object.defineProperty(ft,"__esModule",{value:!0});ft.convertToMerkleProof=ft.exoticMerkleProof=void 0;var xu=Pe(),Uu=z();function Iu(t,e){let r=new xu.BitReader(t),n=8+256+16;if(t.length!==n)throw new Error(`Merkle Proof cell must have exactly (8 + 256 + 16) bits, got "${t.length}"`);if(e.length!==1)throw new Error(`Merkle Proof cell must have exactly 1 ref, got "${e.length}"`);let o=r.loadUint(8);if(o!==3)throw new Error(`Merkle Proof cell must have type 3, got "${o}"`);let s=r.loadBuffer(32),p=r.loadUint(16),f=e[0].hash(0),_=e[0].depth(0);if(p!==_)throw new Error(`Merkle Proof cell ref depth must be exactly "${p}", got "${_}"`);if(!s.equals(f))throw new Error(`Merkle Proof cell ref hash must be exactly "${s.toString("hex")}", got "${f.toString("hex")}"`);return{proofDepth:p,proofHash:s}}ft.exoticMerkleProof=Iu;function Tu(t){return(0,Uu.beginCell)().storeUint(3,8).storeBuffer(t.hash(0)).storeUint(t.depth(0),16).storeRef(t).endCell({exotic:!0})}ft.convertToMerkleProof=Tu});var Nr=S(ct=>{"use strict";l();u();Object.defineProperty(ct,"__esModule",{value:!0});ct.generateMerkleProof=ct.generateMerkleProofDirect=void 0;var Vn=z(),Eu=Mi(),Ru=pr();function Ou(t){return(0,Vn.beginCell)().storeUint(1,8).storeUint(1,8).storeBuffer(t.hash(0)).storeUint(t.depth(0),16).endCell({exotic:!0})}function Fn(t,e,r,n){let o=e.asCell();if(n.length==0)return Ou(o);let s=e.loadBit()?1:0,p=0,f=t;if(s===0){p=(0,Eu.readUnaryLength)(e);for(let _=0;_<p;_++)f+=e.loadBit()?"1":"0"}else if((e.loadBit()?1:0)===0){p=e.loadUint(Math.ceil(Math.log2(r+1)));for(let B=0;B<p;B++)f+=e.loadBit()?"1":"0"}else{let B=e.loadBit()?"1":"0";p=e.loadUint(Math.ceil(Math.log2(r+1)));for(let U=0;U<p;U++)f+=B}if(r-p===0)return o;{let _=o.beginParse(),B=_.loadRef(),U=_.loadRef();if(!B.isExotic){let R=n.filter(T=>f+"0"===T.slice(0,f.length+1));B=Fn(f+"0",B.beginParse(),r-p-1,R)}if(!U.isExotic){let R=n.filter(T=>f+"1"===T.slice(0,f.length+1));U=Fn(f+"1",U.beginParse(),r-p-1,R)}return(0,Vn.beginCell)().storeSlice(_).storeRef(B).storeRef(U).endCell()}}function Pi(t,e,r){e.forEach(o=>{if(!t.has(o))throw new Error(`Trying to generate merkle proof for a missing key "${o}"`)});let n=(0,Vn.beginCell)().storeDictDirect(t).asSlice();return Fn("",n,r.bits,e.map(o=>r.serialize(o).toString(2).padStart(r.bits,"0")))}ct.generateMerkleProofDirect=Pi;function ku(t,e,r){return(0,Ru.convertToMerkleProof)(Pi(t,e,r))}ct.generateMerkleProof=ku});var Hn=S(Kr=>{"use strict";l();u();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.generateMerkleUpdate=void 0;var qu=z(),xi=Nr();function ju(t,e){return(0,qu.beginCell)().storeUint(4,8).storeBuffer(t.hash(0)).storeBuffer(e.hash(0)).storeUint(t.depth(0),16).storeUint(e.depth(0),16).storeRef(t).storeRef(e).endCell({exotic:!0})}function Nu(t,e,r,n){let o=(0,xi.generateMerkleProof)(t,[e],r).refs[0];t.set(e,n);let s=(0,xi.generateMerkleProof)(t,[e],r).refs[0];return ju(o,s)}Kr.generateMerkleUpdate=Nu});var Ui=S(Lr=>{"use strict";l();u();Object.defineProperty(Lr,"__esModule",{value:!0});Lr.parseDict=void 0;function Ku(t){let e=0;for(;t.loadBit();)e++;return e}function zn(t,e,r,n,o){let s=e.loadBit()?1:0,p=0,f=t;if(s===0){p=Ku(e);for(let _=0;_<p;_++)f+=e.loadBit()?"1":"0"}else if((e.loadBit()?1:0)===0){p=e.loadUint(Math.ceil(Math.log2(r+1)));for(let B=0;B<p;B++)f+=e.loadBit()?"1":"0"}else{let B=e.loadBit()?"1":"0";p=e.loadUint(Math.ceil(Math.log2(r+1)));for(let U=0;U<p;U++)f+=B}if(r-p===0)n.set(BigInt("0b"+f),o(e));else{let _=e.loadRef(),B=e.loadRef();_.isExotic||zn(f+"0",_.beginParse(),r-p-1,n,o),B.isExotic||zn(f+"1",B.beginParse(),r-p-1,n,o)}}function Lu(t,e,r){let n=new Map;return t&&zn("",t,e,n,r),n}Lr.parseDict=Lu});var Ii=S(Dr=>{"use strict";l();u();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.findCommonPrefix=void 0;function Du(t,e=0){if(t.length===0)return"";let r=t[0].slice(e);for(let n=1;n<t.length;n++){let o=t[n];for(;o.indexOf(r,e)!==e;)if(r=r.substring(0,r.length-1),r==="")return r}return r}Dr.findCommonPrefix=Du});var ji=S(ee=>{"use strict";l();u();Object.defineProperty(ee,"__esModule",{value:!0});ee.serializeDict=ee.detectLabelType=ee.writeLabelSame=ee.writeLabelLong=ee.writeLabelShort=ee.buildTree=void 0;var Ti=z(),Fu=Ii();function Vu(t,e){for(;t.length<e;)t="0"+t;return t}function Hu(t,e){if(t.size===0)throw Error("Internal inconsistency");let r=new Map,n=new Map;for(let[o,s]of t.entries())o[e]==="0"?r.set(o,s):n.set(o,s);if(r.size===0)throw Error("Internal inconsistency. Left emtpy.");if(n.size===0)throw Error("Internal inconsistency. Right emtpy.");return{left:r,right:n}}function zu(t,e){if(t.size===0)throw Error("Internal inconsistency");if(t.size===1)return{type:"leaf",value:Array.from(t.values())[0]};let{left:r,right:n}=Hu(t,e);return{type:"fork",left:Wn(r,e+1),right:Wn(n,e+1)}}function Wn(t,e=0){if(t.size===0)throw Error("Internal inconsistency");let r=(0,Fu.findCommonPrefix)(Array.from(t.keys()),e);return{label:r,node:zu(t,r.length+e)}}function Ei(t,e){let r=new Map;for(let n of Array.from(t.keys())){let o=Vu(n.toString(2),e);r.set(o,t.get(n))}return Wn(r)}ee.buildTree=Ei;function Ri(t,e){e.storeBit(0);for(let r=0;r<t.length;r++)e.storeBit(1);return e.storeBit(0),t.length>0&&e.storeUint(BigInt("0b"+t),t.length),e}ee.writeLabelShort=Ri;function Wu(t){return 1+t.length+1+t.length}function Oi(t,e,r){r.storeBit(1),r.storeBit(0);let n=Math.ceil(Math.log2(e+1));return r.storeUint(t.length,n),t.length>0&&r.storeUint(BigInt("0b"+t),t.length),r}ee.writeLabelLong=Oi;function $u(t,e){return 1+1+Math.ceil(Math.log2(e+1))+t.length}function ki(t,e,r,n){n.storeBit(1),n.storeBit(1),n.storeBit(t);let o=Math.ceil(Math.log2(r+1));n.storeUint(e,o)}ee.writeLabelSame=ki;function Yu(t){return 1+1+1+Math.ceil(Math.log2(t+1))}function Qu(t){if(t.length===0||t.length===1)return!0;for(let e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0}function qi(t,e){let r="short",n=Wu(t),o=$u(t,e);if(o<n&&(n=o,r="long"),Qu(t)){let s=Yu(e);s<n&&(n=s,r="same")}return r}ee.detectLabelType=qi;function Gu(t,e,r){let n=qi(t,e);n==="short"?Ri(t,r):n==="long"?Oi(t,e,r):n==="same"&&ki(t[0]==="1",t.length,e,r)}function Xu(t,e,r,n){if(t.type==="leaf"&&r(t.value,n),t.type==="fork"){let o=(0,Ti.beginCell)(),s=(0,Ti.beginCell)();$n(t.left,e-1,r,o),$n(t.right,e-1,r,s),n.storeRef(o),n.storeRef(s)}}function $n(t,e,r,n){Gu(t.label,e,n),Xu(t.node,e-t.label.length,r,n)}function Zu(t,e,r,n){let o=Ei(t,e);$n(o,e,r,n)}ee.serializeDict=Zu});var Ki=S(ht=>{"use strict";l();u();Object.defineProperty(ht,"__esModule",{value:!0});ht.deserializeInternalKey=ht.serializeInternalKey=void 0;var Ni=Ae(),Yn=ve(),Ju=fr();function ed(t){if(typeof t=="number"){if(!Number.isSafeInteger(t))throw Error("Invalid key type: not a safe integer: "+t);return"n:"+t.toString(10)}else{if(typeof t=="bigint")return"b:"+t.toString(10);if(Ni.Address.isAddress(t))return"a:"+t.toString();if(c.Buffer.isBuffer(t))return"f:"+t.toString("hex");if(Yn.BitString.isBitString(t))return"B:"+t.toString();throw Error("Invalid key type")}}ht.serializeInternalKey=ed;function td(t){let e=t.slice(0,2),r=t.slice(2);if(e==="n:")return parseInt(r,10);if(e==="b:")return BigInt(r);if(e==="a:")return Ni.Address.parse(r);if(e==="f:")return c.Buffer.from(r,"hex");if(e==="B:"){let n=r.slice(-1)=="_";if(n||r.length%2!=0){let s=n?r.length-1:r.length,p=r.substr(0,s)+"0";return!n&&(s&1)!==0?new Yn.BitString(c.Buffer.from(p,"hex"),0,s<<2):(0,Ju.paddedBufferToBits)(c.Buffer.from(p,"hex"))}else return new Yn.BitString(c.Buffer.from(r,"hex"),0,r.length<<2)}throw Error("Invalid key type: "+e)}ht.deserializeInternalKey=td});var Oe=S(Fr=>{"use strict";l();u();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Dictionary=void 0;var rd=Ae(),Z=z(),Li=ke(),nd=ve(),Di=Nr(),od=Hn(),id=Ui(),Fi=ji(),xe=Ki(),te=class{static empty(e,r){return e&&r?new te(new Map,e,r):new te(new Map,null,null)}static load(e,r,n){let o;if(n instanceof Li.Cell){if(n.isExotic)return te.empty(e,r);o=n.beginParse()}else o=n;let s=o.loadMaybeRef();return s&&!s.isExotic?te.loadDirect(e,r,s.beginParse()):te.empty(e,r)}static loadDirect(e,r,n){if(!n)return te.empty(e,r);let o;n instanceof Li.Cell?o=n.beginParse():o=n;let s=(0,id.parseDict)(o,e.bits,r.parse),p=new Map;for(let[f,_]of s)p.set((0,xe.serializeInternalKey)(e.parse(f)),_);return new te(p,e,r)}constructor(e,r,n){this._key=r,this._value=n,this._map=e}get size(){return this._map.size}get(e){return this._map.get((0,xe.serializeInternalKey)(e))}has(e){return this._map.has((0,xe.serializeInternalKey)(e))}set(e,r){return this._map.set((0,xe.serializeInternalKey)(e),r),this}delete(e){let r=(0,xe.serializeInternalKey)(e);return this._map.delete(r)}clear(){this._map.clear()}*[Symbol.iterator](){for(let[e,r]of this._map)yield[(0,xe.deserializeInternalKey)(e),r]}keys(){return Array.from(this._map.keys()).map(e=>(0,xe.deserializeInternalKey)(e))}values(){return Array.from(this._map.values())}store(e,r,n){if(this._map.size===0)e.storeBit(0);else{let o=this._key;r!=null&&(o=r);let s=this._value;if(n!=null&&(s=n),!o)throw Error("Key serializer is not defined");if(!s)throw Error("Value serializer is not defined");let p=new Map;for(let[_,B]of this._map)p.set(o.serialize((0,xe.deserializeInternalKey)(_)),B);e.storeBit(1);let f=(0,Z.beginCell)();(0,Fi.serializeDict)(p,o.bits,s.serialize,f),e.storeRef(f.endCell())}}storeDirect(e,r,n){if(this._map.size===0)throw Error("Cannot store empty dictionary directly");let o=this._key;r!=null&&(o=r);let s=this._value;if(n!=null&&(s=n),!o)throw Error("Key serializer is not defined");if(!s)throw Error("Value serializer is not defined");let p=new Map;for(let[f,_]of this._map)p.set(o.serialize((0,xe.deserializeInternalKey)(f)),_);(0,Fi.serializeDict)(p,o.bits,s.serialize,e)}generateMerkleProof(e){return(0,Di.generateMerkleProof)(this,e,this._key)}generateMerkleProofDirect(e){return(0,Di.generateMerkleProofDirect)(this,e,this._key)}generateMerkleUpdate(e,r){return(0,od.generateMerkleUpdate)(this,e,this._key,r)}};Fr.Dictionary=te;te.Keys={Address:()=>sd(),BigInt:t=>ad(t),Int:t=>ld(t),BigUint:t=>ud(t),Uint:t=>dd(t),Buffer:t=>fd(t),BitString:t=>cd(t)};te.Values={BigInt:t=>gd(t),Int:t=>hd(t),BigVarInt:t=>pd(t),BigUint:t=>bd(t),Uint:t=>_d(t),BigVarUint:t=>yd(t),Bool:()=>md(),Address:()=>Bd(),Cell:()=>wd(),Buffer:t=>Cd(t),BitString:t=>Ad(t),Dictionary:(t,e)=>Sd(t,e)};function sd(){return{bits:267,serialize:t=>{if(!rd.Address.isAddress(t))throw Error("Key is not an address");return(0,Z.beginCell)().storeAddress(t).endCell().beginParse().preloadUintBig(267)},parse:t=>(0,Z.beginCell)().storeUint(t,267).endCell().beginParse().loadAddress()}}function ad(t){return{bits:t,serialize:e=>{if(typeof e!="bigint")throw Error("Key is not a bigint");return(0,Z.beginCell)().storeInt(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadIntBig(t)}}function ld(t){return{bits:t,serialize:e=>{if(typeof e!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(e))throw Error("Key is not a safe integer: "+e);return(0,Z.beginCell)().storeInt(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadInt(t)}}function ud(t){return{bits:t,serialize:e=>{if(typeof e!="bigint")throw Error("Key is not a bigint");if(e<0)throw Error("Key is negative: "+e);return(0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)}}function dd(t){return{bits:t,serialize:e=>{if(typeof e!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(e))throw Error("Key is not a safe integer: "+e);if(e<0)throw Error("Key is negative: "+e);return(0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>Number((0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadUint(t))}}function fd(t){return{bits:t*8,serialize:e=>{if(!c.Buffer.isBuffer(e))throw Error("Key is not a buffer");return(0,Z.beginCell)().storeBuffer(e).endCell().beginParse().loadUintBig(t*8)},parse:e=>(0,Z.beginCell)().storeUint(e,t*8).endCell().beginParse().loadBuffer(t)}}function cd(t){return{bits:t,serialize:e=>{if(!nd.BitString.isBitString(e))throw Error("Key is not a BitString");return(0,Z.beginCell)().storeBits(e).endCell().beginParse().loadUintBig(t)},parse:e=>(0,Z.beginCell)().storeUint(e,t).endCell().beginParse().loadBits(t)}}function hd(t){return{serialize:(e,r)=>{r.storeInt(e,t)},parse:e=>e.loadInt(t)}}function gd(t){return{serialize:(e,r)=>{r.storeInt(e,t)},parse:e=>e.loadIntBig(t)}}function pd(t){return{serialize:(e,r)=>{r.storeVarInt(e,t)},parse:e=>e.loadVarIntBig(t)}}function yd(t){return{serialize:(e,r)=>{r.storeVarUint(e,t)},parse:e=>e.loadVarUintBig(t)}}function _d(t){return{serialize:(e,r)=>{r.storeUint(e,t)},parse:e=>e.loadUint(t)}}function bd(t){return{serialize:(e,r)=>{r.storeUint(e,t)},parse:e=>e.loadUintBig(t)}}function md(){return{serialize:(t,e)=>{e.storeBit(t)},parse:t=>t.loadBit()}}function Bd(){return{serialize:(t,e)=>{e.storeAddress(t)},parse:t=>t.loadAddress()}}function wd(){return{serialize:(t,e)=>{e.storeRef(t)},parse:t=>t.loadRef()}}function Sd(t,e){return{serialize:(r,n)=>{r.store(n)},parse:r=>te.load(t,e,r)}}function Cd(t){return{serialize:(e,r)=>{if(e.length!==t)throw Error("Invalid buffer size");r.storeBuffer(e)},parse:e=>e.loadBuffer(t)}}function Ad(t){return{serialize:(e,r)=>{if(e.length!==t)throw Error("Invalid BitString size");r.storeBits(e)},parse:e=>e.loadBits(t)}}});var Gn=S(qe=>{"use strict";l();u();Object.defineProperty(qe,"__esModule",{value:!0});qe.writeString=qe.stringToCell=qe.readString=void 0;var Vi=z();function Hi(t){if(t.remainingBits%8!==0)throw new Error(`Invalid string length: ${t.remainingBits}`);if(t.remainingRefs!==0&&t.remainingRefs!==1)throw new Error(`invalid number of refs: ${t.remainingRefs}`);let e;return t.remainingBits===0?e=c.Buffer.alloc(0):e=t.loadBuffer(t.remainingBits/8),t.remainingRefs===1&&(e=c.Buffer.concat([e,Hi(t.loadRef().beginParse())])),e}function vd(t){return Hi(t).toString()}qe.readString=vd;function Qn(t,e){if(t.length>0){let r=Math.floor(e.availableBits/8);if(t.length>r){let n=t.subarray(0,r),o=t.subarray(r);e=e.storeBuffer(n);let s=(0,Vi.beginCell)();Qn(o,s),e=e.storeRef(s.endCell())}else e=e.storeBuffer(t)}}function Md(t){let e=(0,Vi.beginCell)();return Qn(c.Buffer.from(t),e),e.endCell()}qe.stringToCell=Md;function Pd(t,e){Qn(c.Buffer.from(t),e)}qe.writeString=Pd});var Hr=S(pt=>{"use strict";l();u();var xd=pt&&pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},$i;Object.defineProperty(pt,"__esModule",{value:!0});pt.Slice=void 0;var Ud=xd(Ge()),zi=Oe(),Wi=z(),Vr=Gn(),gt=class{constructor(e,r){this[$i]=()=>this.toString(),this._reader=e.clone(),this._refs=[...r],this._refsOffset=0}get remainingBits(){return this._reader.remaining}get offsetBits(){return this._reader.offset}get remainingRefs(){return this._refs.length-this._refsOffset}get offsetRefs(){return this._refsOffset}skip(e){return this._reader.skip(e),this}loadBit(){return this._reader.loadBit()}preloadBit(){return this._reader.preloadBit()}loadBoolean(){return this.loadBit()}loadMaybeBoolean(){return this.loadBit()?this.loadBoolean():null}loadBits(e){return this._reader.loadBits(e)}preloadBits(e){return this._reader.preloadBits(e)}loadUint(e){return this._reader.loadUint(e)}loadUintBig(e){return this._reader.loadUintBig(e)}preloadUint(e){return this._reader.preloadUint(e)}preloadUintBig(e){return this._reader.preloadUintBig(e)}loadMaybeUint(e){return this.loadBit()?this.loadUint(e):null}loadMaybeUintBig(e){return this.loadBit()?this.loadUintBig(e):null}loadInt(e){return this._reader.loadInt(e)}loadIntBig(e){return this._reader.loadIntBig(e)}preloadInt(e){return this._reader.preloadInt(e)}preloadIntBig(e){return this._reader.preloadIntBig(e)}loadMaybeInt(e){return this.loadBit()?this.loadInt(e):null}loadMaybeIntBig(e){return this.loadBit()?this.loadIntBig(e):null}loadVarUint(e){return this._reader.loadVarUint(e)}loadVarUintBig(e){return this._reader.loadVarUintBig(e)}preloadVarUint(e){return this._reader.preloadVarUint(e)}preloadVarUintBig(e){return this._reader.preloadVarUintBig(e)}loadVarInt(e){return this._reader.loadVarInt(e)}loadVarIntBig(e){return this._reader.loadVarIntBig(e)}preloadVarInt(e){return this._reader.preloadVarInt(e)}preloadVarIntBig(e){return this._reader.preloadVarIntBig(e)}loadCoins(){return this._reader.loadCoins()}preloadCoins(){return this._reader.preloadCoins()}loadMaybeCoins(){return this._reader.loadBit()?this._reader.loadCoins():null}loadAddress(){return this._reader.loadAddress()}loadMaybeAddress(){return this._reader.loadMaybeAddress()}loadExternalAddress(){return this._reader.loadExternalAddress()}loadMaybeExternalAddress(){return this._reader.loadMaybeExternalAddress()}loadAddressAny(){return this._reader.loadAddressAny()}loadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset++]}preloadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset]}loadMaybeRef(){return this.loadBit()?this.loadRef():null}preloadMaybeRef(){return this.preloadBit()?this.preloadRef():null}loadBuffer(e){return this._reader.loadBuffer(e)}preloadBuffer(e){return this._reader.preloadBuffer(e)}loadStringTail(){return(0,Vr.readString)(this)}loadMaybeStringTail(){return this.loadBit()?(0,Vr.readString)(this):null}loadStringRefTail(){return(0,Vr.readString)(this.loadRef().beginParse())}loadMaybeStringRefTail(){let e=this.loadMaybeRef();return e?(0,Vr.readString)(e.beginParse()):null}loadDict(e,r){return zi.Dictionary.load(e,r,this)}loadDictDirect(e,r){return zi.Dictionary.loadDirect(e,r,this)}endParse(){if(this.remainingBits>0||this.remainingRefs>0)throw new Error("Slice is not empty")}asCell(){return(0,Wi.beginCell)().storeSlice(this).endCell()}asBuilder(){return(0,Wi.beginCell)().storeSlice(this)}clone(e=!1){if(e){let r=this._reader.clone();return r.reset(),new gt(r,this._refs)}else{let r=new gt(this._reader,this._refs);return r._refsOffset=this._refsOffset,r}}toString(){return this.asCell().toString()}};pt.Slice=gt;$i=Ud.default});var Xn=S(zr=>{"use strict";l();u();Object.defineProperty(zr,"__esModule",{value:!0});zr.exoticLibrary=void 0;var Id=Pe();function Td(t,e){let r=new Id.BitReader(t),n=8+256;if(t.length!==n)throw new Error(`Library cell must have exactly (8 + 256) bits, got "${t.length}"`);let o=r.loadUint(8);if(o!==2)throw new Error(`Library cell must have type 2, got "${o}"`);return{}}zr.exoticLibrary=Td});var $r=S(Wr=>{"use strict";l();u();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.exoticMerkleUpdate=void 0;var Ed=Pe();function Rd(t,e){let r=new Ed.BitReader(t),n=8+2*(256+16);if(t.length!==n)throw new Error(`Merkle Update cell must have exactly (8 + (2 * (256 + 16))) bits, got "${t.length}"`);if(e.length!==2)throw new Error(`Merkle Update cell must have exactly 2 refs, got "${e.length}"`);let o=r.loadUint(8);if(o!==4)throw new Error(`Merkle Update cell type must be exactly 4, got "${o}"`);let s=r.loadBuffer(32),p=r.loadBuffer(32),f=r.loadUint(16),_=r.loadUint(16);if(f!==e[0].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${f}", got "${e[0].depth(0)}"`);if(!s.equals(e[0].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${s.toString("hex")}", got "${e[0].hash(0).toString("hex")}"`);if(_!==e[1].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${_}", got "${e[1].depth(0)}"`);if(!p.equals(e[1].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${p.toString("hex")}", got "${e[1].hash(0).toString("hex")}"`);return{proofDepth1:f,proofDepth2:_,proofHash1:s,proofHash2:p}}Wr.exoticMerkleUpdate=Rd});var Qr=S(Yr=>{"use strict";l();u();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.LevelMask=void 0;var yr=class{constructor(e=0){this._mask=0,this._mask=e,this._hashIndex=Od(this._mask),this._hashCount=this._hashIndex+1}get value(){return this._mask}get level(){return 32-Math.clz32(this._mask)}get hashIndex(){return this._hashIndex}get hashCount(){return this._hashCount}apply(e){return new yr(this._mask&(1<<e)-1)}isSignificant(e){return e===0||(this._mask>>e-1)%2!==0}};Yr.LevelMask=yr;function Od(t){return t=t-(t>>1&1431655765),t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>24}});var Xr=S(Gr=>{"use strict";l();u();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.exoticPruned=void 0;var kd=Pe(),Yi=Qr();function qd(t,e){let r=new kd.BitReader(t),n=r.loadUint(8);if(n!==1)throw new Error(`Pruned branch cell must have type 1, got "${n}"`);if(e.length!==0)throw new Error(`Pruned Branch cell can't has refs, got "${e.length}"`);let o;if(t.length===280)o=new Yi.LevelMask(1);else{if(o=new Yi.LevelMask(r.loadUint(8)),o.level<1||o.level>3)throw new Error(`Pruned Branch cell level must be >= 1 and <= 3, got "${o.level}/${o.value}"`);let _=8+8+o.apply(o.level-1).hashCount*(256+16);if(t.length!==_)throw new Error(`Pruned branch cell must have exactly ${_} bits, got "${t.length}"`)}let s=[],p=[],f=[];for(let _=0;_<o.level;_++)p.push(r.loadBuffer(32));for(let _=0;_<o.level;_++)f.push(r.loadUint(16));for(let _=0;_<o.level;_++)s.push({depth:f[_],hash:p[_]});return{mask:o.value,pruned:s}}Gr.exoticPruned=qd});var Qi=S(en=>{"use strict";l();u();Object.defineProperty(en,"__esModule",{value:!0});en.resolveExotic=void 0;var jd=Pe(),Zr=dt(),Nd=Xn(),Kd=pr(),Ld=$r(),Dd=Xr(),Jr=Qr();function Fd(t,e){let r=(0,Dd.exoticPruned)(t,e),n=[],o=[],s=new Jr.LevelMask(r.mask);for(let p=0;p<r.pruned.length;p++)n.push(r.pruned[p].depth),o.push(r.pruned[p].hash);return{type:Zr.CellType.PrunedBranch,depths:n,hashes:o,mask:s}}function Vd(t,e){let r=(0,Nd.exoticLibrary)(t,e),n=[],o=[],s=new Jr.LevelMask;return{type:Zr.CellType.Library,depths:n,hashes:o,mask:s}}function Hd(t,e){let r=(0,Kd.exoticMerkleProof)(t,e),n=[],o=[],s=new Jr.LevelMask(e[0].level()>>1);return{type:Zr.CellType.MerkleProof,depths:n,hashes:o,mask:s}}function zd(t,e){let r=(0,Ld.exoticMerkleUpdate)(t,e),n=[],o=[],s=new Jr.LevelMask((e[0].level()|e[1].level())>>1);return{type:Zr.CellType.MerkleUpdate,depths:n,hashes:o,mask:s}}function Wd(t,e){let n=new jd.BitReader(t).preloadUint(8);if(n===1)return Fd(t,e);if(n===2)return Vd(t,e);if(n===3)return Hd(t,e);if(n===4)return zd(t,e);throw Error("Invalid exotic cell type: "+n)}en.resolveExotic=Wd});var Zn=S(je=>{"use strict";l();u();Object.defineProperty(je,"__esModule",{value:!0});je.getRepr=je.getBitsDescriptor=je.getRefsDescriptor=void 0;var _r=dt(),$d=fr();function Gi(t,e,r){return t.length+(r!==_r.CellType.Ordinary?1:0)*8+e*32}je.getRefsDescriptor=Gi;function Xi(t){let e=t.length;return Math.ceil(e/8)+Math.floor(e/8)}je.getBitsDescriptor=Xi;function Yd(t,e,r,n,o,s){let p=Math.ceil(e.length/8),f=c.Buffer.alloc(2+p+(2+32)*r.length),_=0;f[_++]=Gi(r,o,s),f[_++]=Xi(t),(0,$d.bitsToPaddedBuffer)(e).copy(f,_),_+=p;for(let B of r){let U;s==_r.CellType.MerkleProof||s==_r.CellType.MerkleUpdate?U=B.depth(n+1):U=B.depth(n),f[_++]=Math.floor(U/256),f[_++]=U%256}for(let B of r){let U;s==_r.CellType.MerkleProof||s==_r.CellType.MerkleUpdate?U=B.hash(n+1):U=B.hash(n),U.copy(f,_),_+=32}return f}je.getRepr=Yd});var tn=S((Jn,eo)=>{l();u();(function(t,e){typeof Jn=="object"&&typeof eo<"u"?eo.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).jsSHA=e()})(Jn,function(){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="ARRAYBUFFER not supported by this environment",r="UINT8ARRAY not supported by this environment";function n(g,i,d,h){var y,a,w,C=i||[0],A=(d=d||0)>>>3,P=h===-1?3:0;for(y=0;y<g.length;y+=1)a=(w=y+A)>>>2,C.length<=a&&C.push(0),C[a]|=g[y]<<8*(P+h*(w%4));return{value:C,binLen:8*g.length+d}}function o(g,i,d){switch(i){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(g){case"HEX":return function(h,y,a){return function(w,C,A,P){var O,M,I,q;if(w.length%2!=0)throw new Error("String of HEX type must be in byte increments");var v=C||[0],K=(A=A||0)>>>3,N=P===-1?3:0;for(O=0;O<w.length;O+=2){if(M=parseInt(w.substr(O,2),16),isNaN(M))throw new Error("String of HEX type contains invalid characters");for(I=(q=(O>>>1)+K)>>>2;v.length<=I;)v.push(0);v[I]|=M<<8*(N+P*(q%4))}return{value:v,binLen:4*w.length+A}}(h,y,a,d)};case"TEXT":return function(h,y,a){return function(w,C,A,P,O){var M,I,q,v,K,N,D,F,Ce=0,oe=A||[0],fe=(P=P||0)>>>3;if(C==="UTF8")for(D=O===-1?3:0,q=0;q<w.length;q+=1)for(I=[],128>(M=w.charCodeAt(q))?I.push(M):2048>M?(I.push(192|M>>>6),I.push(128|63&M)):55296>M||57344<=M?I.push(224|M>>>12,128|M>>>6&63,128|63&M):(q+=1,M=65536+((1023&M)<<10|1023&w.charCodeAt(q)),I.push(240|M>>>18,128|M>>>12&63,128|M>>>6&63,128|63&M)),v=0;v<I.length;v+=1){for(K=(N=Ce+fe)>>>2;oe.length<=K;)oe.push(0);oe[K]|=I[v]<<8*(D+O*(N%4)),Ce+=1}else for(D=O===-1?2:0,F=C==="UTF16LE"&&O!==1||C!=="UTF16LE"&&O===1,q=0;q<w.length;q+=1){for(M=w.charCodeAt(q),F===!0&&(M=(v=255&M)<<8|M>>>8),K=(N=Ce+fe)>>>2;oe.length<=K;)oe.push(0);oe[K]|=M<<8*(D+O*(N%4)),Ce+=2}return{value:oe,binLen:8*Ce+P}}(h,i,y,a,d)};case"B64":return function(h,y,a){return function(w,C,A,P){var O,M,I,q,v,K,N=0,D=C||[0],F=(A=A||0)>>>3,Ce=P===-1?3:0,oe=w.indexOf("=");if(w.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(w=w.replace(/=/g,""),oe!==-1&&oe<w.length)throw new Error("Invalid '=' found in base-64 string");for(O=0;O<w.length;O+=4){for(q=w.substr(O,4),I=0,M=0;M<q.length;M+=1)I|=t.indexOf(q.charAt(M))<<18-6*M;for(M=0;M<q.length-1;M+=1){for(v=(K=N+F)>>>2;D.length<=v;)D.push(0);D[v]|=(I>>>16-8*M&255)<<8*(Ce+P*(K%4)),N+=1}}return{value:D,binLen:8*N+A}}(h,y,a,d)};case"BYTES":return function(h,y,a){return function(w,C,A,P){var O,M,I,q,v=C||[0],K=(A=A||0)>>>3,N=P===-1?3:0;for(M=0;M<w.length;M+=1)O=w.charCodeAt(M),I=(q=M+K)>>>2,v.length<=I&&v.push(0),v[I]|=O<<8*(N+P*(q%4));return{value:v,binLen:8*w.length+A}}(h,y,a,d)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(e)}return function(h,y,a){return function(w,C,A,P){return n(new Uint8Array(w),C,A,P)}(h,y,a,d)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(r)}return function(h,y,a){return n(h,y,a,d)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function s(g,i,d,h){switch(g){case"HEX":return function(y){return function(a,w,C,A){var P,O,M="0123456789abcdef",I="",q=w/8,v=C===-1?3:0;for(P=0;P<q;P+=1)O=a[P>>>2]>>>8*(v+C*(P%4)),I+=M.charAt(O>>>4&15)+M.charAt(15&O);return A.outputUpper?I.toUpperCase():I}(y,i,d,h)};case"B64":return function(y){return function(a,w,C,A){var P,O,M,I,q,v="",K=w/8,N=C===-1?3:0;for(P=0;P<K;P+=3)for(I=P+1<K?a[P+1>>>2]:0,q=P+2<K?a[P+2>>>2]:0,M=(a[P>>>2]>>>8*(N+C*(P%4))&255)<<16|(I>>>8*(N+C*((P+1)%4))&255)<<8|q>>>8*(N+C*((P+2)%4))&255,O=0;O<4;O+=1)v+=8*P+6*O<=w?t.charAt(M>>>6*(3-O)&63):A.b64Pad;return v}(y,i,d,h)};case"BYTES":return function(y){return function(a,w,C){var A,P,O="",M=w/8,I=C===-1?3:0;for(A=0;A<M;A+=1)P=a[A>>>2]>>>8*(I+C*(A%4))&255,O+=String.fromCharCode(P);return O}(y,i,d)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(e)}return function(y){return function(a,w,C){var A,P=w/8,O=new ArrayBuffer(P),M=new Uint8Array(O),I=C===-1?3:0;for(A=0;A<P;A+=1)M[A]=a[A>>>2]>>>8*(I+C*(A%4))&255;return O}(y,i,d)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(r)}return function(y){return function(a,w,C){var A,P=w/8,O=C===-1?3:0,M=new Uint8Array(P);for(A=0;A<P;A+=1)M[A]=a[A>>>2]>>>8*(O+C*(A%4))&255;return M}(y,i,d)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var p=4294967296,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],B=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],U="Chosen SHA variant is not supported",R="Cannot set numRounds with MAC";function T(g,i){var d,h,y=g.binLen>>>3,a=i.binLen>>>3,w=y<<3,C=4-y<<3;if(y%4!=0){for(d=0;d<a;d+=4)h=y+d>>>2,g.value[h]|=i.value[d>>>2]<<w,g.value.push(0),g.value[h+1]|=i.value[d>>>2]>>>C;return(g.value.length<<2)-4>=a+y&&g.value.pop(),{value:g.value,binLen:g.binLen+i.binLen}}return{value:g.value.concat(i.value),binLen:g.binLen+i.binLen}}function E(g){var i={outputUpper:!1,b64Pad:"=",outputLen:-1},d=g||{},h="Output length must be a multiple of 8";if(i.outputUpper=d.outputUpper||!1,d.b64Pad&&(i.b64Pad=d.b64Pad),d.outputLen){if(d.outputLen%8!=0)throw new Error(h);i.outputLen=d.outputLen}else if(d.shakeLen){if(d.shakeLen%8!=0)throw new Error(h);i.outputLen=d.shakeLen}if(typeof i.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof i.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return i}function k(g,i,d,h){var y=g+" must include a value and format";if(!i){if(!h)throw new Error(y);return h}if(i.value===void 0||!i.format)throw new Error(y);return o(i.format,i.encoding||"UTF8",d)(i.value)}var j=function(){function g(i,d,h){var y=h||{};if(this.t=d,this.i=y.encoding||"UTF8",this.numRounds=y.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=i,this.u=[],this.h=0,this.v=!1,this.A=0,this.l=!1,this.S=[],this.H=[]}return g.prototype.update=function(i){var d,h=0,y=this.p>>>5,a=this.m(i,this.u,this.h),w=a.binLen,C=a.value,A=w>>>5;for(d=0;d<A;d+=y)h+this.p<=w&&(this.U=this.R(C.slice(d,d+y),this.U),h+=this.p);return this.A+=h,this.u=C.slice(h>>>5),this.h=w%this.p,this.v=!0,this},g.prototype.getHash=function(i,d){var h,y,a=this.T,w=E(d);if(this.C){if(w.outputLen===-1)throw new Error("Output length must be specified in options");a=w.outputLen}var C=s(i,a,this.F,w);if(this.l&&this.K)return C(this.K(w));for(y=this.g(this.u.slice(),this.h,this.A,this.L(this.U),a),h=1;h<this.numRounds;h+=1)this.C&&a%32!=0&&(y[y.length-1]&=16777215>>>24-a%32),y=this.g(y,a,0,this.B(this.o),a);return C(y)},g.prototype.setHMACKey=function(i,d,h){if(!this.k)throw new Error("Variant does not support HMAC");if(this.v)throw new Error("Cannot set MAC key after calling update");var y=o(d,(h||{}).encoding||"UTF8",this.F);this.Y(y(i))},g.prototype.Y=function(i){var d,h=this.p>>>3,y=h/4-1;if(this.numRounds!==1)throw new Error(R);if(this.l)throw new Error("MAC key already set");for(h<i.binLen/8&&(i.value=this.g(i.value,i.binLen,0,this.B(this.o),this.T));i.value.length<=y;)i.value.push(0);for(d=0;d<=y;d+=1)this.S[d]=909522486^i.value[d],this.H[d]=1549556828^i.value[d];this.U=this.R(this.S,this.U),this.A=this.p,this.l=!0},g.prototype.getHMAC=function(i,d){var h=E(d);return s(i,this.T,this.F,h)(this.N())},g.prototype.N=function(){var i;if(!this.l)throw new Error("Cannot call getHMAC without first setting MAC key");var d=this.g(this.u.slice(),this.h,this.A,this.L(this.U),this.T);return i=this.R(this.H,this.B(this.o)),i=this.g(d,this.T,this.p,i,this.T)},g}(),W=function(g,i){return W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(d[y]=h[y])},W(g,i)};function he(g,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function d(){this.constructor=g}W(g,i),g.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}function ue(g,i){return g<<i|g>>>32-i}function H(g,i){return g>>>i|g<<32-i}function Ee(g,i){return g>>>i}function Rn(g,i,d){return g^i^d}function ti(g,i,d){return g&i^~g&d}function ri(g,i,d){return g&i^g&d^i&d}function Rl(g){return H(g,2)^H(g,13)^H(g,22)}function $(g,i){var d=(65535&g)+(65535&i);return(65535&(g>>>16)+(i>>>16)+(d>>>16))<<16|65535&d}function Ol(g,i,d,h){var y=(65535&g)+(65535&i)+(65535&d)+(65535&h);return(65535&(g>>>16)+(i>>>16)+(d>>>16)+(h>>>16)+(y>>>16))<<16|65535&y}function sr(g,i,d,h,y){var a=(65535&g)+(65535&i)+(65535&d)+(65535&h)+(65535&y);return(65535&(g>>>16)+(i>>>16)+(d>>>16)+(h>>>16)+(y>>>16)+(a>>>16))<<16|65535&a}function kl(g){return H(g,7)^H(g,18)^Ee(g,3)}function ql(g){return H(g,6)^H(g,11)^H(g,25)}function jl(g){return[1732584193,4023233417,2562383102,271733878,3285377520]}function ni(g,i){var d,h,y,a,w,C,A,P=[];for(d=i[0],h=i[1],y=i[2],a=i[3],w=i[4],A=0;A<80;A+=1)P[A]=A<16?g[A]:ue(P[A-3]^P[A-8]^P[A-14]^P[A-16],1),C=A<20?sr(ue(d,5),ti(h,y,a),w,1518500249,P[A]):A<40?sr(ue(d,5),Rn(h,y,a),w,1859775393,P[A]):A<60?sr(ue(d,5),ri(h,y,a),w,2400959708,P[A]):sr(ue(d,5),Rn(h,y,a),w,3395469782,P[A]),w=a,a=y,y=ue(h,30),h=d,d=C;return i[0]=$(d,i[0]),i[1]=$(h,i[1]),i[2]=$(y,i[2]),i[3]=$(a,i[3]),i[4]=$(w,i[4]),i}function Nl(g,i,d,h){for(var y,a=15+(i+65>>>9<<4),w=i+d;g.length<=a;)g.push(0);for(g[i>>>5]|=128<<24-i%32,g[a]=4294967295&w,g[a-1]=w/p|0,y=0;y<g.length;y+=16)h=ni(g.slice(y,y+16),h);return h}typeof SuppressedError=="function"&&SuppressedError;var Kl=function(g){function i(d,h,y){var a=this;if(d!=="SHA-1")throw new Error(U);var w=y||{};return(a=g.call(this,d,h,y)||this).k=!0,a.K=a.N,a.F=-1,a.m=o(a.t,a.i,a.F),a.R=ni,a.L=function(C){return C.slice()},a.B=jl,a.g=Nl,a.U=[1732584193,4023233417,2562383102,271733878,3285377520],a.p=512,a.T=160,a.C=!1,w.hmacKey&&a.Y(k("hmacKey",w.hmacKey,a.F)),a}return he(i,g),i}(j);function oi(g){return g=="SHA-224"?_.slice():B.slice()}function ii(g,i){var d,h,y,a,w,C,A,P,O,M,I,q,v=[];for(d=i[0],h=i[1],y=i[2],a=i[3],w=i[4],C=i[5],A=i[6],P=i[7],I=0;I<64;I+=1)v[I]=I<16?g[I]:Ol(H(q=v[I-2],17)^H(q,19)^Ee(q,10),v[I-7],kl(v[I-15]),v[I-16]),O=sr(P,ql(w),ti(w,C,A),f[I],v[I]),M=$(Rl(d),ri(d,h,y)),P=A,A=C,C=w,w=$(a,O),a=y,y=h,h=d,d=$(O,M);return i[0]=$(d,i[0]),i[1]=$(h,i[1]),i[2]=$(y,i[2]),i[3]=$(a,i[3]),i[4]=$(w,i[4]),i[5]=$(C,i[5]),i[6]=$(A,i[6]),i[7]=$(P,i[7]),i}var Ll=function(g){function i(d,h,y){var a=this;if(d!=="SHA-224"&&d!=="SHA-256")throw new Error(U);var w=y||{};return(a=g.call(this,d,h,y)||this).K=a.N,a.k=!0,a.F=-1,a.m=o(a.t,a.i,a.F),a.R=ii,a.L=function(C){return C.slice()},a.B=oi,a.g=function(C,A,P,O){return function(M,I,q,v,K){for(var N,D=15+(I+65>>>9<<4),F=I+q;M.length<=D;)M.push(0);for(M[I>>>5]|=128<<24-I%32,M[D]=4294967295&F,M[D-1]=F/p|0,N=0;N<M.length;N+=16)v=ii(M.slice(N,N+16),v);return K==="SHA-224"?[v[0],v[1],v[2],v[3],v[4],v[5],v[6]]:v}(C,A,P,O,d)},a.U=oi(d),a.p=512,a.T=d==="SHA-224"?224:256,a.C=!1,w.hmacKey&&a.Y(k("hmacKey",w.hmacKey,a.F)),a}return he(i,g),i}(j),b=function(g,i){this.I=g,this.M=i};function si(g,i){var d;return i>32?(d=64-i,new b(g.M<<i|g.I>>>d,g.I<<i|g.M>>>d)):i!==0?(d=32-i,new b(g.I<<i|g.M>>>d,g.M<<i|g.I>>>d)):g}function ge(g,i){var d;return i<32?(d=32-i,new b(g.I>>>i|g.M<<d,g.M>>>i|g.I<<d)):(d=64-i,new b(g.M>>>i|g.I<<d,g.I>>>i|g.M<<d))}function ai(g,i){return new b(g.I>>>i,g.M>>>i|g.I<<32-i)}function Dl(g,i,d){return new b(g.I&i.I^~g.I&d.I,g.M&i.M^~g.M&d.M)}function Fl(g,i,d){return new b(g.I&i.I^g.I&d.I^i.I&d.I,g.M&i.M^g.M&d.M^i.M&d.M)}function Vl(g){var i=ge(g,28),d=ge(g,34),h=ge(g,39);return new b(i.I^d.I^h.I,i.M^d.M^h.M)}function de(g,i){var d,h;d=(65535&g.M)+(65535&i.M);var y=(65535&(h=(g.M>>>16)+(i.M>>>16)+(d>>>16)))<<16|65535&d;return d=(65535&g.I)+(65535&i.I)+(h>>>16),h=(g.I>>>16)+(i.I>>>16)+(d>>>16),new b((65535&h)<<16|65535&d,y)}function Hl(g,i,d,h){var y,a;y=(65535&g.M)+(65535&i.M)+(65535&d.M)+(65535&h.M);var w=(65535&(a=(g.M>>>16)+(i.M>>>16)+(d.M>>>16)+(h.M>>>16)+(y>>>16)))<<16|65535&y;return y=(65535&g.I)+(65535&i.I)+(65535&d.I)+(65535&h.I)+(a>>>16),a=(g.I>>>16)+(i.I>>>16)+(d.I>>>16)+(h.I>>>16)+(y>>>16),new b((65535&a)<<16|65535&y,w)}function zl(g,i,d,h,y){var a,w;a=(65535&g.M)+(65535&i.M)+(65535&d.M)+(65535&h.M)+(65535&y.M);var C=(65535&(w=(g.M>>>16)+(i.M>>>16)+(d.M>>>16)+(h.M>>>16)+(y.M>>>16)+(a>>>16)))<<16|65535&a;return a=(65535&g.I)+(65535&i.I)+(65535&d.I)+(65535&h.I)+(65535&y.I)+(w>>>16),w=(g.I>>>16)+(i.I>>>16)+(d.I>>>16)+(h.I>>>16)+(y.I>>>16)+(a>>>16),new b((65535&w)<<16|65535&a,C)}function ar(g,i){return new b(g.I^i.I,g.M^i.M)}function Wl(g){var i=ge(g,1),d=ge(g,8),h=ai(g,7);return new b(i.I^d.I^h.I,i.M^d.M^h.M)}function $l(g){var i=ge(g,14),d=ge(g,18),h=ge(g,41);return new b(i.I^d.I^h.I,i.M^d.M^h.M)}var Yl=[new b(f[0],3609767458),new b(f[1],602891725),new b(f[2],3964484399),new b(f[3],2173295548),new b(f[4],4081628472),new b(f[5],3053834265),new b(f[6],2937671579),new b(f[7],3664609560),new b(f[8],2734883394),new b(f[9],1164996542),new b(f[10],1323610764),new b(f[11],3590304994),new b(f[12],4068182383),new b(f[13],991336113),new b(f[14],633803317),new b(f[15],3479774868),new b(f[16],2666613458),new b(f[17],944711139),new b(f[18],2341262773),new b(f[19],2007800933),new b(f[20],1495990901),new b(f[21],1856431235),new b(f[22],3175218132),new b(f[23],2198950837),new b(f[24],3999719339),new b(f[25],766784016),new b(f[26],2566594879),new b(f[27],3203337956),new b(f[28],1034457026),new b(f[29],2466948901),new b(f[30],3758326383),new b(f[31],168717936),new b(f[32],1188179964),new b(f[33],1546045734),new b(f[34],1522805485),new b(f[35],2643833823),new b(f[36],2343527390),new b(f[37],1014477480),new b(f[38],1206759142),new b(f[39],344077627),new b(f[40],1290863460),new b(f[41],3158454273),new b(f[42],3505952657),new b(f[43],106217008),new b(f[44],3606008344),new b(f[45],1432725776),new b(f[46],1467031594),new b(f[47],851169720),new b(f[48],3100823752),new b(f[49],1363258195),new b(f[50],3750685593),new b(f[51],3785050280),new b(f[52],3318307427),new b(f[53],3812723403),new b(f[54],2003034995),new b(f[55],3602036899),new b(f[56],1575990012),new b(f[57],1125592928),new b(f[58],2716904306),new b(f[59],442776044),new b(f[60],593698344),new b(f[61],3733110249),new b(f[62],2999351573),new b(f[63],3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];function li(g){return g==="SHA-384"?[new b(3418070365,_[0]),new b(1654270250,_[1]),new b(2438529370,_[2]),new b(355462360,_[3]),new b(1731405415,_[4]),new b(41048885895,_[5]),new b(3675008525,_[6]),new b(1203062813,_[7])]:[new b(B[0],4089235720),new b(B[1],2227873595),new b(B[2],4271175723),new b(B[3],1595750129),new b(B[4],2917565137),new b(B[5],725511199),new b(B[6],4215389547),new b(B[7],327033209)]}function ui(g,i){var d,h,y,a,w,C,A,P,O,M,I,q,v,K,N,D,F=[];for(d=i[0],h=i[1],y=i[2],a=i[3],w=i[4],C=i[5],A=i[6],P=i[7],I=0;I<80;I+=1)I<16?(q=2*I,F[I]=new b(g[q],g[q+1])):F[I]=Hl((v=F[I-2],K=void 0,N=void 0,D=void 0,K=ge(v,19),N=ge(v,61),D=ai(v,6),new b(K.I^N.I^D.I,K.M^N.M^D.M)),F[I-7],Wl(F[I-15]),F[I-16]),O=zl(P,$l(w),Dl(w,C,A),Yl[I],F[I]),M=de(Vl(d),Fl(d,h,y)),P=A,A=C,C=w,w=de(a,O),a=y,y=h,h=d,d=de(O,M);return i[0]=de(d,i[0]),i[1]=de(h,i[1]),i[2]=de(y,i[2]),i[3]=de(a,i[3]),i[4]=de(w,i[4]),i[5]=de(C,i[5]),i[6]=de(A,i[6]),i[7]=de(P,i[7]),i}var Ql=function(g){function i(d,h,y){var a=this;if(d!=="SHA-384"&&d!=="SHA-512")throw new Error(U);var w=y||{};return(a=g.call(this,d,h,y)||this).K=a.N,a.k=!0,a.F=-1,a.m=o(a.t,a.i,a.F),a.R=ui,a.L=function(C){return C.slice()},a.B=li,a.g=function(C,A,P,O){return function(M,I,q,v,K){for(var N,D=31+(I+129>>>10<<5),F=I+q;M.length<=D;)M.push(0);for(M[I>>>5]|=128<<24-I%32,M[D]=4294967295&F,M[D-1]=F/p|0,N=0;N<M.length;N+=32)v=ui(M.slice(N,N+32),v);return K==="SHA-384"?[v[0].I,v[0].M,v[1].I,v[1].M,v[2].I,v[2].M,v[3].I,v[3].M,v[4].I,v[4].M,v[5].I,v[5].M]:[v[0].I,v[0].M,v[1].I,v[1].M,v[2].I,v[2].M,v[3].I,v[3].M,v[4].I,v[4].M,v[5].I,v[5].M,v[6].I,v[6].M,v[7].I,v[7].M]}(C,A,P,O,d)},a.U=li(d),a.p=1024,a.T=d==="SHA-384"?384:512,a.C=!1,w.hmacKey&&a.Y(k("hmacKey",w.hmacKey,a.F)),a}return he(i,g),i}(j),Gl=[new b(0,1),new b(0,32898),new b(2147483648,32906),new b(2147483648,2147516416),new b(0,32907),new b(0,2147483649),new b(2147483648,2147516545),new b(2147483648,32777),new b(0,138),new b(0,136),new b(0,2147516425),new b(0,2147483658),new b(0,2147516555),new b(2147483648,139),new b(2147483648,32905),new b(2147483648,32771),new b(2147483648,32770),new b(2147483648,128),new b(0,32778),new b(2147483648,2147483658),new b(2147483648,2147516545),new b(2147483648,32896),new b(0,2147483649),new b(2147483648,2147516424)],Xl=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function On(g){var i,d=[];for(i=0;i<5;i+=1)d[i]=[new b(0,0),new b(0,0),new b(0,0),new b(0,0),new b(0,0)];return d}function Zl(g){var i,d=[];for(i=0;i<5;i+=1)d[i]=g[i].slice();return d}function Ur(g,i){var d,h,y,a,w,C,A,P,O,M=[],I=[];if(g!==null)for(h=0;h<g.length;h+=2)i[(h>>>1)%5][(h>>>1)/5|0]=ar(i[(h>>>1)%5][(h>>>1)/5|0],new b(g[h+1],g[h]));for(d=0;d<24;d+=1){for(a=On(),h=0;h<5;h+=1)M[h]=(w=i[h][0],C=i[h][1],A=i[h][2],P=i[h][3],O=i[h][4],new b(w.I^C.I^A.I^P.I^O.I,w.M^C.M^A.M^P.M^O.M));for(h=0;h<5;h+=1)I[h]=ar(M[(h+4)%5],si(M[(h+1)%5],1));for(h=0;h<5;h+=1)for(y=0;y<5;y+=1)i[h][y]=ar(i[h][y],I[h]);for(h=0;h<5;h+=1)for(y=0;y<5;y+=1)a[y][(2*h+3*y)%5]=si(i[h][y],Xl[h][y]);for(h=0;h<5;h+=1)for(y=0;y<5;y+=1)i[h][y]=ar(a[h][y],new b(~a[(h+1)%5][y].I&a[(h+2)%5][y].I,~a[(h+1)%5][y].M&a[(h+2)%5][y].M));i[0][0]=ar(i[0][0],Gl[d])}return i}function di(g){var i,d,h=0,y=[0,0],a=[4294967295&g,g/p&2097151];for(i=6;i>=0;i--)(d=a[i>>2]>>>8*i&255)===0&&h===0||(y[h+1>>2]|=d<<8*(h+1),h+=1);return h=h!==0?h:1,y[0]|=h,{value:h+1>4?y:[y[0]],binLen:8+8*h}}function kn(g){return T(di(g.binLen),g)}function fi(g,i){var d,h=di(i),y=i>>>2,a=(y-(h=T(h,g)).value.length%y)%y;for(d=0;d<a;d++)h.value.push(0);return h.value}var Jl=function(g){function i(d,h,y){var a=this,w=6,C=0,A=y||{};if((a=g.call(this,d,h,y)||this).numRounds!==1){if(A.kmacKey||A.hmacKey)throw new Error(R);if(a.o==="CSHAKE128"||a.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(a.F=1,a.m=o(a.t,a.i,a.F),a.R=Ur,a.L=Zl,a.B=On,a.U=On(),a.C=!1,d){case"SHA3-224":a.p=C=1152,a.T=224,a.k=!0,a.K=a.N;break;case"SHA3-256":a.p=C=1088,a.T=256,a.k=!0,a.K=a.N;break;case"SHA3-384":a.p=C=832,a.T=384,a.k=!0,a.K=a.N;break;case"SHA3-512":a.p=C=576,a.T=512,a.k=!0,a.K=a.N;break;case"SHAKE128":w=31,a.p=C=1344,a.T=-1,a.C=!0,a.k=!1,a.K=null;break;case"SHAKE256":w=31,a.p=C=1088,a.T=-1,a.C=!0,a.k=!1,a.K=null;break;case"KMAC128":w=4,a.p=C=1344,a.X(y),a.T=-1,a.C=!0,a.k=!1,a.K=a.O;break;case"KMAC256":w=4,a.p=C=1088,a.X(y),a.T=-1,a.C=!0,a.k=!1,a.K=a.O;break;case"CSHAKE128":a.p=C=1344,w=a.j(y),a.T=-1,a.C=!0,a.k=!1,a.K=null;break;case"CSHAKE256":a.p=C=1088,w=a.j(y),a.T=-1,a.C=!0,a.k=!1,a.K=null;break;default:throw new Error(U)}return a.g=function(P,O,M,I,q){return function(v,K,N,D,F,Ce,oe){var fe,qn,Ir=0,lr=[],Tr=F>>>5,eu=K>>>5;for(fe=0;fe<eu&&K>=F;fe+=Tr)D=Ur(v.slice(fe,fe+Tr),D),K-=F;for(v=v.slice(fe),K%=F;v.length<Tr;)v.push(0);for(v[(fe=K>>>3)>>2]^=Ce<<fe%4*8,v[Tr-1]^=2147483648,D=Ur(v,D);32*lr.length<oe&&(qn=D[Ir%5][Ir/5|0],lr.push(qn.M),!(32*lr.length>=oe));)lr.push(qn.I),64*(Ir+=1)%F==0&&(Ur(null,D),Ir=0);return lr}(P,O,0,I,C,w,q)},A.hmacKey&&a.Y(k("hmacKey",A.hmacKey,a.F)),a}return he(i,g),i.prototype.j=function(d,h){var y=function(A){var P=A||{};return{funcName:k("funcName",P.funcName,1,{value:[],binLen:0}),customization:k("Customization",P.customization,1,{value:[],binLen:0})}}(d||{});h&&(y.funcName=h);var a=T(kn(y.funcName),kn(y.customization));if(y.customization.binLen!==0||y.funcName.binLen!==0){for(var w=fi(a,this.p>>>3),C=0;C<w.length;C+=this.p>>>5)this.U=this.R(w.slice(C,C+(this.p>>>5)),this.U),this.A+=this.p;return 4}return 31},i.prototype.X=function(d){var h=function(w){var C=w||{};return{kmacKey:k("kmacKey",C.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:k("Customization",C.customization,1,{value:[],binLen:0})}}(d||{});this.j(d,h.funcName);for(var y=fi(kn(h.kmacKey),this.p>>>3),a=0;a<y.length;a+=this.p>>>5)this.U=this.R(y.slice(a,a+(this.p>>>5)),this.U),this.A+=this.p;this.l=!0},i.prototype.O=function(d){var h=T({value:this.u.slice(),binLen:this.h},function(y){var a,w,C=0,A=[0,0],P=[4294967295&y,y/p&2097151];for(a=6;a>=0;a--)(w=P[a>>2]>>>8*a&255)==0&&C===0||(A[C>>2]|=w<<8*C,C+=1);return A[(C=C!==0?C:1)>>2]|=C<<8*C,{value:C+1>4?A:[A[0]],binLen:8+8*C}}(d.outputLen));return this.g(h.value,h.binLen,this.A,this.L(this.U),d.outputLen)},i}(j);return function(){function g(i,d,h){if(i=="SHA-1")this._=new Kl(i,d,h);else if(i=="SHA-224"||i=="SHA-256")this._=new Ll(i,d,h);else if(i=="SHA-384"||i=="SHA-512")this._=new Ql(i,d,h);else{if(i!="SHA3-224"&&i!="SHA3-256"&&i!="SHA3-384"&&i!="SHA3-512"&&i!="SHAKE128"&&i!="SHAKE256"&&i!="CSHAKE128"&&i!="CSHAKE256"&&i!="KMAC128"&&i!="KMAC256")throw new Error(U);this._=new Jl(i,d,h)}}return g.prototype.update=function(i){return this._.update(i),this},g.prototype.getHash=function(i,d){return this._.getHash(i,d)},g.prototype.setHMACKey=function(i,d,h){this._.setHMACKey(i,d,h)},g.prototype.getHMAC=function(i,d){return this._.getHMAC(i,d)},g}()})});var Ji=S(Ne=>{"use strict";l();u();var Qd=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getSecureRandomWords=Ne.getSecureRandomBytes=void 0;var Zi=Qd(nt());function Gd(t){return Zi.default.randomBytes(t)}Ne.getSecureRandomBytes=Gd;function Xd(t){let e=new Uint16Array(t);return Zi.default.randomFillSync(e),e}Ne.getSecureRandomWords=Xd});var es=S(yt=>{"use strict";l();u();var Zd=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yt,"__esModule",{value:!0});yt.hmac_sha512=void 0;var Jd=Zd(nt());async function ef(t,e){let r=typeof t=="string"?c.Buffer.from(t,"utf-8"):t,n=typeof e=="string"?c.Buffer.from(e,"utf-8"):e;return Jd.default.createHmac("sha512",r).update(n).digest()}yt.hmac_sha512=ef});var ts=S(_t=>{"use strict";l();u();var tf=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_t,"__esModule",{value:!0});_t.pbkdf2_sha512=void 0;var rf=tf(nt());function nf(t,e,r,n){return new Promise((o,s)=>rf.default.pbkdf2(t,e,r,n,"sha512",(p,f)=>{p?s(p):o(f)}))}_t.pbkdf2_sha512=nf});var rs=S(bt=>{"use strict";l();u();var of=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bt,"__esModule",{value:!0});bt.sha256=void 0;var sf=of(nt());async function af(t){return sf.default.createHash("sha256").update(t).digest()}bt.sha256=af});var ns=S(mt=>{"use strict";l();u();var lf=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mt,"__esModule",{value:!0});mt.sha512=void 0;var uf=lf(nt());async function df(t){return uf.default.createHash("sha512").update(t).digest()}mt.sha512=df});var Bt=S(re=>{"use strict";l();u();Object.defineProperty(re,"__esModule",{value:!0});re.sha512=re.sha256=re.pbkdf2_sha512=re.hmac_sha512=re.getSecureRandomWords=re.getSecureRandomBytes=void 0;var os=Ji();Object.defineProperty(re,"getSecureRandomBytes",{enumerable:!0,get:function(){return os.getSecureRandomBytes}});Object.defineProperty(re,"getSecureRandomWords",{enumerable:!0,get:function(){return os.getSecureRandomWords}});var ff=es();Object.defineProperty(re,"hmac_sha512",{enumerable:!0,get:function(){return ff.hmac_sha512}});var cf=ts();Object.defineProperty(re,"pbkdf2_sha512",{enumerable:!0,get:function(){return cf.pbkdf2_sha512}});var hf=rs();Object.defineProperty(re,"sha256",{enumerable:!0,get:function(){return hf.sha256}});var gf=ns();Object.defineProperty(re,"sha512",{enumerable:!0,get:function(){return gf.sha512}})});var ss=S(pe=>{"use strict";l();u();var pf=pe&&pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pe,"__esModule",{value:!0});pe.sha256=pe.sha256_fallback=pe.sha256_sync=void 0;var yf=pf(tn()),_f=Bt();function is(t){let e;typeof t=="string"?e=c.Buffer.from(t,"utf-8").toString("hex"):e=t.toString("hex");let r=new yf.default("SHA-256","HEX");r.update(e);let n=r.getHash("HEX");return c.Buffer.from(n,"hex")}pe.sha256_sync=is;async function bf(t){return is(t)}pe.sha256_fallback=bf;function mf(t){return(0,_f.sha256)(t)}pe.sha256=mf});var ls=S(ye=>{"use strict";l();u();var Bf=ye&&ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ye,"__esModule",{value:!0});ye.sha512=ye.sha512_fallback=ye.sha512_sync=void 0;var wf=Bf(tn()),Sf=Bt();function as(t){let e;typeof t=="string"?e=c.Buffer.from(t,"utf-8").toString("hex"):e=t.toString("hex");let r=new wf.default("SHA-512","HEX");r.update(e);let n=r.getHash("HEX");return c.Buffer.from(n,"hex")}ye.sha512_sync=as;async function Cf(t){return as(t)}ye.sha512_fallback=Cf;async function Af(t){return(0,Sf.sha512)(t)}ye.sha512=Af});var us=S(rn=>{"use strict";l();u();Object.defineProperty(rn,"__esModule",{value:!0});rn.pbkdf2_sha512=void 0;var vf=Bt();function Mf(t,e,r,n){return(0,vf.pbkdf2_sha512)(t,e,r,n)}rn.pbkdf2_sha512=Mf});var ds=S(Ke=>{"use strict";l();u();var Pf=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.hmac_sha512=Ke.hmac_sha512_fallback=void 0;var xf=Pf(tn()),Uf=Bt();async function If(t,e){let r=typeof t=="string"?c.Buffer.from(t,"utf-8"):t,n=typeof e=="string"?c.Buffer.from(e,"utf-8"):e,o=new xf.default("SHA-512","HEX",{hmacKey:{value:r.toString("hex"),format:"HEX"}});o.update(n.toString("hex"));let s=o.getHash("HEX");return c.Buffer.from(s,"hex")}Ke.hmac_sha512_fallback=If;function Tf(t,e){return(0,Uf.hmac_sha512)(t,e)}Ke.hmac_sha512=Tf});var hs=S(Le=>{"use strict";l();u();Object.defineProperty(Le,"__esModule",{value:!0});Le.getSecureRandomNumber=Le.getSecureRandomWords=Le.getSecureRandomBytes=void 0;var Ef=Bt();async function fs(t){return(0,Ef.getSecureRandomBytes)(t)}Le.getSecureRandomBytes=fs;async function cs(t){return cs(t)}Le.getSecureRandomWords=cs;async function Rf(t,e){let r=e-t;var n=Math.ceil(Math.log2(r));if(n>53)throw new Error("Range is too large");for(var o=Math.ceil(n/8),s=Math.pow(2,n)-1;;){let f=await fs(n),_=(o-1)*8,B=0;for(var p=0;p<o;p++)B+=f[p]*Math.pow(2,_),_-=8;if(B=B&s,!(B>=r))return t+B}}Le.getSecureRandomNumber=Rf});var to=S(Y=>{"use strict";l();u();var Of=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});Y.openBox=Y.sealBox=Y.signVerify=Y.sign=Y.keyPairFromSeed=Y.keyPairFromSecretKey=void 0;var wt=Of(ci());function kf(t){let e=wt.default.sign.keyPair.fromSecretKey(new Uint8Array(t));return{publicKey:c.Buffer.from(e.publicKey),secretKey:c.Buffer.from(e.secretKey)}}Y.keyPairFromSecretKey=kf;function qf(t){let e=wt.default.sign.keyPair.fromSeed(new Uint8Array(t));return{publicKey:c.Buffer.from(e.publicKey),secretKey:c.Buffer.from(e.secretKey)}}Y.keyPairFromSeed=qf;function jf(t,e){return c.Buffer.from(wt.default.sign.detached(new Uint8Array(t),new Uint8Array(e)))}Y.sign=jf;function Nf(t,e,r){return wt.default.sign.detached.verify(new Uint8Array(t),new Uint8Array(e),new Uint8Array(r))}Y.signVerify=Nf;function Kf(t,e,r){return c.Buffer.from(wt.default.secretbox(t,e,r))}Y.sealBox=Kf;function Lf(t,e,r){let n=wt.default.secretbox.open(t,e,r);return n?c.Buffer.from(n):null}Y.openBox=Lf});var on=S(L=>{"use strict";l();u();Object.defineProperty(L,"__esModule",{value:!0});L.signVerify=L.sign=L.keyPairFromSecretKey=L.keyPairFromSeed=L.openBox=L.sealBox=L.getSecureRandomNumber=L.getSecureRandomWords=L.getSecureRandomBytes=L.hmac_sha512=L.pbkdf2_sha512=L.sha512_sync=L.sha512=L.sha256_sync=L.sha256=void 0;var gs=ss();Object.defineProperty(L,"sha256",{enumerable:!0,get:function(){return gs.sha256}});Object.defineProperty(L,"sha256_sync",{enumerable:!0,get:function(){return gs.sha256_sync}});var ps=ls();Object.defineProperty(L,"sha512",{enumerable:!0,get:function(){return ps.sha512}});Object.defineProperty(L,"sha512_sync",{enumerable:!0,get:function(){return ps.sha512_sync}});var Df=us();Object.defineProperty(L,"pbkdf2_sha512",{enumerable:!0,get:function(){return Df.pbkdf2_sha512}});var Ff=ds();Object.defineProperty(L,"hmac_sha512",{enumerable:!0,get:function(){return Ff.hmac_sha512}});var ro=hs();Object.defineProperty(L,"getSecureRandomBytes",{enumerable:!0,get:function(){return ro.getSecureRandomBytes}});Object.defineProperty(L,"getSecureRandomWords",{enumerable:!0,get:function(){return ro.getSecureRandomWords}});Object.defineProperty(L,"getSecureRandomNumber",{enumerable:!0,get:function(){return ro.getSecureRandomNumber}});var ys=to();Object.defineProperty(L,"sealBox",{enumerable:!0,get:function(){return ys.sealBox}});Object.defineProperty(L,"openBox",{enumerable:!0,get:function(){return ys.openBox}});var nn=to();Object.defineProperty(L,"keyPairFromSeed",{enumerable:!0,get:function(){return nn.keyPairFromSeed}});Object.defineProperty(L,"keyPairFromSecretKey",{enumerable:!0,get:function(){return nn.keyPairFromSecretKey}});Object.defineProperty(L,"sign",{enumerable:!0,get:function(){return nn.sign}});Object.defineProperty(L,"signVerify",{enumerable:!0,get:function(){return nn.signVerify}})});var _s=S(sn=>{"use strict";l();u();Object.defineProperty(sn,"__esModule",{value:!0});sn.wonderCalculator=void 0;var Vf=ve(),_e=dt(),br=Qr(),Hf=Xr(),zf=pr(),Wf=Zn(),$f=on(),Yf=$r(),Qf=Xn();function Gf(t,e,r){let n,o=null;if(t===_e.CellType.Ordinary){let T=0;for(let E of r)T=T|E.mask.value;n=new br.LevelMask(T)}else if(t===_e.CellType.PrunedBranch)o=(0,Hf.exoticPruned)(e,r),n=new br.LevelMask(o.mask);else if(t===_e.CellType.MerkleProof){let T=(0,zf.exoticMerkleProof)(e,r);n=new br.LevelMask(r[0].mask.value>>1)}else if(t===_e.CellType.MerkleUpdate){let T=(0,Yf.exoticMerkleUpdate)(e,r);n=new br.LevelMask((r[0].mask.value|r[1].mask.value)>>1)}else if(t===_e.CellType.Library){let T=(0,Qf.exoticLibrary)(e,r);n=new br.LevelMask}else throw new Error("Unsupported exotic type");let s=[],p=[],f=t===_e.CellType.PrunedBranch?1:n.hashCount,B=n.hashCount-f;for(let T=0,E=0;T<=n.level;T++){if(!n.isSignificant(T))continue;if(E<B){E++;continue}let k;if(E===B){if(!(T===0||t===_e.CellType.PrunedBranch))throw Error("Invalid");k=e}else{if(!(T!==0&&t!==_e.CellType.PrunedBranch))throw Error("Invalid: "+T+", "+t);k=new Vf.BitString(p[E-B-1],0,256)}let j=0;for(let H of r){let Ee;t==_e.CellType.MerkleProof||t==_e.CellType.MerkleUpdate?Ee=H.depth(T+1):Ee=H.depth(T),j=Math.max(j,Ee)}r.length>0&&j++;let W=(0,Wf.getRepr)(e,k,r,T,n.apply(T).value,t),he=(0,$f.sha256_sync)(W),ue=E-B;s[ue]=j,p[ue]=he,E++}let U=[],R=[];if(o)for(let T=0;T<4;T++){let{hashIndex:E}=n.apply(T),{hashIndex:k}=n;E!==k?(U.push(o.pruned[E].hash),R.push(o.pruned[E].depth)):(U.push(p[0]),R.push(s[0]))}else for(let T=0;T<4;T++)U.push(p[n.apply(T).hashIndex]),R.push(s[n.apply(T).hashIndex]);return{mask:n,hashes:U,depths:R}}sn.wonderCalculator=Gf});var bs=S(an=>{"use strict";l();u();Object.defineProperty(an,"__esModule",{value:!0});an.topologicalSort=void 0;function Xf(t){let e=[t],r=new Map,n=new Set,o=[];for(;e.length>0;){let B=[...e];e=[];for(let U of B){let R=U.hash().toString("hex");if(!r.has(R)){n.add(R),r.set(R,{cell:U,refs:U.refs.map(T=>T.hash().toString("hex"))});for(let T of U.refs)e.push(T)}}}let s=new Set;function p(B){if(!n.has(B))return;if(s.has(B))throw Error("Not a DAG");s.add(B);let U=r.get(B).refs;for(let R=U.length-1;R>=0;R--)p(U[R]);o.push(B),s.delete(B),n.delete(B)}for(;n.size>0;){let B=Array.from(n)[0];p(B)}let f=new Map;for(let B=0;B<o.length;B++)f.set(o[o.length-B-1],B);let _=[];for(let B=o.length-1;B>=0;B--){let U=o[B],R=r.get(U);_.push({cell:R.cell,refs:R.refs.map(T=>f.get(T))})}return _}an.topologicalSort=Xf});var ms=S(ln=>{"use strict";l();u();Object.defineProperty(ln,"__esModule",{value:!0});ln.bitsForNumber=void 0;function Zf(t,e){let r=BigInt(t);if(e==="int")return r===0n||r===-1n?1:(r>0?r:-r).toString(2).length+1;if(e==="uint"){if(r<0)throw Error(`value is negative. Got ${t}`);return r.toString(2).length}else throw Error(`invalid mode. Got ${e}`)}ln.bitsForNumber=Zf});var no=S(un=>{"use strict";l();u();Object.defineProperty(un,"__esModule",{value:!0});un.crc32c=void 0;var De=2197175160;function Jf(t){let e=-1;for(let n=0;n<t.length;n++)e^=t[n],e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1,e=e&1?e>>>1^De:e>>>1;e=e^4294967295;let r=c.Buffer.alloc(4);return r.writeInt32LE(e),r}un.crc32c=Jf});var vs=S(Fe=>{"use strict";l();u();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.serializeBoc=Fe.deserializeBoc=Fe.parseBoc=void 0;var Cs=Pe(),io=ve(),ec=ke(),tc=bs(),Bs=ms(),rc=cr(),ws=Zn(),nc=fr(),oo=no();function Ss(t){return oc(t&7)}function oc(t){let e=0;for(let r=0;r<3;r++)e+=t&1,t=t>>1;return e+1}function ic(t,e){let r=t.loadUint(8),n=r%8,o=!!(r&8),s=t.loadUint(8),p=Math.ceil(s/2),f=!!(s%2),_=r>>5,B=(r&16)!=0,U=32,R=B?Ss(_)*U:0,T=B?Ss(_)*2:0;t.skip(R*8),t.skip(T*8);let E=io.BitString.EMPTY;p>0&&(f?E=t.loadPaddedBits(p*8):E=t.loadBits(p*8));let k=[];for(let j=0;j<n;j++)k.push(t.loadUint(e*8));return{bits:E,refs:k,exotic:o}}function sc(t,e){return 2+Math.ceil(t.bits.length/8)+t.refs.length*e}function As(t){let e=new Cs.BitReader(new io.BitString(t,0,t.length*8)),r=e.loadUint(32);if(r===1761568243){let n=e.loadUint(8),o=e.loadUint(8),s=e.loadUint(n*8),p=e.loadUint(n*8),f=e.loadUint(n*8),_=e.loadUint(o*8),B=e.loadBuffer(s*o),U=e.loadBuffer(_);return{size:n,offBytes:o,cells:s,roots:p,absent:f,totalCellSize:_,index:B,cellData:U,root:[0]}}else if(r===2898503464){let n=e.loadUint(8),o=e.loadUint(8),s=e.loadUint(n*8),p=e.loadUint(n*8),f=e.loadUint(n*8),_=e.loadUint(o*8),B=e.loadBuffer(s*o),U=e.loadBuffer(_),R=e.loadBuffer(4);if(!(0,oo.crc32c)(t.subarray(0,t.length-4)).equals(R))throw Error("Invalid CRC32C");return{size:n,offBytes:o,cells:s,roots:p,absent:f,totalCellSize:_,index:B,cellData:U,root:[0]}}else if(r===3052313714){let n=e.loadUint(1),o=e.loadUint(1),s=e.loadUint(1),p=e.loadUint(2),f=e.loadUint(3),_=e.loadUint(8),B=e.loadUint(f*8),U=e.loadUint(f*8),R=e.loadUint(f*8),T=e.loadUint(_*8),E=[];for(let W=0;W<U;W++)E.push(e.loadUint(f*8));let k=null;n&&(k=e.loadBuffer(B*_));let j=e.loadBuffer(T);if(o){let W=e.loadBuffer(4);if(!(0,oo.crc32c)(t.subarray(0,t.length-4)).equals(W))throw Error("Invalid CRC32C")}return{size:f,offBytes:_,cells:B,roots:U,absent:R,totalCellSize:T,index:k,cellData:j,root:E}}else throw Error("Invalid magic")}Fe.parseBoc=As;function ac(t){let e=As(t),r=new Cs.BitReader(new io.BitString(e.cellData,0,e.cellData.length*8)),n=[];for(let s=0;s<e.cells;s++){let p=ic(r,e.size);n.push({...p,result:null})}for(let s=n.length-1;s>=0;s--){if(n[s].result)throw Error("Impossible");let p=[];for(let f of n[s].refs){if(!n[f].result)throw Error("Invalid BOC file");p.push(n[f].result)}n[s].result=new ec.Cell({bits:n[s].bits,refs:p,exotic:n[s].exotic})}let o=[];for(let s=0;s<e.root.length;s++)o.push(n[e.root[s]].result);return o}Fe.deserializeBoc=ac;function lc(t,e,r,n){let o=(0,ws.getRefsDescriptor)(t.refs,t.mask.value,t.type),s=(0,ws.getBitsDescriptor)(t.bits);n.writeUint(o,8),n.writeUint(s,8),n.writeBuffer((0,nc.bitsToPaddedBuffer)(t.bits));for(let p of e)n.writeUint(p,r*8)}function uc(t,e){let r=(0,tc.topologicalSort)(t),n=r.length,o=e.idx,s=e.crc32,p=!1,f=0,_=Math.max(Math.ceil((0,Bs.bitsForNumber)(n,"uint")/8),1),B=0,U=[];for(let j of r)B+=sc(j.cell,_),U.push(B);let R=Math.max(Math.ceil((0,Bs.bitsForNumber)(B,"uint")/8),1),T=(4+1+1+3*_+R+1*_+(o?n*R:0)+B+(s?4:0))*8,E=new rc.BitBuilder(T);if(E.writeUint(3052313714,32),E.writeBit(o),E.writeBit(s),E.writeBit(p),E.writeUint(f,2),E.writeUint(_,3),E.writeUint(R,8),E.writeUint(n,_*8),E.writeUint(1,_*8),E.writeUint(0,_*8),E.writeUint(B,R*8),E.writeUint(0,_*8),o)for(let j=0;j<n;j++)E.writeUint(U[j],R*8);for(let j=0;j<n;j++)lc(r[j].cell,r[j].refs,_,E);if(s){let j=(0,oo.crc32c)(E.buffer());E.writeBuffer(j)}let k=E.buffer();if(k.length!==T/8)throw Error("Internal error");return k}Fe.serializeBoc=uc});var ke=S(St=>{"use strict";l();u();var dc=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},xs;Object.defineProperty(St,"__esModule",{value:!0});St.Cell=void 0;var fc=dc(Ge()),cc=ve(),Xe=dt(),hc=Hr(),gc=Qi(),Ms=_s(),Ps=vs(),pc=Pe(),yc=z(),Ze=class{static fromBoc(e){return(0,Ps.deserializeBoc)(e)}static fromBase64(e){let r=Ze.fromBoc(c.Buffer.from(e,"base64"));if(r.length!==1)throw new Error("Deserialized more than one cell");return r[0]}constructor(e){this._hashes=[],this._depths=[],this.beginParse=(_=!1)=>{if(this.isExotic&&!_)throw new Error("Exotic cells cannot be parsed");return new hc.Slice(new pc.BitReader(this.bits),this.refs)},this.hash=(_=3)=>this._hashes[Math.min(this._hashes.length-1,_)],this.depth=(_=3)=>this._depths[Math.min(this._depths.length-1,_)],this.level=()=>this.mask.level,this.equals=_=>this.hash().equals(_.hash()),this[xs]=()=>this.toString();let r=cc.BitString.EMPTY;e&&e.bits&&(r=e.bits);let n=[];e&&e.refs&&(n=[...e.refs]);let o,s,p,f=Xe.CellType.Ordinary;if(e&&e.exotic){let _=(0,gc.resolveExotic)(r,n),B=(0,Ms.wonderCalculator)(_.type,r,n);p=B.mask,s=B.depths,o=B.hashes,f=_.type}else{if(n.length>4)throw new Error("Invalid number of references");if(r.length>1023)throw new Error(`Bits overflow: ${r.length} > 1023`);let _=(0,Ms.wonderCalculator)(Xe.CellType.Ordinary,r,n);p=_.mask,s=_.depths,o=_.hashes,f=Xe.CellType.Ordinary}this.type=f,this.bits=r,this.refs=n,this.mask=p,this._depths=s,this._hashes=o,Object.freeze(this),Object.freeze(this.refs),Object.freeze(this.bits),Object.freeze(this.mask),Object.freeze(this._depths),Object.freeze(this._hashes)}get isExotic(){return this.type!==Xe.CellType.Ordinary}toBoc(e){let r=e&&e.idx!==null&&e.idx!==void 0?e.idx:!1,n=e&&e.crc32!==null&&e.crc32!==void 0?e.crc32:!0;return(0,Ps.serializeBoc)(this,{idx:r,crc32:n})}toString(e){let r=e||"",n="x";this.isExotic&&(this.type===Xe.CellType.MerkleProof?n="p":this.type===Xe.CellType.MerkleUpdate?n="u":this.type===Xe.CellType.PrunedBranch&&(n="p"));let o=r+(this.isExotic?n:"x")+"{"+this.bits.toString()+"}";for(let s in this.refs){let p=this.refs[s];o+=`
`+p.toString(r+" ")}return o}asSlice(){return this.beginParse()}asBuilder(){return(0,yc.beginCell)().storeSlice(this.asSlice())}};St.Cell=Ze;xs=fc.default;Ze.EMPTY=new Ze});var z=S(At=>{"use strict";l();u();Object.defineProperty(At,"__esModule",{value:!0});At.Builder=At.beginCell=void 0;var _c=cr(),Us=ke(),Is=Gn();function Ts(){return new Ct}At.beginCell=Ts;var Ct=class{constructor(){this._bits=new _c.BitBuilder,this._refs=[]}get bits(){return this._bits.length}get refs(){return this._refs.length}get availableBits(){return 1023-this.bits}get availableRefs(){return 4-this.refs}storeBit(e){return this._bits.writeBit(e),this}storeBits(e){return this._bits.writeBits(e),this}storeBuffer(e,r){if(r!=null&&e.length!==r)throw Error(`Buffer length ${e.length} is not equal to ${r}`);return this._bits.writeBuffer(e),this}storeMaybeBuffer(e,r){return e!==null?(this.storeBit(1),this.storeBuffer(e,r)):this.storeBit(0),this}storeUint(e,r){return this._bits.writeUint(e,r),this}storeMaybeUint(e,r){return e!=null?(this.storeBit(1),this.storeUint(e,r)):this.storeBit(0),this}storeInt(e,r){return this._bits.writeInt(e,r),this}storeMaybeInt(e,r){return e!=null?(this.storeBit(1),this.storeInt(e,r)):this.storeBit(0),this}storeVarUint(e,r){return this._bits.writeVarUint(e,r),this}storeMaybeVarUint(e,r){return e!=null?(this.storeBit(1),this.storeVarUint(e,r)):this.storeBit(0),this}storeVarInt(e,r){return this._bits.writeVarInt(e,r),this}storeMaybeVarInt(e,r){return e!=null?(this.storeBit(1),this.storeVarInt(e,r)):this.storeBit(0),this}storeCoins(e){return this._bits.writeCoins(e),this}storeMaybeCoins(e){return e!=null?(this.storeBit(1),this.storeCoins(e)):this.storeBit(0),this}storeAddress(e){return this._bits.writeAddress(e),this}storeRef(e){if(this._refs.length>=4)throw new Error("Too many references");if(e instanceof Us.Cell)this._refs.push(e);else if(e instanceof Ct)this._refs.push(e.endCell());else throw new Error("Invalid argument");return this}storeMaybeRef(e){return e?(this.storeBit(1),this.storeRef(e)):this.storeBit(0),this}storeSlice(e){let r=e.clone();for(r.remainingBits>0&&this.storeBits(r.loadBits(r.remainingBits));r.remainingRefs>0;)this.storeRef(r.loadRef());return this}storeMaybeSlice(e){return e?(this.storeBit(1),this.storeSlice(e)):this.storeBit(0),this}storeBuilder(e){return this.storeSlice(e.endCell().beginParse())}storeMaybeBuilder(e){return e?(this.storeBit(1),this.storeBuilder(e)):this.storeBit(0),this}storeWritable(e){return typeof e=="object"?e.writeTo(this):e(this),this}storeMaybeWritable(e){return e?(this.storeBit(1),this.storeWritable(e)):this.storeBit(0),this}store(e){return this.storeWritable(e),this}storeStringTail(e){return(0,Is.writeString)(e,this),this}storeMaybeStringTail(e){return e!=null?(this.storeBit(1),(0,Is.writeString)(e,this)):this.storeBit(0),this}storeStringRefTail(e){return this.storeRef(Ts().storeStringTail(e)),this}storeMaybeStringRefTail(e){return e!=null?(this.storeBit(1),this.storeStringRefTail(e)):this.storeBit(0),this}storeDict(e,r,n){return e?e.store(this,r,n):this.storeBit(0),this}storeDictDirect(e,r,n){return e.storeDirect(this,r,n),this}endCell(e){return new Us.Cell({bits:this._bits.build(),refs:this._refs,exotic:e?.exotic})}asCell(){return this.endCell()}asSlice(){return this.endCell().beginParse()}};At.Builder=Ct});var so=S(Ve=>{"use strict";l();u();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.SimpleLibraryValue=Ve.storeSimpleLibrary=Ve.loadSimpleLibrary=void 0;function Es(t){return{public:t.loadBit(),root:t.loadRef()}}Ve.loadSimpleLibrary=Es;function Rs(t){return e=>{e.storeBit(t.public),e.storeRef(t.root)}}Ve.storeSimpleLibrary=Rs;Ve.SimpleLibraryValue={serialize(t,e){Rs(t)(e)},parse(t){return Es(t)}}});var ao=S(vt=>{"use strict";l();u();Object.defineProperty(vt,"__esModule",{value:!0});vt.storeTickTock=vt.loadTickTock=void 0;function bc(t){return{tick:t.loadBit(),tock:t.loadBit()}}vt.loadTickTock=bc;function mc(t){return e=>{e.storeBit(t.tick),e.storeBit(t.tock)}}vt.storeTickTock=mc});var Pt=S(Mt=>{"use strict";l();u();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.storeStateInit=Mt.loadStateInit=void 0;var Bc=Oe(),wc=so(),Os=ao();function Sc(t){let e;t.loadBit()&&(e=t.loadUint(5));let r;t.loadBit()&&(r=(0,Os.loadTickTock)(t));let n=t.loadMaybeRef(),o=t.loadMaybeRef(),s=t.loadDict(Bc.Dictionary.Keys.BigUint(256),wc.SimpleLibraryValue);return s.size===0&&(s=void 0),{splitDepth:e,special:r,code:n,data:o,libraries:s}}Mt.loadStateInit=Sc;function Cc(t){return e=>{t.splitDepth!==null&&t.splitDepth!==void 0?(e.storeBit(!0),e.storeUint(t.splitDepth,5)):e.storeBit(!1),t.special!==null&&t.special!==void 0?(e.storeBit(!0),e.store((0,Os.storeTickTock)(t.special))):e.storeBit(!1),e.storeMaybeRef(t.code),e.storeMaybeRef(t.data),e.storeDict(t.libraries)}}Mt.storeStateInit=Cc});var ks=S(dn=>{"use strict";l();u();Object.defineProperty(dn,"__esModule",{value:!0});dn.contractAddress=void 0;var Ac=z(),vc=Pt(),Mc=Ae();function Pc(t,e){let r=(0,Ac.beginCell)().store((0,vc.storeStateInit)(e)).endCell().hash();return new Mc.Address(t,r)}dn.contractAddress=Pc});var Ns=S(xt=>{"use strict";l();u();Object.defineProperty(xt,"__esModule",{value:!0});xt.parseTuple=xt.serializeTuple=void 0;var Br=z(),xc=BigInt("-9223372036854775808"),Uc=BigInt("9223372036854775807");function qs(t,e){if(t.type==="null")e.storeUint(0,8);else if(t.type==="int")t.value<=Uc&&t.value>=xc?(e.storeUint(1,8),e.storeInt(t.value,64)):(e.storeUint(256,15),e.storeInt(t.value,257));else if(t.type==="nan")e.storeInt(767,16);else if(t.type==="cell")e.storeUint(3,8),e.storeRef(t.cell);else if(t.type==="slice")e.storeUint(4,8),e.storeUint(0,10),e.storeUint(t.cell.bits.length,10),e.storeUint(0,3),e.storeUint(t.cell.refs.length,3),e.storeRef(t.cell);else if(t.type==="builder")e.storeUint(5,8),e.storeRef(t.cell);else if(t.type==="tuple"){let r=null,n=null;for(let o=0;o<t.items.length;o++){let s=r;r=n,n=s,o>1&&(r=(0,Br.beginCell)().storeRef(n).storeRef(r).endCell());let p=(0,Br.beginCell)();qs(t.items[o],p),n=p.endCell()}e.storeUint(7,8),e.storeUint(t.items.length,16),r&&e.storeRef(r),n&&e.storeRef(n)}else throw Error("Invalid value")}function mr(t){let e=t.loadUint(8);if(e===0)return{type:"null"};if(e===1)return{type:"int",value:t.loadIntBig(64)};if(e===2)return t.loadUint(7)===0?{type:"int",value:t.loadIntBig(257)}:(t.loadBit(),{type:"nan"});if(e===3)return{type:"cell",cell:t.loadRef()};if(e===4){let r=t.loadUint(10),n=t.loadUint(10),o=t.loadUint(3),s=t.loadUint(3),p=t.loadRef().beginParse();p.skip(r);let f=p.loadBits(n-r),_=(0,Br.beginCell)().storeBits(f);if(o<s){for(let B=0;B<o;B++)p.loadRef();for(let B=0;B<s-o;B++)_.storeRef(p.loadRef())}return{type:"slice",cell:_.endCell()}}else{if(e===5)return{type:"builder",cell:t.loadRef()};if(e===7){let r=t.loadUint(16),n=[];if(r>1){let o=t.loadRef().beginParse(),s=t.loadRef().beginParse();n.unshift(mr(s));for(let p=0;p<r-2;p++){let f=o;o=f.loadRef().beginParse(),s=f.loadRef().beginParse(),n.unshift(mr(s))}n.unshift(mr(o))}else r===1&&n.push(mr(t.loadRef().beginParse()));return{type:"tuple",items:n}}else throw Error("Unsupported stack item")}}function js(t,e){if(t.length>0){let r=(0,Br.beginCell)();js(t.slice(0,t.length-1),r),e.storeRef(r.endCell()),qs(t[t.length-1],e)}}function Ic(t){let e=(0,Br.beginCell)();e.storeUint(t.length,24);let r=[...t];return js(r,e),e.endCell()}xt.serializeTuple=Ic;function Tc(t){let e=[],r=t.beginParse(),n=r.loadUint(24);for(let o=0;o<n;o++){let s=r.loadRef();e.unshift(mr(r)),r=s.beginParse()}return e}xt.parseTuple=Tc});var Ks=S(fn=>{"use strict";l();u();Object.defineProperty(fn,"__esModule",{value:!0});fn.TupleReader=void 0;var He=class{constructor(e){this.items=[...e]}get remaining(){return this.items.length}peek(){if(this.items.length===0)throw Error("EOF");return this.items[0]}pop(){if(this.items.length===0)throw Error("EOF");let e=this.items[0];return this.items.splice(0,1),e}skip(e=1){for(let r=0;r<e;r++)this.pop();return this}readBigNumber(){let e=this.pop();if(e.type!=="int")throw Error("Not a number");return e.value}readBigNumberOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="int")throw Error("Not a number");return e.value}readNumber(){return Number(this.readBigNumber())}readNumberOpt(){let e=this.readBigNumberOpt();return e!==null?Number(e):null}readBoolean(){return this.readNumber()!==0}readBooleanOpt(){let e=this.readNumberOpt();return e!==null?e!==0:null}readAddress(){let e=this.readCell().beginParse().loadAddress();if(e!==null)return e;throw Error("Not an address")}readAddressOpt(){let e=this.readCellOpt();return e!==null?e.beginParse().loadMaybeAddress():null}readCell(){let e=this.pop();if(e.type!=="cell"&&e.type!=="slice"&&e.type!=="builder")throw Error("Not a cell: "+e.type);return e.cell}readCellOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="cell"&&e.type!=="slice"&&e.type!=="builder")throw Error("Not a cell");return e.cell}readTuple(){let e=this.pop();if(e.type!=="tuple")throw Error("Not a tuple");return new He(e.items)}readTupleOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="tuple")throw Error("Not a tuple");return new He(e.items)}static readLispList(e){let r=[],n=e;for(;n!==null;){var o=n.pop();if(n.items.length===0||n.items[0].type!=="tuple"&&n.items[0].type!=="null")throw Error("Lisp list consists only from (any, tuple) elements and ends with null");n=n.readTupleOpt(),r.push(o)}return r}readLispListDirect(){return this.items.length===1&&this.items[0].type==="null"?[]:He.readLispList(this)}readLispList(){return He.readLispList(this.readTupleOpt())}readBuffer(){let e=this.readCell().beginParse();if(e.remainingRefs!==0||e.remainingBits%8!==0)throw Error("Not a buffer");return e.loadBuffer(e.remainingBits/8)}readBufferOpt(){if(this.peek().type==="null")return null;let r=this.readCell().beginParse();if(r.remainingRefs!==0||r.remainingBits%8!==0)throw Error("Not a buffer");return r.loadBuffer(r.remainingBits/8)}readString(){return this.readCell().beginParse().loadStringTail()}readStringOpt(){return this.peek().type==="null"?null:this.readCell().beginParse().loadStringTail()}};fn.TupleReader=He});var Ls=S(cn=>{"use strict";l();u();Object.defineProperty(cn,"__esModule",{value:!0});cn.TupleBuilder=void 0;var lo=z(),uo=ke(),fo=Hr(),co=class{constructor(){this._tuple=[]}writeNumber(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:BigInt(e)})}writeBoolean(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:e?-1n:0n})}writeBuffer(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,lo.beginCell)().storeBuffer(e).endCell()})}writeString(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,lo.beginCell)().storeStringTail(e).endCell()})}writeCell(e){e==null?this._tuple.push({type:"null"}):e instanceof uo.Cell?this._tuple.push({type:"cell",cell:e}):e instanceof fo.Slice&&this._tuple.push({type:"cell",cell:e.asCell()})}writeSlice(e){e==null?this._tuple.push({type:"null"}):e instanceof uo.Cell?this._tuple.push({type:"slice",cell:e}):e instanceof fo.Slice&&this._tuple.push({type:"slice",cell:e.asCell()})}writeBuilder(e){e==null?this._tuple.push({type:"null"}):e instanceof uo.Cell?this._tuple.push({type:"builder",cell:e}):e instanceof fo.Slice&&this._tuple.push({type:"builder",cell:e.asCell()})}writeTuple(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"tuple",items:e})}writeAddress(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,lo.beginCell)().storeAddress(e).endCell()})}build(){return[...this._tuple]}};cn.TupleBuilder=co});var ho=S(Ut=>{"use strict";l();u();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.fromNano=Ut.toNano=void 0;function Ec(t){if(typeof t=="bigint")return t*1000000000n;{if(typeof t=="number"){if(!Number.isFinite(t))throw Error("Invalid number");if(Math.log10(t)<=6)t=t.toLocaleString("en",{minimumFractionDigits:9,useGrouping:!1});else if(t-Math.trunc(t)===0)t=t.toLocaleString("en",{maximumFractionDigits:0,useGrouping:!1});else throw Error("Not enough precision for a number value. Use string value instead")}let e=!1;for(;t.startsWith("-");)e=!e,t=t.slice(1);if(t===".")throw Error("Invalid number");let r=t.split(".");if(r.length>2)throw Error("Invalid number");let n=r[0],o=r[1];if(n||(n="0"),o||(o="0"),o.length>9)throw Error("Invalid number");for(;o.length<9;)o+="0";let s=BigInt(n)*1000000000n+BigInt(o);return e&&(s=-s),s}}Ut.toNano=Ec;function Rc(t){let e=BigInt(t),r=!1;e<0&&(r=!0,e=-e);let o=(e%1000000000n).toString();for(;o.length<9;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];let f=`${(e/1000000000n).toString()}${o==="0"?"":`.${o}`}`;return r&&(f="-"+f),f}Ut.fromNano=Rc});var Vs=S(ze=>{"use strict";l();u();Object.defineProperty(ze,"__esModule",{value:!0});ze.comment=ze.external=ze.internal=void 0;var hn=Ae(),Ds=ke(),Fs=z(),Oc=ho();function kc(t){let e=!0;t.bounce!==null&&t.bounce!==void 0&&(e=t.bounce);let r;if(typeof t.to=="string")r=hn.Address.parse(t.to);else if(hn.Address.isAddress(t.to))r=t.to;else throw new Error(`Invalid address ${t.to}`);let n;typeof t.value=="string"?n=(0,Oc.toNano)(t.value):n=t.value;let o=Ds.Cell.EMPTY;return typeof t.body=="string"?o=(0,Fs.beginCell)().storeUint(0,32).storeStringTail(t.body).endCell():t.body&&(o=t.body),{info:{type:"internal",dest:r,value:{coins:n},bounce:e,ihrDisabled:!0,bounced:!1,ihrFee:0n,forwardFee:0n,createdAt:0,createdLt:0n},init:t.init??void 0,body:o}}ze.internal=kc;function qc(t){let e;if(typeof t.to=="string")e=hn.Address.parse(t.to);else if(hn.Address.isAddress(t.to))e=t.to;else throw new Error(`Invalid address ${t.to}`);return{info:{type:"external-in",dest:e,importFee:0n},init:t.init??void 0,body:t.body||Ds.Cell.EMPTY}}ze.external=qc;function jc(t){return(0,Fs.beginCell)().storeUint(0,32).storeStringTail(t).endCell()}ze.comment=jc});var go=S(It=>{"use strict";l();u();Object.defineProperty(It,"__esModule",{value:!0});It.storeAccountState=It.loadAccountState=void 0;var Hs=Pt();function Nc(t){return t.loadBit()?{type:"active",state:(0,Hs.loadStateInit)(t)}:t.loadBit()?{type:"frozen",stateHash:t.loadUintBig(256)}:{type:"uninit"}}It.loadAccountState=Nc;function Kc(t){return e=>{t.type==="active"?(e.storeBit(!0),e.store((0,Hs.storeStateInit)(t.state))):t.type==="frozen"?(e.storeBit(!1),e.storeBit(!0),e.storeUint(t.stateHash,256)):t.type==="uninit"&&(e.storeBit(!1),e.storeBit(!1))}}It.storeAccountState=Kc});var Ue=S(Tt=>{"use strict";l();u();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.storeCurrencyCollection=Tt.loadCurrencyCollection=void 0;var zs=Oe();function Lc(t){let e=t.loadCoins(),r=t.loadDict(zs.Dictionary.Keys.Uint(32),zs.Dictionary.Values.BigVarUint(5));return r.size===0?{coins:e}:{other:r,coins:e}}Tt.loadCurrencyCollection=Lc;function Dc(t){return e=>{e.storeCoins(t.coins),t.other?e.storeDict(t.other):e.storeBit(0)}}Tt.storeCurrencyCollection=Dc});var po=S(Et=>{"use strict";l();u();Object.defineProperty(Et,"__esModule",{value:!0});Et.storeAccountStorage=Et.loadAccountStorage=void 0;var Ws=go(),$s=Ue();function Fc(t){return{lastTransLt:t.loadUintBig(64),balance:(0,$s.loadCurrencyCollection)(t),state:(0,Ws.loadAccountState)(t)}}Et.loadAccountStorage=Fc;function Vc(t){return e=>{e.storeUint(t.lastTransLt,64),e.store((0,$s.storeCurrencyCollection)(t.balance)),e.store((0,Ws.storeAccountState)(t.state))}}Et.storeAccountStorage=Vc});var yo=S(Rt=>{"use strict";l();u();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.storeStorageUsed=Rt.loadStorageUsed=void 0;function Hc(t){return{cells:t.loadVarUintBig(3),bits:t.loadVarUintBig(3),publicCells:t.loadVarUintBig(3)}}Rt.loadStorageUsed=Hc;function zc(t){return e=>{e.storeVarUint(t.cells,3),e.storeVarUint(t.bits,3),e.storeVarUint(t.publicCells,3)}}Rt.storeStorageUsed=zc});var _o=S(Ot=>{"use strict";l();u();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.storeStorageInfo=Ot.loadStorageInfo=void 0;var Ys=yo();function Wc(t){return{used:(0,Ys.loadStorageUsed)(t),lastPaid:t.loadUint(32),duePayment:t.loadMaybeCoins()}}Ot.loadStorageInfo=Wc;function $c(t){return e=>{e.store((0,Ys.storeStorageUsed)(t.used)),e.storeUint(t.lastPaid,32),e.storeMaybeCoins(t.duePayment)}}Ot.storeStorageInfo=$c});var bo=S(kt=>{"use strict";l();u();Object.defineProperty(kt,"__esModule",{value:!0});kt.storeAccount=kt.loadAccount=void 0;var Qs=po(),Gs=_o();function Yc(t){return{addr:t.loadAddress(),storageStats:(0,Gs.loadStorageInfo)(t),storage:(0,Qs.loadAccountStorage)(t)}}kt.loadAccount=Yc;function Qc(t){return e=>{e.storeAddress(t.addr),e.store((0,Gs.storeStorageInfo)(t.storageStats)),e.store((0,Qs.storeAccountStorage)(t.storage))}}kt.storeAccount=Qc});var mo=S(qt=>{"use strict";l();u();Object.defineProperty(qt,"__esModule",{value:!0});qt.storeAccountStatus=qt.loadAccountStatus=void 0;function Gc(t){let e=t.loadUint(2);if(e===0)return"uninitialized";if(e===1)return"frozen";if(e===2)return"active";if(e===3)return"non-existing";throw Error("Invalid data")}qt.loadAccountStatus=Gc;function Xc(t){return e=>{if(t==="uninitialized")e.storeUint(0,2);else if(t==="frozen")e.storeUint(1,2);else if(t==="active")e.storeUint(2,2);else if(t==="non-existing")e.storeUint(3,2);else throw Error("Invalid data");return e}}qt.storeAccountStatus=Xc});var gn=S(jt=>{"use strict";l();u();Object.defineProperty(jt,"__esModule",{value:!0});jt.storeAccountStatusChange=jt.loadAccountStatusChange=void 0;function Zc(t){return t.loadBit()?t.loadBit()?"deleted":"frozen":"unchanged"}jt.loadAccountStatusChange=Zc;function Jc(t){return e=>{if(t=="unchanged")e.storeBit(0);else if(t==="frozen")e.storeBit(1),e.storeBit(0);else if(t==="deleted")e.storeBit(1),e.storeBit(1);else throw Error("Invalid account status change")}}jt.storeAccountStatusChange=Jc});var Bo=S(Nt=>{"use strict";l();u();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.storeCommonMessageInfoRelaxed=Nt.loadCommonMessageInfoRelaxed=void 0;var Xs=Ue();function eh(t){if(!t.loadBit()){let s=t.loadBit(),p=t.loadBit(),f=t.loadBit(),_=t.loadMaybeAddress(),B=t.loadAddress(),U=(0,Xs.loadCurrencyCollection)(t),R=t.loadCoins(),T=t.loadCoins(),E=t.loadUintBig(64),k=t.loadUint(32);return{type:"internal",ihrDisabled:s,bounce:p,bounced:f,src:_,dest:B,value:U,ihrFee:R,forwardFee:T,createdLt:E,createdAt:k}}if(!t.loadBit())throw Error("External In message is not possible for CommonMessageInfoRelaxed");let e=t.loadMaybeAddress(),r=t.loadMaybeExternalAddress(),n=t.loadUintBig(64),o=t.loadUint(32);return{type:"external-out",src:e,dest:r,createdLt:n,createdAt:o}}Nt.loadCommonMessageInfoRelaxed=eh;function th(t){return e=>{if(t.type==="internal")e.storeBit(0),e.storeBit(t.ihrDisabled),e.storeBit(t.bounce),e.storeBit(t.bounced),e.storeAddress(t.src),e.storeAddress(t.dest),e.store((0,Xs.storeCurrencyCollection)(t.value)),e.storeCoins(t.ihrFee),e.storeCoins(t.forwardFee),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else if(t.type==="external-out")e.storeBit(1),e.storeBit(1),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}Nt.storeCommonMessageInfoRelaxed=th});var So=S(Kt=>{"use strict";l();u();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.storeMessageRelaxed=Kt.loadMessageRelaxed=void 0;var rh=z(),Zs=Bo(),wo=Pt();function nh(t){let e=(0,Zs.loadCommonMessageInfoRelaxed)(t),r=null;t.loadBit()&&(t.loadBit()?r=(0,wo.loadStateInit)(t.loadRef().beginParse()):r=(0,wo.loadStateInit)(t));let n=t.loadBit()?t.loadRef():t.asCell();return{info:e,init:r,body:n}}Kt.loadMessageRelaxed=nh;function oh(t,e){return r=>{if(r.store((0,Zs.storeCommonMessageInfoRelaxed)(t.info)),t.init){r.storeBit(!0);let o=(0,rh.beginCell)().store((0,wo.storeStateInit)(t.init)),s=!1;e&&e.forceRef?s=!0:r.availableBits-2>=o.bits?s=!1:s=!0,s?(r.storeBit(!0),r.storeRef(o)):(r.storeBit(!1),r.storeBuilder(o))}else r.storeBit(!1);let n=!1;e&&e.forceRef?n=!0:r.availableBits-1>=t.body.bits.length&&r.refs+t.body.refs.length<=4&&!t.body.isExotic?n=!1:n=!0,n?(r.storeBit(!0),r.storeRef(t.body)):(r.storeBit(!1),r.storeBuilder(t.body.asBuilder()))}}Kt.storeMessageRelaxed=oh});var oa=S(be=>{"use strict";l();u();Object.defineProperty(be,"__esModule",{value:!0});be.loadOutList=be.storeOutList=be.loadOutAction=be.storeOutAction=void 0;var Js=So(),Co=z();function ea(t){switch(t.type){case"sendMsg":return ih(t);case"setCode":return sh(t);default:throw new Error(`Unknown action type ${t.type}`)}}be.storeOutAction=ea;var ta=247711853;function ih(t){return e=>{e.storeUint(ta,32).storeUint(t.mode,8).storeRef((0,Co.beginCell)().store((0,Js.storeMessageRelaxed)(t.outMsg)).endCell())}}var ra=2907562126;function sh(t){return e=>{e.storeUint(ra,32).storeRef(t.newCode)}}function na(t){let e=t.loadUint(32);if(e===ta){let r=t.loadUint(8),n=(0,Js.loadMessageRelaxed)(t.loadRef().beginParse());return{type:"sendMsg",mode:r,outMsg:n}}if(e===ra){let r=t.loadRef();return{type:"setCode",newCode:r}}throw new Error(`Unknown out action tag 0x${e.toString(16)}`)}be.loadOutAction=na;function ah(t){let e=t.reduce((r,n)=>(0,Co.beginCell)().storeRef(r).store(ea(n)).endCell(),(0,Co.beginCell)().endCell());return r=>{r.storeSlice(e.beginParse())}}be.storeOutList=ah;function lh(t){let e=[];for(;t.remainingRefs;){let r=t.loadRef();e.push(na(t)),t=r.beginParse()}return e.reverse()}be.loadOutList=lh});var Ao=S(Lt=>{"use strict";l();u();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.storeCommonMessageInfo=Lt.loadCommonMessageInfo=void 0;var ia=Ue();function uh(t){if(!t.loadBit()){let s=t.loadBit(),p=t.loadBit(),f=t.loadBit(),_=t.loadAddress(),B=t.loadAddress(),U=(0,ia.loadCurrencyCollection)(t),R=t.loadCoins(),T=t.loadCoins(),E=t.loadUintBig(64),k=t.loadUint(32);return{type:"internal",ihrDisabled:s,bounce:p,bounced:f,src:_,dest:B,value:U,ihrFee:R,forwardFee:T,createdLt:E,createdAt:k}}if(!t.loadBit()){let s=t.loadMaybeExternalAddress(),p=t.loadAddress(),f=t.loadCoins();return{type:"external-in",src:s,dest:p,importFee:f}}let e=t.loadAddress(),r=t.loadMaybeExternalAddress(),n=t.loadUintBig(64),o=t.loadUint(32);return{type:"external-out",src:e,dest:r,createdLt:n,createdAt:o}}Lt.loadCommonMessageInfo=uh;function dh(t){return e=>{if(t.type==="internal")e.storeBit(0),e.storeBit(t.ihrDisabled),e.storeBit(t.bounce),e.storeBit(t.bounced),e.storeAddress(t.src),e.storeAddress(t.dest),e.store((0,ia.storeCurrencyCollection)(t.value)),e.storeCoins(t.ihrFee),e.storeCoins(t.forwardFee),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else if(t.type==="external-in")e.storeBit(1),e.storeBit(0),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeCoins(t.importFee);else if(t.type==="external-out")e.storeBit(1),e.storeBit(1),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}Lt.storeCommonMessageInfo=dh});var vo=S(Dt=>{"use strict";l();u();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.storeComputeSkipReason=Dt.loadComputeSkipReason=void 0;function fh(t){let e=t.loadUint(2);if(e===0)return"no-state";if(e===1)return"bad-state";if(e===2)return"no-gas";throw new Error(`Unknown ComputeSkipReason: ${e}`)}Dt.loadComputeSkipReason=fh;function ch(t){return e=>{if(t==="no-state")e.storeUint(0,2);else if(t==="bad-state")e.storeUint(1,2);else if(t==="no-gas")e.storeUint(2,2);else throw new Error(`Unknown ComputeSkipReason: ${t}`)}}Dt.storeComputeSkipReason=ch});var Mo=S(Ft=>{"use strict";l();u();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.storeDepthBalanceInfo=Ft.loadDepthBalanceInfo=void 0;var sa=Ue();function hh(t){return{splitDepth:t.loadUint(5),balance:(0,sa.loadCurrencyCollection)(t)}}Ft.loadDepthBalanceInfo=hh;function gh(t){return e=>{e.storeUint(t.splitDepth,5),e.store((0,sa.storeCurrencyCollection)(t.balance))}}Ft.storeDepthBalanceInfo=gh});var Po=S(Vt=>{"use strict";l();u();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.storeHashUpdate=Vt.loadHashUpdate=void 0;function ph(t){if(t.loadUint(8)!==114)throw Error("Invalid data");let e=t.loadBuffer(32),r=t.loadBuffer(32);return{oldHash:e,newHash:r}}Vt.loadHashUpdate=ph;function yh(t){return e=>{e.storeUint(114,8),e.storeBuffer(t.oldHash),e.storeBuffer(t.newHash)}}Vt.storeHashUpdate=yh});var Uo=S(pn=>{"use strict";l();u();Object.defineProperty(pn,"__esModule",{value:!0});pn.loadMasterchainStateExtra=void 0;var xo=Oe(),_h=Ue();function bh(t){if(t.loadUint(16)!==52262)throw Error("Invalid data");t.loadBit()&&t.loadRef();let e=t.loadUintBig(256),r=xo.Dictionary.load(xo.Dictionary.Keys.Int(32),xo.Dictionary.Values.Cell(),t),n=(0,_h.loadCurrencyCollection)(t);return{config:r,configAddress:e,globalBalance:n}}pn.loadMasterchainStateExtra=bh});var To=S(We=>{"use strict";l();u();Object.defineProperty(We,"__esModule",{value:!0});We.MessageValue=We.storeMessage=We.loadMessage=void 0;var aa=z(),la=Ao(),Io=Pt();function ua(t){let e=(0,la.loadCommonMessageInfo)(t),r=null;t.loadBit()&&(t.loadBit()?r=(0,Io.loadStateInit)(t.loadRef().beginParse()):r=(0,Io.loadStateInit)(t));let n=t.loadBit()?t.loadRef():t.asCell();return{info:e,init:r,body:n}}We.loadMessage=ua;function da(t,e){return r=>{if(r.store((0,la.storeCommonMessageInfo)(t.info)),t.init){r.storeBit(!0);let o=(0,aa.beginCell)().store((0,Io.storeStateInit)(t.init)),s=!1;e&&e.forceRef?s=!0:s=r.availableBits-2<o.bits+t.body.bits.length,s?(r.storeBit(!0),r.storeRef(o)):(r.storeBit(!1),r.storeBuilder(o))}else r.storeBit(!1);let n=!1;e&&e.forceRef?n=!0:n=r.availableBits-1<t.body.bits.length||r.refs+t.body.refs.length>4,n?(r.storeBit(!0),r.storeRef(t.body)):(r.storeBit(!1),r.storeBuilder(t.body.asBuilder()))}}We.storeMessage=da;We.MessageValue={serialize(t,e){e.storeRef((0,aa.beginCell)().store(da(t)))},parse(t){return ua(t.loadRef().beginParse())}}});var fa=S(wr=>{"use strict";l();u();Object.defineProperty(wr,"__esModule",{value:!0});wr.SendMode=void 0;var mh;(function(t){t[t.CARRY_ALL_REMAINING_BALANCE=128]="CARRY_ALL_REMAINING_BALANCE",t[t.CARRY_ALL_REMAINING_INCOMING_VALUE=64]="CARRY_ALL_REMAINING_INCOMING_VALUE",t[t.DESTROY_ACCOUNT_IF_ZERO=32]="DESTROY_ACCOUNT_IF_ZERO",t[t.PAY_GAS_SEPARATELY=1]="PAY_GAS_SEPARATELY",t[t.IGNORE_ERRORS=2]="IGNORE_ERRORS",t[t.NONE=0]="NONE"})(mh=wr.SendMode||(wr.SendMode={}))});var Eo=S(Ht=>{"use strict";l();u();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.storeShardAccount=Ht.loadShardAccount=void 0;var ca=z(),ha=bo();function Bh(t){let e=t.loadRef(),r;if(!e.isExotic){let n=e.beginParse();n.loadBit()&&(r=(0,ha.loadAccount)(n))}return{account:r,lastTransactionHash:t.loadUintBig(256),lastTransactionLt:t.loadUintBig(64)}}Ht.loadShardAccount=Bh;function wh(t){return e=>{t.account?e.storeRef((0,ca.beginCell)().storeBit(!0).store((0,ha.storeAccount)(t.account))):e.storeRef((0,ca.beginCell)().storeBit(!1)),e.storeUint(t.lastTransactionHash,256),e.storeUint(t.lastTransactionLt,64)}}Ht.storeShardAccount=wh});var Ro=S(Ie=>{"use strict";l();u();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.storeShardAccounts=Ie.loadShardAccounts=Ie.ShardAccountRefValue=void 0;var ga=Oe(),pa=Mo(),ya=Eo();Ie.ShardAccountRefValue={parse:t=>{let e=(0,pa.loadDepthBalanceInfo)(t),r=(0,ya.loadShardAccount)(t);return{depthBalanceInfo:e,shardAccount:r}},serialize(t,e){e.store((0,pa.storeDepthBalanceInfo)(t.depthBalanceInfo)),e.store((0,ya.storeShardAccount)(t.shardAccount))}};function Sh(t){return ga.Dictionary.load(ga.Dictionary.Keys.BigUint(256),Ie.ShardAccountRefValue,t)}Ie.loadShardAccounts=Sh;function Ch(t){return e=>{e.storeDict(t)}}Ie.storeShardAccounts=Ch});var Oo=S(zt=>{"use strict";l();u();Object.defineProperty(zt,"__esModule",{value:!0});zt.storeShardIdent=zt.loadShardIdent=void 0;function Ah(t){if(t.loadUint(2)!==0)throw Error("Invalid data");return{shardPrefixBits:t.loadUint(6),workchainId:t.loadInt(32),shardPrefix:t.loadUintBig(64)}}zt.loadShardIdent=Ah;function vh(t){return e=>{e.storeUint(0,2),e.storeUint(t.shardPrefixBits,6),e.storeInt(t.workchainId,32),e.storeUint(t.shardPrefix,64)}}zt.storeShardIdent=vh});var _a=S(yn=>{"use strict";l();u();Object.defineProperty(yn,"__esModule",{value:!0});yn.loadShardStateUnsplit=void 0;var Mh=Uo(),Ph=Ro(),xh=Oo();function Uh(t){if(t.loadUint(32)!==2418257890)throw Error("Invalid data");let e=t.loadInt(32),r=(0,xh.loadShardIdent)(t),n=t.loadUint(32),o=t.loadUint(32),s=t.loadUint(32),p=t.loadUintBig(64),f=t.loadUint(32);t.loadRef();let _=t.loadBit(),B=t.loadRef(),U;B.isExotic||(U=(0,Ph.loadShardAccounts)(B.beginParse())),t.loadRef();let R=t.loadBit(),T=null;if(R){let E=t.loadRef();E.isExotic||(T=(0,Mh.loadMasterchainStateExtra)(E.beginParse()))}return{globalId:e,shardId:r,seqno:n,vertSeqNo:o,genUtime:s,genLt:p,minRefMcSeqno:f,beforeSplit:_,accounts:U,extras:T}}yn.loadShardStateUnsplit=Uh});var ko=S(Wt=>{"use strict";l();u();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.storeSplitMergeInfo=Wt.loadSplitMergeInfo=void 0;function Ih(t){let e=t.loadUint(6),r=t.loadUint(6),n=t.loadUintBig(256),o=t.loadUintBig(256);return{currentShardPrefixLength:e,accountSplitDepth:r,thisAddress:n,siblingAddress:o}}Wt.loadSplitMergeInfo=Ih;function Th(t){return e=>{e.storeUint(t.currentShardPrefixLength,6),e.storeUint(t.accountSplitDepth,6),e.storeUint(t.thisAddress,256),e.storeUint(t.siblingAddress,256)}}Wt.storeSplitMergeInfo=Th});var _n=S($t=>{"use strict";l();u();Object.defineProperty($t,"__esModule",{value:!0});$t.storeStorageUsedShort=$t.loadStorageUsedShort=void 0;function Eh(t){let e=t.loadVarUintBig(3),r=t.loadVarUintBig(3);return{cells:e,bits:r}}$t.loadStorageUsedShort=Eh;function Rh(t){return e=>{e.storeVarUint(t.cells,3),e.storeVarUint(t.bits,3)}}$t.storeStorageUsedShort=Rh});var qo=S(Yt=>{"use strict";l();u();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.storeTransactionActionPhase=Yt.loadTransactionActionPhase=void 0;var ba=gn(),ma=_n();function Oh(t){let e=t.loadBit(),r=t.loadBit(),n=t.loadBit(),o=(0,ba.loadAccountStatusChange)(t),s=t.loadBit()?t.loadCoins():void 0,p=t.loadBit()?t.loadCoins():void 0,f=t.loadInt(32),_=t.loadBit()?t.loadInt(32):void 0,B=t.loadUint(16),U=t.loadUint(16),R=t.loadUint(16),T=t.loadUint(16),E=t.loadUintBig(256),k=(0,ma.loadStorageUsedShort)(t);return{success:e,valid:r,noFunds:n,statusChange:o,totalFwdFees:s,totalActionFees:p,resultCode:f,resultArg:_,totalActions:B,specActions:U,skippedActions:R,messagesCreated:T,actionListHash:E,totalMessageSize:k}}Yt.loadTransactionActionPhase=Oh;function kh(t){return e=>{e.storeBit(t.success),e.storeBit(t.valid),e.storeBit(t.noFunds),e.store((0,ba.storeAccountStatusChange)(t.statusChange)),e.storeMaybeCoins(t.totalFwdFees),e.storeMaybeCoins(t.totalActionFees),e.storeInt(t.resultCode,32),e.storeMaybeInt(t.resultArg,32),e.storeUint(t.totalActions,16),e.storeUint(t.specActions,16),e.storeUint(t.skippedActions,16),e.storeUint(t.messagesCreated,16),e.storeUint(t.actionListHash,256),e.store((0,ma.storeStorageUsedShort)(t.totalMessageSize))}}Yt.storeTransactionActionPhase=kh});var jo=S(Qt=>{"use strict";l();u();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.storeTransactionBouncePhase=Qt.loadTransactionBouncePhase=void 0;var bn=_n();function qh(t){if(t.loadBit()){let e=(0,bn.loadStorageUsedShort)(t),r=t.loadCoins(),n=t.loadCoins();return{type:"ok",messageSize:e,messageFees:r,forwardFees:n}}if(t.loadBit()){let e=(0,bn.loadStorageUsedShort)(t),r=t.loadCoins();return{type:"no-funds",messageSize:e,requiredForwardFees:r}}return{type:"negative-funds"}}Qt.loadTransactionBouncePhase=qh;function jh(t){return e=>{if(t.type==="ok")e.storeBit(!0),e.store((0,bn.storeStorageUsedShort)(t.messageSize)),e.storeCoins(t.messageFees),e.storeCoins(t.forwardFees);else if(t.type==="negative-funds")e.storeBit(!1),e.storeBit(!1);else if(t.type==="no-funds")e.storeBit(!1),e.storeBit(!0),e.store((0,bn.storeStorageUsedShort)(t.messageSize)),e.storeCoins(t.requiredForwardFees);else throw new Error("Invalid TransactionBouncePhase type")}}Qt.storeTransactionBouncePhase=jh});var No=S(Gt=>{"use strict";l();u();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.storeTransactionComputePhase=Gt.loadTransactionComputePhase=void 0;var Nh=z(),Ba=vo();function Kh(t){if(!t.loadBit()){let j=(0,Ba.loadComputeSkipReason)(t);return{type:"skipped",reason:j}}let e=t.loadBit(),r=t.loadBit(),n=t.loadBit(),o=t.loadCoins(),s=t.loadRef().beginParse(),p=s.loadVarUintBig(3),f=s.loadVarUintBig(3),_=s.loadBit()?s.loadVarUintBig(2):void 0,B=s.loadUint(8),U=s.loadInt(32),R=s.loadBit()?s.loadInt(32):void 0,T=s.loadUint(32),E=s.loadUintBig(256),k=s.loadUintBig(256);return{type:"vm",success:e,messageStateUsed:r,accountActivated:n,gasFees:o,gasUsed:p,gasLimit:f,gasCredit:_,mode:B,exitCode:U,exitArg:R,vmSteps:T,vmInitStateHash:E,vmFinalStateHash:k}}Gt.loadTransactionComputePhase=Kh;function Lh(t){return e=>{if(t.type==="skipped"){e.storeBit(0),e.store((0,Ba.storeComputeSkipReason)(t.reason));return}e.storeBit(1),e.storeBit(t.success),e.storeBit(t.messageStateUsed),e.storeBit(t.accountActivated),e.storeCoins(t.gasFees),e.storeRef((0,Nh.beginCell)().storeVarUint(t.gasUsed,3).storeVarUint(t.gasLimit,3).store(r=>t.gasCredit!==void 0&&t.gasCredit!==null?r.storeBit(1).storeVarUint(t.gasCredit,2):r.storeBit(0)).storeUint(t.mode,8).storeInt(t.exitCode,32).store(r=>t.exitArg!==void 0&&t.exitArg!==null?r.storeBit(1).storeInt(t.exitArg,32):r.storeBit(0)).storeUint(t.vmSteps,32).storeUint(t.vmInitStateHash,256).storeUint(t.vmFinalStateHash,256).endCell())}}Gt.storeTransactionComputePhase=Lh});var Ko=S(Xt=>{"use strict";l();u();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.storeTransactionCreditPhase=Xt.loadTransactionCreditPhase=void 0;var wa=Ue();function Dh(t){let e=t.loadBit()?t.loadCoins():void 0,r=(0,wa.loadCurrencyCollection)(t);return{dueFeesColelcted:e,credit:r}}Xt.loadTransactionCreditPhase=Dh;function Fh(t){return e=>{t.dueFeesColelcted===null||t.dueFeesColelcted===void 0?e.storeBit(!1):(e.storeBit(!0),e.storeCoins(t.dueFeesColelcted)),e.store((0,wa.storeCurrencyCollection)(t.credit))}}Xt.storeTransactionCreditPhase=Fh});var Lo=S(Zt=>{"use strict";l();u();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.storeTransactionsStoragePhase=Zt.loadTransactionStoragePhase=void 0;var Sa=gn();function Vh(t){let e=t.loadCoins(),r;t.loadBit()&&(r=t.loadCoins());let n=(0,Sa.loadAccountStatusChange)(t);return{storageFeesCollected:e,storageFeesDue:r,statusChange:n}}Zt.loadTransactionStoragePhase=Vh;function Hh(t){return e=>{e.storeCoins(t.storageFeesCollected),t.storageFeesDue===null||t.storageFeesDue===void 0?e.storeBit(!1):(e.storeBit(!0),e.storeCoins(t.storageFeesDue)),e.store((0,Sa.storeAccountStatusChange)(t.statusChange))}}Zt.storeTransactionsStoragePhase=Hh});var Fo=S(tr=>{"use strict";l();u();Object.defineProperty(tr,"__esModule",{value:!0});tr.storeTransactionDescription=tr.loadTransactionDescription=void 0;var Do=z(),mn=ko(),Ca=Vo(),Jt=qo(),Aa=jo(),er=No(),va=Ko(),$e=Lo();function zh(t){let e=t.loadUint(4);if(e===0){let r=t.loadBit(),n;t.loadBit()&&(n=(0,$e.loadTransactionStoragePhase)(t));let o;t.loadBit()&&(o=(0,va.loadTransactionCreditPhase)(t));let s=(0,er.loadTransactionComputePhase)(t),p;t.loadBit()&&(p=(0,Jt.loadTransactionActionPhase)(t.loadRef().beginParse()));let f=t.loadBit(),_;t.loadBit()&&(_=(0,Aa.loadTransactionBouncePhase)(t));let B=t.loadBit();return{type:"generic",creditFirst:r,storagePhase:n,creditPhase:o,computePhase:s,actionPhase:p,bouncePhase:_,aborted:f,destroyed:B}}if(e===1)return{type:"storage",storagePhase:(0,$e.loadTransactionStoragePhase)(t)};if(e===2||e===3){let r=e===3,n=(0,$e.loadTransactionStoragePhase)(t),o=(0,er.loadTransactionComputePhase)(t),s;t.loadBit()&&(s=(0,Jt.loadTransactionActionPhase)(t.loadRef().beginParse()));let p=t.loadBit(),f=t.loadBit();return{type:"tick-tock",isTock:r,storagePhase:n,computePhase:o,actionPhase:s,aborted:p,destroyed:f}}if(e===4){let r=(0,mn.loadSplitMergeInfo)(t),n;t.loadBit()&&(n=(0,$e.loadTransactionStoragePhase)(t));let o=(0,er.loadTransactionComputePhase)(t),s;t.loadBit()&&(s=(0,Jt.loadTransactionActionPhase)(t.loadRef().beginParse()));let p=t.loadBit(),f=t.loadBit();return{type:"split-prepare",splitInfo:r,storagePhase:n,computePhase:o,actionPhase:s,aborted:p,destroyed:f}}if(e===5){let r=(0,mn.loadSplitMergeInfo)(t),n=(0,Ca.loadTransaction)(t.loadRef().beginParse()),o=t.loadBit();return{type:"split-install",splitInfo:r,prepareTransaction:n,installed:o}}throw Error(`Unsupported transaction description type ${e}`)}tr.loadTransactionDescription=zh;function Wh(t){return e=>{if(t.type==="generic")e.storeUint(0,4),e.storeBit(t.creditFirst),t.storagePhase?(e.storeBit(!0),e.store((0,$e.storeTransactionsStoragePhase)(t.storagePhase))):e.storeBit(!1),t.creditPhase?(e.storeBit(!0),e.store((0,va.storeTransactionCreditPhase)(t.creditPhase))):e.storeBit(!1),e.store((0,er.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.storeRef((0,Do.beginCell)().store((0,Jt.storeTransactionActionPhase)(t.actionPhase)))):e.storeBit(!1),e.storeBit(t.aborted),t.bouncePhase?(e.storeBit(!0),e.store((0,Aa.storeTransactionBouncePhase)(t.bouncePhase))):e.storeBit(!1),e.storeBit(t.destroyed);else if(t.type==="storage")e.storeUint(1,4),e.store((0,$e.storeTransactionsStoragePhase)(t.storagePhase));else if(t.type==="tick-tock")e.storeUint(t.isTock?3:2,4),e.store((0,$e.storeTransactionsStoragePhase)(t.storagePhase)),e.store((0,er.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.storeRef((0,Do.beginCell)().store((0,Jt.storeTransactionActionPhase)(t.actionPhase)))):e.storeBit(!1),e.storeBit(t.aborted),e.storeBit(t.destroyed);else if(t.type==="split-prepare")e.storeUint(4,4),e.store((0,mn.storeSplitMergeInfo)(t.splitInfo)),t.storagePhase?(e.storeBit(!0),e.store((0,$e.storeTransactionsStoragePhase)(t.storagePhase))):e.storeBit(!1),e.store((0,er.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.store((0,Jt.storeTransactionActionPhase)(t.actionPhase))):e.storeBit(!1),e.storeBit(t.aborted),e.storeBit(t.destroyed);else if(t.type==="split-install")e.storeUint(5,4),e.store((0,mn.storeSplitMergeInfo)(t.splitInfo)),e.storeRef((0,Do.beginCell)().store((0,Ca.storeTransaction)(t.prepareTransaction))),e.storeBit(t.installed);else throw Error(`Unsupported transaction description type ${t.type}`)}}tr.storeTransactionDescription=Wh});var Vo=S(rr=>{"use strict";l();u();Object.defineProperty(rr,"__esModule",{value:!0});rr.storeTransaction=rr.loadTransaction=void 0;var Bn=z(),$h=Oe(),wn=mo(),Ma=Ue(),Pa=Po(),Ho=To(),xa=Fo();function Yh(t){let e=t.asCell();if(t.loadUint(4)!==7)throw Error("Invalid data");let r=t.loadUintBig(256),n=t.loadUintBig(64),o=t.loadUintBig(256),s=t.loadUintBig(64),p=t.loadUint(32),f=t.loadUint(15),_=(0,wn.loadAccountStatus)(t),B=(0,wn.loadAccountStatus)(t),R=t.loadRef().beginParse(),T=R.loadBit()?(0,Ho.loadMessage)(R.loadRef().beginParse()):void 0,E=R.loadDict($h.Dictionary.Keys.Uint(15),Ho.MessageValue);R.endParse();let k=(0,Ma.loadCurrencyCollection)(t),j=(0,Pa.loadHashUpdate)(t.loadRef().beginParse()),W=(0,xa.loadTransactionDescription)(t.loadRef().beginParse());return{address:r,lt:n,prevTransactionHash:o,prevTransactionLt:s,now:p,outMessagesCount:f,oldStatus:_,endStatus:B,inMessage:T,outMessages:E,totalFees:k,stateUpdate:j,description:W,raw:e,hash:()=>e.hash()}}rr.loadTransaction=Yh;function Qh(t){return e=>{e.storeUint(7,4),e.storeUint(t.address,256),e.storeUint(t.lt,64),e.storeUint(t.prevTransactionHash,256),e.storeUint(t.prevTransactionLt,64),e.storeUint(t.now,32),e.storeUint(t.outMessagesCount,15),e.store((0,wn.storeAccountStatus)(t.oldStatus)),e.store((0,wn.storeAccountStatus)(t.endStatus));let r=(0,Bn.beginCell)();t.inMessage?(r.storeBit(!0),r.storeRef((0,Bn.beginCell)().store((0,Ho.storeMessage)(t.inMessage)))):r.storeBit(!1),r.storeDict(t.outMessages),e.storeRef(r),e.store((0,Ma.storeCurrencyCollection)(t.totalFees)),e.storeRef((0,Bn.beginCell)().store((0,Pa.storeHashUpdate)(t.stateUpdate))),e.storeRef((0,Bn.beginCell)().store((0,xa.storeTransactionDescription)(t.description)))}}rr.storeTransaction=Qh});var ol=S(m=>{"use strict";l();u();Object.defineProperty(m,"__esModule",{value:!0});m.loadStorageInfo=m.storeStateInit=m.loadStateInit=m.storeSplitMergeInfo=m.loadSplitMergeInfo=m.storeSimpleLibrary=m.loadSimpleLibrary=m.loadShardStateUnsplit=m.storeShardIdent=m.loadShardIdent=m.storeShardAccounts=m.loadShardAccounts=m.ShardAccountRefValue=m.storeShardAccount=m.loadShardAccount=m.SendMode=m.storeMessageRelaxed=m.loadMessageRelaxed=m.storeMessage=m.loadMessage=m.loadMasterchainStateExtra=m.storeHashUpdate=m.loadHashUpdate=m.storeDepthBalanceInfo=m.loadDepthBalanceInfo=m.storeCurrencyCollection=m.loadCurrencyCollection=m.storeComputeSkipReason=m.loadComputeSkipReason=m.storeCommonMessageInfoRelaxed=m.loadCommonMessageInfoRelaxed=m.storeCommonMessageInfo=m.loadCommonMessageInfo=m.storeOutList=m.loadOutList=m.storeOutAction=m.loadOutAction=m.storeAccountStorage=m.loadAccountStorage=m.storeAccountStatusChange=m.loadAccountStatusChange=m.storeAccountStatus=m.loadAccountStatus=m.storeAccountState=m.loadAccountState=m.storeAccount=m.loadAccount=m.comment=m.external=m.internal=void 0;m.storeTransactionsStoragePhase=m.loadTransactionStoragePhase=m.storeTransactionDescription=m.loadTransactionDescription=m.storeTransactionCreditPhase=m.loadTransactionCreditPhase=m.storeTransactionComputePhase=m.loadTransactionComputePhase=m.storeTransactionBouncePhase=m.loadTransactionBouncePhase=m.storeTransactionActionPhase=m.loadTransactionActionPhase=m.storeTransaction=m.loadTransaction=m.storeTickTock=m.loadTickTock=m.storeStorageUsedShort=m.loadStorageUsedShort=m.storeStorageUsed=m.loadStorageUsed=m.storeStorageInfo=void 0;var zo=Vs();Object.defineProperty(m,"internal",{enumerable:!0,get:function(){return zo.internal}});Object.defineProperty(m,"external",{enumerable:!0,get:function(){return zo.external}});Object.defineProperty(m,"comment",{enumerable:!0,get:function(){return zo.comment}});var Ua=bo();Object.defineProperty(m,"loadAccount",{enumerable:!0,get:function(){return Ua.loadAccount}});Object.defineProperty(m,"storeAccount",{enumerable:!0,get:function(){return Ua.storeAccount}});var Ia=go();Object.defineProperty(m,"loadAccountState",{enumerable:!0,get:function(){return Ia.loadAccountState}});Object.defineProperty(m,"storeAccountState",{enumerable:!0,get:function(){return Ia.storeAccountState}});var Ta=mo();Object.defineProperty(m,"loadAccountStatus",{enumerable:!0,get:function(){return Ta.loadAccountStatus}});Object.defineProperty(m,"storeAccountStatus",{enumerable:!0,get:function(){return Ta.storeAccountStatus}});var Ea=gn();Object.defineProperty(m,"loadAccountStatusChange",{enumerable:!0,get:function(){return Ea.loadAccountStatusChange}});Object.defineProperty(m,"storeAccountStatusChange",{enumerable:!0,get:function(){return Ea.storeAccountStatusChange}});var Ra=po();Object.defineProperty(m,"loadAccountStorage",{enumerable:!0,get:function(){return Ra.loadAccountStorage}});Object.defineProperty(m,"storeAccountStorage",{enumerable:!0,get:function(){return Ra.storeAccountStorage}});var Sn=oa();Object.defineProperty(m,"loadOutAction",{enumerable:!0,get:function(){return Sn.loadOutAction}});Object.defineProperty(m,"storeOutAction",{enumerable:!0,get:function(){return Sn.storeOutAction}});Object.defineProperty(m,"loadOutList",{enumerable:!0,get:function(){return Sn.loadOutList}});Object.defineProperty(m,"storeOutList",{enumerable:!0,get:function(){return Sn.storeOutList}});var Oa=Ao();Object.defineProperty(m,"loadCommonMessageInfo",{enumerable:!0,get:function(){return Oa.loadCommonMessageInfo}});Object.defineProperty(m,"storeCommonMessageInfo",{enumerable:!0,get:function(){return Oa.storeCommonMessageInfo}});var ka=Bo();Object.defineProperty(m,"loadCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return ka.loadCommonMessageInfoRelaxed}});Object.defineProperty(m,"storeCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return ka.storeCommonMessageInfoRelaxed}});var qa=vo();Object.defineProperty(m,"loadComputeSkipReason",{enumerable:!0,get:function(){return qa.loadComputeSkipReason}});Object.defineProperty(m,"storeComputeSkipReason",{enumerable:!0,get:function(){return qa.storeComputeSkipReason}});var ja=Ue();Object.defineProperty(m,"loadCurrencyCollection",{enumerable:!0,get:function(){return ja.loadCurrencyCollection}});Object.defineProperty(m,"storeCurrencyCollection",{enumerable:!0,get:function(){return ja.storeCurrencyCollection}});var Na=Mo();Object.defineProperty(m,"loadDepthBalanceInfo",{enumerable:!0,get:function(){return Na.loadDepthBalanceInfo}});Object.defineProperty(m,"storeDepthBalanceInfo",{enumerable:!0,get:function(){return Na.storeDepthBalanceInfo}});var Ka=Po();Object.defineProperty(m,"loadHashUpdate",{enumerable:!0,get:function(){return Ka.loadHashUpdate}});Object.defineProperty(m,"storeHashUpdate",{enumerable:!0,get:function(){return Ka.storeHashUpdate}});var Gh=Uo();Object.defineProperty(m,"loadMasterchainStateExtra",{enumerable:!0,get:function(){return Gh.loadMasterchainStateExtra}});var La=To();Object.defineProperty(m,"loadMessage",{enumerable:!0,get:function(){return La.loadMessage}});Object.defineProperty(m,"storeMessage",{enumerable:!0,get:function(){return La.storeMessage}});var Da=So();Object.defineProperty(m,"loadMessageRelaxed",{enumerable:!0,get:function(){return Da.loadMessageRelaxed}});Object.defineProperty(m,"storeMessageRelaxed",{enumerable:!0,get:function(){return Da.storeMessageRelaxed}});var Xh=fa();Object.defineProperty(m,"SendMode",{enumerable:!0,get:function(){return Xh.SendMode}});var Fa=Eo();Object.defineProperty(m,"loadShardAccount",{enumerable:!0,get:function(){return Fa.loadShardAccount}});Object.defineProperty(m,"storeShardAccount",{enumerable:!0,get:function(){return Fa.storeShardAccount}});var Wo=Ro();Object.defineProperty(m,"ShardAccountRefValue",{enumerable:!0,get:function(){return Wo.ShardAccountRefValue}});Object.defineProperty(m,"loadShardAccounts",{enumerable:!0,get:function(){return Wo.loadShardAccounts}});Object.defineProperty(m,"storeShardAccounts",{enumerable:!0,get:function(){return Wo.storeShardAccounts}});var Va=Oo();Object.defineProperty(m,"loadShardIdent",{enumerable:!0,get:function(){return Va.loadShardIdent}});Object.defineProperty(m,"storeShardIdent",{enumerable:!0,get:function(){return Va.storeShardIdent}});var Zh=_a();Object.defineProperty(m,"loadShardStateUnsplit",{enumerable:!0,get:function(){return Zh.loadShardStateUnsplit}});var Ha=so();Object.defineProperty(m,"loadSimpleLibrary",{enumerable:!0,get:function(){return Ha.loadSimpleLibrary}});Object.defineProperty(m,"storeSimpleLibrary",{enumerable:!0,get:function(){return Ha.storeSimpleLibrary}});var za=ko();Object.defineProperty(m,"loadSplitMergeInfo",{enumerable:!0,get:function(){return za.loadSplitMergeInfo}});Object.defineProperty(m,"storeSplitMergeInfo",{enumerable:!0,get:function(){return za.storeSplitMergeInfo}});var Wa=Pt();Object.defineProperty(m,"loadStateInit",{enumerable:!0,get:function(){return Wa.loadStateInit}});Object.defineProperty(m,"storeStateInit",{enumerable:!0,get:function(){return Wa.storeStateInit}});var $a=_o();Object.defineProperty(m,"loadStorageInfo",{enumerable:!0,get:function(){return $a.loadStorageInfo}});Object.defineProperty(m,"storeStorageInfo",{enumerable:!0,get:function(){return $a.storeStorageInfo}});var Ya=yo();Object.defineProperty(m,"loadStorageUsed",{enumerable:!0,get:function(){return Ya.loadStorageUsed}});Object.defineProperty(m,"storeStorageUsed",{enumerable:!0,get:function(){return Ya.storeStorageUsed}});var Qa=_n();Object.defineProperty(m,"loadStorageUsedShort",{enumerable:!0,get:function(){return Qa.loadStorageUsedShort}});Object.defineProperty(m,"storeStorageUsedShort",{enumerable:!0,get:function(){return Qa.storeStorageUsedShort}});var Ga=ao();Object.defineProperty(m,"loadTickTock",{enumerable:!0,get:function(){return Ga.loadTickTock}});Object.defineProperty(m,"storeTickTock",{enumerable:!0,get:function(){return Ga.storeTickTock}});var Xa=Vo();Object.defineProperty(m,"loadTransaction",{enumerable:!0,get:function(){return Xa.loadTransaction}});Object.defineProperty(m,"storeTransaction",{enumerable:!0,get:function(){return Xa.storeTransaction}});var Za=qo();Object.defineProperty(m,"loadTransactionActionPhase",{enumerable:!0,get:function(){return Za.loadTransactionActionPhase}});Object.defineProperty(m,"storeTransactionActionPhase",{enumerable:!0,get:function(){return Za.storeTransactionActionPhase}});var Ja=jo();Object.defineProperty(m,"loadTransactionBouncePhase",{enumerable:!0,get:function(){return Ja.loadTransactionBouncePhase}});Object.defineProperty(m,"storeTransactionBouncePhase",{enumerable:!0,get:function(){return Ja.storeTransactionBouncePhase}});var el=No();Object.defineProperty(m,"loadTransactionComputePhase",{enumerable:!0,get:function(){return el.loadTransactionComputePhase}});Object.defineProperty(m,"storeTransactionComputePhase",{enumerable:!0,get:function(){return el.storeTransactionComputePhase}});var tl=Ko();Object.defineProperty(m,"loadTransactionCreditPhase",{enumerable:!0,get:function(){return tl.loadTransactionCreditPhase}});Object.defineProperty(m,"storeTransactionCreditPhase",{enumerable:!0,get:function(){return tl.storeTransactionCreditPhase}});var rl=Fo();Object.defineProperty(m,"loadTransactionDescription",{enumerable:!0,get:function(){return rl.loadTransactionDescription}});Object.defineProperty(m,"storeTransactionDescription",{enumerable:!0,get:function(){return rl.storeTransactionDescription}});var nl=Lo();Object.defineProperty(m,"loadTransactionStoragePhase",{enumerable:!0,get:function(){return nl.loadTransactionStoragePhase}});Object.defineProperty(m,"storeTransactionsStoragePhase",{enumerable:!0,get:function(){return nl.storeTransactionsStoragePhase}})});var sl=S(Cn=>{"use strict";l();u();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.openContract=void 0;var Jh=Ae(),il=ke();function e0(t,e){let r,n=null;if(!Jh.Address.isAddress(t.address))throw Error("Invalid address");if(r=t.address,t.init){if(!(t.init.code instanceof il.Cell))throw Error("Invalid init.code");if(!(t.init.data instanceof il.Cell))throw Error("Invalid init.data");n=t.init}let o=e({address:r,init:n});return new Proxy(t,{get(s,p){let f=s[p];return typeof p=="string"&&(p.startsWith("get")||p.startsWith("send"))&&typeof f=="function"?(..._)=>f.apply(s,[o,..._]):f}})}Cn.openContract=e0});var al=S(An=>{"use strict";l();u();Object.defineProperty(An,"__esModule",{value:!0});An.ComputeError=void 0;var Sr=class extends Error{constructor(e,r,n){super(e),this.exitCode=r,this.debugLogs=n&&n.debugLogs?n.debugLogs:null,this.logs=n&&n.logs?n.logs:null,Object.setPrototypeOf(this,Sr.prototype)}};An.ComputeError=Sr});var ll=S(vn=>{"use strict";l();u();Object.defineProperty(vn,"__esModule",{value:!0});vn.getMethodId=void 0;var t0=new Int16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);function r0(t){t instanceof c.Buffer||(t=c.Buffer.from(t));let e=0;for(let r=0;r<t.length;r++){let n=t[r];e=(t0[(e>>8^n)&255]^e<<8)&65535}return e}function n0(t){return r0(t)&65535|65536}vn.getMethodId=n0});var dl=S(nr=>{"use strict";l();u();Object.defineProperty(nr,"__esModule",{value:!0});nr.safeSignVerify=nr.safeSign=void 0;var $o=on(),o0=8,i0=64;function ul(t,e){let r=c.Buffer.from(e);if(r.length>i0)throw Error("Seed can	 be longer than 64 bytes");if(r.length<o0)throw Error("Seed must be at least 8 bytes");return(0,$o.sha256_sync)(c.Buffer.concat([c.Buffer.from([255,255]),r,t.hash()]))}function s0(t,e,r="ton-safe-sign-magic"){return(0,$o.sign)(ul(t,r),e)}nr.safeSign=s0;function a0(t,e,r,n="ton-safe-sign-magic"){return(0,$o.signVerify)(ul(t,n),e,r)}nr.safeSignVerify=a0});var me=S(x=>{"use strict";l();u();var l0=x&&x.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u0=x&&x.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&l0(e,t,r)};Object.defineProperty(x,"__esModule",{value:!0});x.safeSignVerify=x.safeSign=x.getMethodId=x.base32Encode=x.base32Decode=x.crc32c=x.crc16=x.fromNano=x.toNano=x.ComputeError=x.openContract=x.TupleBuilder=x.TupleReader=x.serializeTuple=x.parseTuple=x.generateMerkleUpdate=x.generateMerkleProofDirect=x.generateMerkleProof=x.exoticPruned=x.exoticMerkleUpdate=x.convertToMerkleProof=x.exoticMerkleProof=x.Dictionary=x.Cell=x.CellType=x.Slice=x.beginCell=x.Builder=x.BitBuilder=x.BitReader=x.BitString=x.contractAddress=x.ADNLAddress=x.ExternalAddress=x.address=x.Address=void 0;var fl=Ae();Object.defineProperty(x,"Address",{enumerable:!0,get:function(){return fl.Address}});Object.defineProperty(x,"address",{enumerable:!0,get:function(){return fl.address}});var d0=Or();Object.defineProperty(x,"ExternalAddress",{enumerable:!0,get:function(){return d0.ExternalAddress}});var f0=Ai();Object.defineProperty(x,"ADNLAddress",{enumerable:!0,get:function(){return f0.ADNLAddress}});var c0=ks();Object.defineProperty(x,"contractAddress",{enumerable:!0,get:function(){return c0.contractAddress}});var h0=ve();Object.defineProperty(x,"BitString",{enumerable:!0,get:function(){return h0.BitString}});var g0=Pe();Object.defineProperty(x,"BitReader",{enumerable:!0,get:function(){return g0.BitReader}});var p0=cr();Object.defineProperty(x,"BitBuilder",{enumerable:!0,get:function(){return p0.BitBuilder}});var cl=z();Object.defineProperty(x,"Builder",{enumerable:!0,get:function(){return cl.Builder}});Object.defineProperty(x,"beginCell",{enumerable:!0,get:function(){return cl.beginCell}});var y0=Hr();Object.defineProperty(x,"Slice",{enumerable:!0,get:function(){return y0.Slice}});var _0=dt();Object.defineProperty(x,"CellType",{enumerable:!0,get:function(){return _0.CellType}});var b0=ke();Object.defineProperty(x,"Cell",{enumerable:!0,get:function(){return b0.Cell}});var m0=Oe();Object.defineProperty(x,"Dictionary",{enumerable:!0,get:function(){return m0.Dictionary}});var hl=pr();Object.defineProperty(x,"exoticMerkleProof",{enumerable:!0,get:function(){return hl.exoticMerkleProof}});Object.defineProperty(x,"convertToMerkleProof",{enumerable:!0,get:function(){return hl.convertToMerkleProof}});var B0=$r();Object.defineProperty(x,"exoticMerkleUpdate",{enumerable:!0,get:function(){return B0.exoticMerkleUpdate}});var w0=Xr();Object.defineProperty(x,"exoticPruned",{enumerable:!0,get:function(){return w0.exoticPruned}});var gl=Nr();Object.defineProperty(x,"generateMerkleProof",{enumerable:!0,get:function(){return gl.generateMerkleProof}});Object.defineProperty(x,"generateMerkleProofDirect",{enumerable:!0,get:function(){return gl.generateMerkleProofDirect}});var S0=Hn();Object.defineProperty(x,"generateMerkleUpdate",{enumerable:!0,get:function(){return S0.generateMerkleUpdate}});var pl=Ns();Object.defineProperty(x,"parseTuple",{enumerable:!0,get:function(){return pl.parseTuple}});Object.defineProperty(x,"serializeTuple",{enumerable:!0,get:function(){return pl.serializeTuple}});var C0=Ks();Object.defineProperty(x,"TupleReader",{enumerable:!0,get:function(){return C0.TupleReader}});var A0=Ls();Object.defineProperty(x,"TupleBuilder",{enumerable:!0,get:function(){return A0.TupleBuilder}});u0(ol(),x);var v0=sl();Object.defineProperty(x,"openContract",{enumerable:!0,get:function(){return v0.openContract}});var M0=al();Object.defineProperty(x,"ComputeError",{enumerable:!0,get:function(){return M0.ComputeError}});var yl=ho();Object.defineProperty(x,"toNano",{enumerable:!0,get:function(){return yl.toNano}});Object.defineProperty(x,"fromNano",{enumerable:!0,get:function(){return yl.fromNano}});var P0=Rr();Object.defineProperty(x,"crc16",{enumerable:!0,get:function(){return P0.crc16}});var x0=no();Object.defineProperty(x,"crc32c",{enumerable:!0,get:function(){return x0.crc32c}});var _l=Ln();Object.defineProperty(x,"base32Decode",{enumerable:!0,get:function(){return _l.base32Decode}});Object.defineProperty(x,"base32Encode",{enumerable:!0,get:function(){return _l.base32Encode}});var U0=ll();Object.defineProperty(x,"getMethodId",{enumerable:!0,get:function(){return U0.getMethodId}});var bl=dl();Object.defineProperty(x,"safeSign",{enumerable:!0,get:function(){return bl.safeSign}});Object.defineProperty(x,"safeSignVerify",{enumerable:!0,get:function(){return bl.safeSignVerify}})});var ml=S(Mn=>{"use strict";l();u();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.WalletContractV3R2=void 0;var se=me(),I0=ur(),Cr=class{static create(e){return new Cr(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=698983191+e;let o=se.Cell.fromBoc(c.Buffer.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],s=(0,se.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(r).endCell();this.init={code:o,data:s},this.address=(0,se.contractAddress)(e,{code:o,data:s})}createTransfer(e){let r=se.SendMode.PAY_GAS_SEPARATELY+se.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=this.createWalletTransferV3({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId}),o=(0,se.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:n});return(0,se.beginCell)().store((0,se.storeMessage)(o)).endCell()}createWalletTransferV3(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,se.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let o=0;o<32;o++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+600,32);r.storeUint(e.seqno,32);for(let o of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,se.beginCell)().store((0,se.storeMessageRelaxed)(o)));let n=I0.signUtil.ed25519.sign(r.endCell().hash(),e.secretKey);return(0,se.beginCell)().storeBuffer(c.Buffer.from(n)).storeBuilder(r).endCell()}};Mn.WalletContractV3R2=Cr});var Bl=S(Be=>{"use strict";l();u();Object.defineProperty(Be,"__esModule",{value:!0});Be.createWalletTransferV4=Be.createWalletTransferV3=Be.createWalletTransferV2=Be.createWalletTransferV1=void 0;var Q=me(),Pn=on();function T0(t){let e=(0,Q.beginCell)().storeUint(t.seqno,32);t.message&&(e.storeUint(t.sendMode,8),e.storeRef((0,Q.beginCell)().store((0,Q.storeMessageRelaxed)(t.message))));let r=(0,Pn.sign)(e.endCell().hash(),t.secretKey);return(0,Q.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Be.createWalletTransferV1=T0;function E0(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,Q.beginCell)().storeUint(t.seqno,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+60,32);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,Q.beginCell)().store((0,Q.storeMessageRelaxed)(o)));let r=(0,Pn.sign)(e.endCell().hash(),t.secretKey);return(0,Q.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Be.createWalletTransferV2=E0;function R0(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,Q.beginCell)().storeUint(t.walletId,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+60,32);e.storeUint(t.seqno,32);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,Q.beginCell)().store((0,Q.storeMessageRelaxed)(o)));let r=(0,Pn.sign)(e.endCell().hash(),t.secretKey);return(0,Q.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Be.createWalletTransferV3=R0;function O0(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,Q.beginCell)().storeUint(t.walletId,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+600,32);e.storeUint(t.seqno,32),e.storeUint(0,8);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,Q.beginCell)().store((0,Q.storeMessageRelaxed)(o)));let r=(0,Pn.sign)(e.endCell().hash(),t.secretKey);return(0,Q.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Be.createWalletTransferV4=O0});var vr=S(xn=>{"use strict";l();u();Object.defineProperty(xn,"__esModule",{value:!0});xn.WalletContractV4=void 0;var Te=me(),k0=Bl(),Ar=class{static create(e){return new Ar(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=698983191+e;let o=Te.Cell.fromBoc(c.Buffer.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],s=(0,Te.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:o,data:s},this.address=(0,Te.contractAddress)(e,{code:o,data:s})}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return(await e.getState()).state.type==="active"?(await e.get("seqno",[])).stack.readNumber():0}async send(e,r){await e.external(r)}async sendTransfer(e,r){let n=this.createTransfer(r);await this.send(e,n)}createTransfer(e){let r=Te.SendMode.PAY_GAS_SEPARATELY+Te.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=!1;(!e.secretKey||e.secretKey.length==0)&&(e.secretKey=c.Buffer.alloc(64),n=!0);let o=(0,k0.createWalletTransferV4)({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId});if(n)return o;let s=(0,Te.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:o});return(0,Te.beginCell)().store((0,Te.storeMessage)(s)).endCell()}sender(e,r){return{send:async n=>{let o=await this.getSeqno(e),s=this.createTransfer({seqno:o,secretKey:r,sendMode:n.sendMode,messages:[(0,Te.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,s)}}}};xn.WalletContractV4=Ar});var wl=S(Un=>{"use strict";l();u();Object.defineProperty(Un,"__esModule",{value:!0});Un.VenomWalletV3=void 0;var ae=me(),q0=ur(),Mr=class{static create(e){return new Mr(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=1269378442+e;let o=ae.Cell.fromBoc(c.Buffer.from("te6ccgEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVA==","base64"))[0],s=(0,ae.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(r).endCell();this.init={code:o,data:s},this.address=(0,ae.contractAddress)(e,{code:o,data:s})}createTransfer(e){let r=ae.SendMode.PAY_GAS_SEPARATELY+ae.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=this.createWalletTransferV3Venom({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId,globalId:e.globalId}),o=(0,ae.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:n});return(0,ae.beginCell)().store((0,ae.storeMessage)(o)).endCell()}createWalletTransferV3Venom(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,ae.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let p=0;p<32;p++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+600,32);r.storeUint(e.seqno,32);for(let p of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,ae.beginCell)().store((0,ae.storeMessageRelaxed)(p)));let n=c.Buffer.allocUnsafe(4);n.writeInt32BE(e.globalId);let o=c.Buffer.concat([n,r.endCell().hash()],36),s=q0.signUtil.ed25519.sign(o,e.secretKey);return(0,ae.beginCell)().storeBuffer(c.Buffer.from(s)).storeBuilder(r).endCell()}};Un.VenomWalletV3=Mr});var Yo=S(Ye=>{"use strict";l();u();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.VenomWalletV3=Ye.WalletContractV4=Ye.WalletContractV3R2=void 0;var j0=ml();Object.defineProperty(Ye,"WalletContractV3R2",{enumerable:!0,get:function(){return j0.WalletContractV3R2}});var N0=vr();Object.defineProperty(Ye,"WalletContractV4",{enumerable:!0,get:function(){return N0.WalletContractV4}});var K0=wl();Object.defineProperty(Ye,"VenomWalletV3",{enumerable:!0,get:function(){return K0.VenomWalletV3}})});var Qo=S(G=>{"use strict";l();u();Object.defineProperty(G,"__esModule",{value:!0});G.toBase64Address=G.convertAddress=G.validateAddress=G.getVenomAddressBySeed=G.parseAddress=G.getAddressBySeed=G.getPubKeyBySeed=void 0;var Je=ur(),L0=Yo(),or=me(),D0=vr();function F0(t){let{publicKey:e}=Je.signUtil.ed25519.fromSeed(Je.base.fromHex(t));return Je.base.toHex(e)}G.getPubKeyBySeed=F0;function V0(t){let{publicKey:e}=Je.signUtil.ed25519.fromSeed(Je.base.fromHex(t));return D0.WalletContractV4.create({workchain:0,publicKey:c.Buffer.from(e)}).address.toString({bounceable:!1})}G.getAddressBySeed=V0;function Sl(t){try{if(or.Address.isRaw(t))return{address:or.Address.parseRaw(t),isRaw:!0,isValid:!0};if(or.Address.isFriendly(t))return{...or.Address.parseFriendly(t),isUserFriendly:!0,isValid:!0}}catch{}return{isValid:!1}}G.parseAddress=Sl;function H0(t){let{publicKey:e}=Je.signUtil.ed25519.fromSeed(Je.base.fromHex(t));return L0.VenomWalletV3.create({workchain:0,publicKey:c.Buffer.from(e)}).address.toRawString()}G.getVenomAddressBySeed=H0;function z0(t){try{return or.Address.parse(t)}catch{return!1}}G.validateAddress=z0;function W0(t){let e=Sl(t);if(e.isValid){let r=e.address?.toRawString(),n=e.address?.toString({bounceable:!0,urlSafe:!0}),o=e.address?.toString({bounceable:!1,urlSafe:!0});return{raw:r,addrBounceable:{bounceable:!0,urlSafe:!0,userFriendlyBounceable:n},addrUnounceable:{bounceable:!1,urlSafe:!0,userFriendlyUnbounceable:o}}}else return e}G.convertAddress=W0;function $0(t,e=!0,r){return typeof t=="string"&&(t=or.Address.parse(t)),t.toString({urlSafe:!0,bounceable:e,testOnly:r==="testnet"})}G.toBase64Address=$0});var In=S(V=>{"use strict";l();u();Object.defineProperty(V,"__esModule",{value:!0});V.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT=V.NFT_TRANSFER_TONCOIN_AMOUNT=V.TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT=V.TOKEN_TRANSFER_TONCOIN_AMOUNT=V.NOTCOIN_EXCHANGERS=V.NOTCOIN_FORWARD_TON_AMOUNT=V.BURN_CHUNK_DURATION_APPROX_SEC=V.NOTCOIN_VOUCHERS_ADDRESS=V.NFT_BATCH_SIZE=V.TRANSFER_TIMEOUT_SEC=void 0;V.TRANSFER_TIMEOUT_SEC=600;V.NFT_BATCH_SIZE=4;V.NOTCOIN_VOUCHERS_ADDRESS="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW";V.BURN_CHUNK_DURATION_APPROX_SEC=30;V.NOTCOIN_FORWARD_TON_AMOUNT=30000000n;V.NOTCOIN_EXCHANGERS=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"];V.TOKEN_TRANSFER_TONCOIN_AMOUNT=100000000n;V.TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT=1n;V.NFT_TRANSFER_TONCOIN_AMOUNT=100000000n;V.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT=1n});var xl=S(X=>{"use strict";l();u();Object.defineProperty(X,"__esModule",{value:!0});X.buildNftTransferPayload=X.buildNotcoinVoucherExchange=X.packBytesAsSnake=X.commentToBytes=X.OpCode=X.NftOpCode=void 0;var et=me(),Go=In(),Y0=Tn(),Cl;(function(t){t[t.TransferOwnership=1607220500]="TransferOwnership",t[t.OwnershipAssigned=85167505]="OwnershipAssigned"})(Cl=X.NftOpCode||(X.NftOpCode={}));var Al;(function(t){t[t.Comment=0]="Comment",t[t.Encrypted=560454219]="Encrypted"})(Al=X.OpCode||(X.OpCode={}));function vl(t){let e=c.Buffer.from(t),r=new Uint8Array(e.length+4),n=c.Buffer.alloc(4);return n.writeUInt32BE(Al.Comment),r.set(n,0),r.set(e,4),r}X.commentToBytes=vl;var Q0=127;function Ml(t,e=Q0){let r=c.Buffer.from(t);if(r.length<=e)return t;let n=new et.Builder,o,s=n;for(let[p,f]of r.entries())s.availableBits<8&&(o?.storeRef(s),o=s,s=new et.Builder),s=s.storeUint(f,8),p===r.length-1&&o?.storeRef(s);return n.asCell()}X.packBytesAsSnake=Ml;function G0(t,e,r){let n=et.Address.parse(e).hash.readUint8()>>4,o=Go.NOTCOIN_EXCHANGERS[n],s=new et.Builder().storeUint(1609328194,32).storeUint(r,64).endCell();return Pl(t,o,s,Go.NOTCOIN_FORWARD_TON_AMOUNT)}X.buildNotcoinVoucherExchange=G0;function Pl(t,e,r,n=Go.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT){let o=new et.Builder().storeUint(Cl.TransferOwnership,32).storeUint((0,Y0.generateQueryId)(),64).storeAddress(et.Address.parse(e)).storeAddress(et.Address.parse(t)).storeBit(!1).storeCoins(n),s;if(r)if(typeof r=="string"){let p=vl(r),f=Math.floor(o.availableBits/8);s=Ml(p,f)}else s=r;return s instanceof Uint8Array?(o.storeBit(0),o=o.storeBuffer(c.Buffer.from(s))):o=o.storeMaybeRef(s),o.endCell()}X.buildNftTransferPayload=Pl});var Tn=S(le=>{"use strict";l();u();Object.defineProperty(le,"__esModule",{value:!0});le.bigintRandom=le.generateQueryId=le.buildNotcoinVoucherExchange=le.buildNftTransferPayload=le.signMultiTransaction=void 0;var X0=nt(),Z0=Xo();Object.defineProperty(le,"signMultiTransaction",{enumerable:!0,get:function(){return Z0.signMultiTransaction}});var Ul=xl();Object.defineProperty(le,"buildNftTransferPayload",{enumerable:!0,get:function(){return Ul.buildNftTransferPayload}});Object.defineProperty(le,"buildNotcoinVoucherExchange",{enumerable:!0,get:function(){return Ul.buildNotcoinVoucherExchange}});function J0(){return Il(8)}le.generateQueryId=J0;function Il(t){let e=BigInt(0);for(let r of(0,X0.randomBytes)(t)){let n=BigInt(r);e=(e<<BigInt(8))+n}return e}le.bigintRandom=Il});var Xo=S(we=>{"use strict";l();u();Object.defineProperty(we,"__esModule",{value:!0});we.signMultiTransaction=we.jettonTransfer=we.venomTransfer=we.transfer=void 0;var eg=Yo(),J=ur(),Qe=me(),tt=me(),Zo=vr(),tg=Qo(),rg=Tn(),ng=In();function og(t,e){var r,n;if(e){let{secretKey:f,publicKey:_}=J.signUtil.ed25519.fromSeed(J.base.fromHex(e));r=f,n=_}else n=J.base.fromHex(t.publicKey);let o=Zo.WalletContractV4.create({workchain:0,publicKey:c.Buffer.from(n)}),s=[(0,Qe.internal)({to:t.to,value:BigInt(t.amount),bounce:!1,body:t.memo})],p=o.createTransfer({seqno:t.seqno,messages:s,secretKey:e?c.Buffer.from(r):c.Buffer.alloc(0),sendMode:t.sendMode,timeout:t.expireAt});return{boc:J.base.toBase64(p.toBoc())}}we.transfer=og;function ig(t,e){let{secretKey:r,publicKey:n}=J.signUtil.ed25519.fromSeed(J.base.fromHex(e)),o=eg.VenomWalletV3.create({workchain:0,publicKey:c.Buffer.from(n)}),s=[(0,Qe.internal)({to:t.to,value:BigInt(t.amount),bounce:t.toIsInit,body:t.memo})],p=o.createTransfer({seqno:t.seqno,messages:s,secretKey:c.Buffer.from(r),globalId:t.globalId,sendMode:t.sendMode,timeout:t.expireAt});return{id:J.base.toBase64(p.hash()),body:J.base.toBase64(p.toBoc())}}we.venomTransfer=ig;function sg(t,e){var r,n;if(e){let{secretKey:k,publicKey:j}=J.signUtil.ed25519.fromSeed(J.base.fromHex(e));r=k,n=j}else n=J.base.fromHex(t.publicKey);let o=Zo.WalletContractV4.create({workchain:0,publicKey:c.Buffer.from(n)}),s=o.address,p=tt.Address.parse(t.to),f=tt.Address.parse(t.fromJettonAccount);if(t.decimal<0)throw new Error("invalid decimal");if(BigInt(t.amount)<0)throw new Error("invalid amount");let B=t.queryId?BigInt(t.queryId):(0,rg.generateQueryId)(),U,R=(0,tt.beginCell)().storeUint(260734629,32).storeUint(B,64).storeCoins(BigInt(t.amount)).storeAddress(p).storeAddress(s).storeBit(!1).storeCoins(BigInt(t.invokeNotificationFee||"1"));if(t.memo){let k=(0,tt.beginCell)().storeUint(0,32).storeStringTail(t.memo).endCell();U=R.storeBit(!0).storeRef(k).endCell()}else U=R.storeBit(!1).endCell();let T=[(0,Qe.internal)({to:f,value:BigInt(t.messageAttachedTons||"50000000"),body:U,bounce:!1})],E=o.createTransfer({seqno:t.seqno,messages:T,secretKey:e?c.Buffer.from(r):c.Buffer.alloc(0),sendMode:t.sendMode,timeout:t.expireAt});return{boc:J.base.toBase64(E.toBoc())}}we.jettonTransfer=sg;async function ag(t,e,r,n,o,s){n||(n=Math.round(Date.now()/1e3)+ng.TRANSFER_TIMEOUT_SEC);let p=e.map(k=>{let{amount:j,toAddress:W,stateInit:he,isBase64Payload:ue}=k,{payload:H}=k;if(ue&&typeof H=="string")H=tt.Cell.fromBase64(H);else if(typeof H=="string")try{H=tt.Cell.fromBase64(H)}catch{}let Ee=he?{code:he.refs[0],data:he.refs[1]}:void 0;return(0,Qe.internal)({value:j,to:W,body:H,bounce:(0,tg.parseAddress)(W).isBounceable,init:Ee})});var f,_;if(t){let{secretKey:k,publicKey:j}=J.signUtil.ed25519.fromSeed(J.base.fromHex(t));f=k,_=j}else _=J.base.fromHex(s);let B=Zo.WalletContractV4.create({workchain:o==1?1:0,publicKey:c.Buffer.from(_)}),U=B.createTransfer({seqno:r,secretKey:t?c.Buffer.from(f):c.Buffer.alloc(0),messages:p,sendMode:Qe.SendMode.PAY_GAS_SEPARATELY+Qe.SendMode.IGNORE_ERRORS,timeout:n}),R=U.toBoc().toString("base64"),E=lg(B,r,U).toBoc().toString("base64");return{seqno:r,transaction:R,externalMessage:E}}we.signMultiTransaction=ag;function lg(t,e,r){return(0,tt.beginCell)().storeWritable((0,Qe.storeMessage)((0,Qe.external)({to:t.address,init:e===0?t.init:void 0,body:r}))).endCell()}});var cg=S(Se=>{l();u();var ug=Se&&Se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.JettonWallet=Se.VenomWallet=Se.TonWallet=void 0;var ce=ru(),rt=Qo(),ir=Xo(),Tl=tu(),ne=ur(),dg=vr(),Pr=me(),fg=ug(ci()),En=Tn(),El=In(),xr=class extends ce.BaseWallet{async getRandomPrivateKey(){try{return Promise.resolve((0,ce.ed25519_getRandomPrivateKey)(!1,"hex"))}catch{return Promise.reject(ce.GenPrivateKeyError)}}async getDerivedPath(e){return`m/44'/607'/${e.index}'`}async getDerivedPrivateKey(e){try{if(e.hdPath)return Promise.resolve((0,ce.ed25519_getDerivedPrivateKey)(e,!1,"hex"));{let r=await(0,Tl.mnemonicToSeed)(e.mnemonic.split(" ")),n=ne.base.toHex(r);return Promise.resolve(n)}}catch{return Promise.reject(ce.GenPrivateKeyError)}}async getNewAddress(e){try{let r={address:(0,rt.getAddressBySeed)(e.privateKey),publicKey:(0,rt.getPubKeyBySeed)(e.privateKey)};return Promise.resolve(r)}catch{return Promise.reject(ce.NewAddressError)}}async validAddress(e){let r=(0,rt.parseAddress)(e.address);return Promise.resolve(r)}async parseAddress(e){let r=(0,rt.parseAddress)(e.address);return Promise.resolve(r)}async convertAddress(e){let r=(0,rt.convertAddress)(e.address);return Promise.resolve(r)}async validateMnemonicOfTon(e){return(0,Tl.validateMnemonic)(e.mnemonicArray,e.password)}async signTransaction(e){let r=e.data;try{if(r.type=="transfer")return(0,ir.transfer)(e.data,e.privateKey);if(r.type=="jettonTransfer")return(0,ir.jettonTransfer)(e.data,e.privateKey)}catch{return Promise.reject(ce.SignTxError)}}async signJettonTransaction(e){try{return(0,ir.jettonTransfer)(e.data,e.privateKey)}catch{return Promise.reject(ce.SignTxError)}}async getWalletInformation(e){let{workChain:r,publicKey:n,privateKey:o,walletVersion:s}=e,p=r==1?1:0,f;if(n)f=ne.base.fromHex(n);else{let{publicKey:E}=ne.signUtil.ed25519.fromSeed(ne.base.fromHex(o));f=c.Buffer.from(E)}let _;(!s||s=="v4r2"||s=="v4R2")&&(_=dg.WalletContractV4.create({workchain:p,publicKey:f}));let B=_.init?.code?.toBoc().toString("base64"),U=_.init?.data?.toBoc().toString("base64"),R=_.address,T=(0,Pr.beginCell)().storeWritable((0,Pr.storeStateInit)(_.init)).endCell().toBoc().toString("base64");return{initCode:B,initData:U,walletStateInit:T,walletAddress:R.toString({bounceable:!1})}}async getTransactionBodyForSimulate(e){if(e.privateKey){let{publicKey:n}=ne.signUtil.ed25519.fromSeed(ne.base.fromHex(e.privateKey)),o=ne.base.toHex(n);if(e.data.publicKey&&e.data.publicKey!=o)throw new Error("public key not pair the private key");e.data.publicKey||(e.data.publicKey=o),e.privateKey=""}else if(!e.data.publicKey)throw new Error("both private key and public key are null");let r=await this.signTransaction(e);return Promise.resolve(r.boc)}async calcTxHash(e){try{let n=Pr.Cell.fromBase64(e.data).hash().toString("hex");return Promise.resolve(n)}catch{return Promise.reject(ce.CalcTxHashError)}}async signTonProof(e){let{timestamp:r,domain:n,payload:o}=e.proof,s=c.Buffer.allocUnsafe(8);s.writeBigInt64LE(BigInt(r));let p=c.Buffer.from(n),f=c.Buffer.allocUnsafe(4);f.writeInt32LE(p.byteLength);let _=Pr.Address.parse(e.walletAddress),B=c.Buffer.allocUnsafe(4);B.writeInt32BE(_.workChain);let U=c.Buffer.concat([B,_.hash]),R=c.Buffer.concat([c.Buffer.from(e.tonProofItem,"utf8"),U,f,p,s,c.Buffer.from(o)]),T=c.Buffer.concat([c.Buffer.from(e.messageSalt,"hex"),c.Buffer.from(e.messageAction,"utf8"),c.Buffer.from(await ne.base.sha256(R))]),{secretKey:E}=ne.signUtil.ed25519.fromSeed(ne.base.fromHex(e.privateKey)),k=fg.default.sign.detached(c.Buffer.from(await ne.base.sha256(T)),c.Buffer.from(E));return Promise.resolve(c.Buffer.from(k).toString("base64"))}async signMultiTransaction(e){let r=e.data;if(r.messages.length>4)throw new Error("Payload contains more than 4 messages, which exceeds limit");let n=r.valid_until;if(n&&n>10**10&&(n=Math.round(n/1e3)),n&&n<Date.now()/1e3)throw new Error("the confirmation timeout has expired");let o=[];r.messages.map(p=>{o.push({toAddress:p.address,amount:BigInt(p.amount),payload:p.payload,stateInit:p.stateInit?Pr.Cell.fromBase64(p.stateInit):void 0,isBase64Payload:p.isBase64Payload})});let s=r.network==="1"||r.network==="testnet"?1:0;return await(0,ir.signMultiTransaction)(e.privateKey,o,r.seqno,n,s,r.publicKey)}async simulateMultiTransaction(e){if(e.privateKey){let{publicKey:r}=ne.signUtil.ed25519.fromSeed(ne.base.fromHex(e.privateKey)),n=ne.base.toHex(r);if(e.data.publicKey&&e.data.publicKey!=n)throw new Error("public key not pair the private key");e.data.publicKey||(e.data.publicKey=n),e.privateKey=""}else if(!e.data.publicKey)throw new Error("both private key and public key are null");return this.signMultiTransaction(e)}async signMultiTransactionForNFT(e){let r=e.data,o=r.nftAddresses.map((s,p)=>{let f=r.nfts?.[p];return{payload:f?.collectionAddress===El.NOTCOIN_VOUCHERS_ADDRESS?(0,En.buildNotcoinVoucherExchange)(r.fromNFTAddress,s,f.index):(0,En.buildNftTransferPayload)(r.fromNFTAddress,r.toAddress,r.comment),amount:El.NFT_TRANSFER_TONCOIN_AMOUNT,toAddress:s}});return await(0,ir.signMultiTransaction)(e.privateKey,o,r.seqno,r.expireAt,r.workchain)}async buildNotcoinVoucherExchange(e){let r=(0,En.buildNotcoinVoucherExchange)(e.fromNFTAddress,e.nftAddress,e.nftIndex);return Promise.resolve(r.toBoc().toString("base64"))}async buildNftTransferPayload(e){let r=(0,En.buildNftTransferPayload)(e.fromNFTAddress,e.nftAddress,e.comment);return Promise.resolve(r.toBoc().toString("base64"))}};Se.TonWallet=xr;var Jo=class extends xr{async getNewAddress(e){try{let r={address:(0,rt.getVenomAddressBySeed)(e.privateKey),publicKey:(0,rt.getPubKeyBySeed)(e.privateKey)};return Promise.resolve(r)}catch{return Promise.reject(ce.NewAddressError)}}async signTransaction(e){try{return(0,ir.venomTransfer)(e.data,e.privateKey)}catch{return Promise.reject(ce.SignTxError)}}};Se.VenomWallet=Jo;var ei=class extends xr{};Se.JettonWallet=ei});export default cg();

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=TonWallet-PWGCZG2L.js.map
