import{a as to}from"./chunk-4MSAK6P3.js";import"./chunk-EONSVHR4.js";import{a as he}from"./chunk-IOFKE6Q6.js";import{a as oo,b as ye}from"./chunk-Z3GANTZ2.js";import"./chunk-GYYXMXJJ.js";import"./chunk-J2H2J7IS.js";import{a as ro,c as le}from"./chunk-QMWYGZOJ.js";import"./chunk-Z4A553U5.js";import{b as eo}from"./chunk-QYIKLURE.js";import"./chunk-NEFZK4RT.js";import"./chunk-UBFVE3Q4.js";import"./chunk-MF4732CU.js";import{a as Re,c as U}from"./chunk-F52H34ZH.js";import"./chunk-KSAOBFIR.js";import"./chunk-OJURW5TU.js";import"./chunk-ONV3ODOM.js";import"./chunk-3545CIHX.js";import{a as qe}from"./chunk-GJCTNUAU.js";import"./chunk-OCCQLMQL.js";import"./chunk-GPJC633M.js";import"./chunk-YC6W5MPL.js";import"./chunk-ABBYZM2I.js";import"./chunk-KNUMOXQD.js";import"./chunk-JJ3ARLVE.js";import"./chunk-ZLD5XTE5.js";import{a as Ye,c as H,d as je,h as S}from"./chunk-IRMGOW5H.js";import"./chunk-UXLFUD7T.js";import"./chunk-2HEOW3XO.js";import"./chunk-DLRFA5AU.js";import"./chunk-OC3IFNJW.js";import"./chunk-UI7PAU35.js";import"./chunk-CQ7YBDUS.js";import"./chunk-GSYNHSX4.js";import{a as Je}from"./chunk-Y6SGFHFT.js";import"./chunk-V4NJDTLC.js";import"./chunk-OFKAKQXT.js";import{h as Ke,i as pe}from"./chunk-IQUFOLSA.js";import"./chunk-KA5XDNKC.js";import"./chunk-HXUMX2S7.js";import{r as Qe}from"./chunk-7ZRI3S6Z.js";import{a as Xe}from"./chunk-PAER4Z2U.js";import{a as $e}from"./chunk-M2F2X65U.js";import"./chunk-ZYEEMVIP.js";import"./chunk-BOOOUD52.js";import"./chunk-TBLUUKKO.js";import"./chunk-S5DGV5WL.js";import{b as k}from"./chunk-AOXUSYRH.js";import{h as He,q as r}from"./chunk-WKBC6JL3.js";import"./chunk-3EO5SKIF.js";import"./chunk-LMIOM5QK.js";import"./chunk-VPDRXROE.js";import{ga as Ze,m as Oe,o as Fe,w as b}from"./chunk-JLIPSIRU.js";import"./chunk-CIDV5VJQ.js";import"./chunk-VX55KNI4.js";import{i as Ge,m as Po}from"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import"./chunk-656GFN7J.js";import"./chunk-VGT27A4M.js";import{d as z,f as Ue}from"./chunk-R4G6BEPF.js";import"./chunk-S3MY46XE.js";import"./chunk-2333N6PK.js";import"./chunk-AYCAVTPT.js";import"./chunk-OG46YTNN.js";import{c as l}from"./chunk-RXNDJ7P3.js";import"./chunk-YM7II27E.js";import"./chunk-CYOQISC6.js";import"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import{Da as ge,Ea as ko,Fa as j,Ga as be,Ha as O,Jb as ce,Kb as Be,Kc as So,La as q,Pa as $,Qb as D,Rb as ae,Tc as We,Ub as M,fa as C,ga as P,gd as Ao,ha as E,ja as Ae,ka as Pe,kc as Le,ma as Ee,na as De,pa as ve,va as se}from"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import{A as me,E as Ve,G as ze,c as V}from"./chunk-LDKM7IQF.js";import"./chunk-6O63U2D6.js";import{M as N,x as s}from"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-B2L2MSSC.js";import"./chunk-OIIWKMG6.js";import{T as Me,ca as K}from"./chunk-OSCGYMLH.js";import"./chunk-ADWO6K2C.js";import{a as g}from"./chunk-O337TVCZ.js";import"./chunk-BWEIB2OY.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as u,m as e,o}from"./chunk-GLD6H5Q5.js";e();o();e();o();var A=u(g()),Y=u(b());N();Ue();Po();e();o();e();o();var we=()=>{},Ie=()=>{};e();o();var no=u(g());Ue();var io=u(b()),_e=({origin:t})=>{let c=(0,io.useSelector)(({metamask:m})=>m.silence||{});return{removeSilencePermission:(0,no.useCallback)(async()=>{await z().removeSilencePermission(t)},[t]),silencePermissions:c[t]||[]}};e();o();e();o();var Se=u(g()),Io=u(b());e();o();var y=u(g()),Ce=u(b());N();M();e();o();var W=u(g());e();o();var J={main:"_main_1coks_1",logo:"_logo_1coks_6",content:"_content_1coks_10",network:"_network_1coks_17",icon:"_icon_1coks_22"};function de({icon:t,customIcon:c,name:i,content:m=null,disconnect:n,showDisconnect:a=!0,className:f=""}){return W.default.createElement("div",{className:`${J.main} ${f}`},c||W.default.createElement(k,{src:t,text:i,size:k.SIZE.lg,className:J.logo}),W.default.createElement("div",{className:J.content},W.default.createElement(r.Text,{strong:700,ellipsis:!0},i),m),a&&W.default.createElement(k.IconButton,{icon:"okds-unlink",className:J.icon,onClick:n}))}e();o();var X=u(g());N();e();o();var Q={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var so=({origin:t})=>{let{removeSilencePermission:c,silencePermissions:i}=_e({origin:t});if(i.findIndex(a=>a.expireTime>Date.now())===-1)return null;let n=async()=>{await c()};return X.default.createElement(l.Box,{className:Q.wrapper},X.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:Q.silence},X.default.createElement(r.Text,{className:Q.text,type:r.TYPE.secondary,size:r.SIZE.xs},s("wallet_extension_connect_text_silent_mode_enabled")),X.default.createElement(r.Text,{strong:500,className:Q.cancel,size:r.SIZE.xs,onClick:n},s("wallet_extension_connect_btn_cancel"))))};Ao();e();o();var _=u(g()),_o=u(b());N();M();ko();ce();se();e();o();var h=u(g()),ao=u(b());N();M();se();e();o();var F={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};e();o();var ue=u(g());N();ce();se();var co=({providerType:t})=>{let[c,i]=(0,ue.useState)({}),m=Re(),n=eo(t),{list:a}=oo(),f=d=>m.filter(T=>T.factionType===d).find(T=>T.localType===n?.localType)||{};return(0,ue.useEffect)(()=>{switch(t){case C:{let d=a.find(T=>n.type===be?T.uniqueId===n?.uniqueId:T.localType===n?.type)||{};i({...d,title:s("wallet_extension_sonic_header_evm_network")});break}case P:{let d=f(4);i({...d,icon:d.imageUrl,title:s("wallet_extension_sonic_desc_solana_comaptible")});break}case E:{let d=f(5);i({...d,icon:d.imageUrl,title:s("wallet_extension_sonic_desc_aptos_comaptible")});break}default:break}},[t,n,m]),c};var x=({providerType:t,isAllchain:c=!1})=>{let i=co({providerType:t}),{title:m,icon:n,chainName:a}=i,[f,d]=(0,h.useState)(!1),T=(0,ao.useSelector)(S);return h.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:F.wrapper},h.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:F.title},m),c?h.default.createElement(r.Text,{type:r.SIZE.xs},s("wallet_extension_sonic_desc_all_networks")):h.default.createElement(h.default.Fragment,null,h.default.createElement(V,{width:16,height:16,alt:"chain",src:n||D,errorImg:D,pictureClassName:F.chainIcon}),h.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:F.switchNetwork,onClick:()=>d(!0)},h.default.createElement(r.Text,{size:r.SIZE.xs},a),h.default.createElement(k,{className:`okx-wallet-plugin-select-unfold ${F.arrow}`,size:k.SIZE.xxs}))),h.default.createElement(ye,{visible:f,providerType:t,onClose:()=>d(!1),origin:T?.origin},h.default.createElement(ye.Header,{title:s("wallet_extension_title_switch_network"),subTitle:t===C?s("wallet_extension_evm_desc"):s("wallet_extension_aptos_toast_manually_switch_network",{network:a})})))},Eo=({chainName:t})=>h.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:F.tip},s("wallet_extension_sonic_toast_manually_switch_network",{network:t}));x.Tip=Eo;e();o();var R=u(g());N();M();ce();e();o();var v=u(g());N();e();o();So();function mo(){let t=Le;return{address:Je(t)||"",localType:t}}e();o();var Ne={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var po=({walletId:t,network:c})=>{let{address:i}=mo(),[m,n]=v.default.useState(!1),a=c?.coinId;return v.default.createElement(v.default.Fragment,null,v.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:Ne.wrapper,onClick:()=>{n(!0)}},v.default.createElement(r.Text,{size:r.SIZE.xs},Oe(i)),v.default.createElement(k,{className:`okx-wallet-plugin-select-unfold ${Ne.arrow}`,size:k.SIZE.xxs})),v.default.createElement(he,{visible:m,onClose:()=>n(!1),coinId:a,walletId:t},v.default.createElement(he.Header,{title:s("extension_defi_top_header_title_select_address_type"),subTitle:s("extension_defi_popup_desc_new_address_default")})))};e();o();var fe={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var Z=({chain:t})=>{let c=t?.localType||O,i=Ke(),m=U({localType:c});return R.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:fe.lineItem},R.default.createElement(r.Text,{size:r.SIZE.xs,type:r.TYPE.secondary,className:fe.networkTitle},s("wallet_extension_sonic_header_btc_address")),R.default.createElement(V,{width:16,height:16,alt:"chain",src:m?.imageUrl||D,errorImg:D,pictureClassName:fe.chainIcon}),R.default.createElement(po,{walletId:i,network:m}))};e();o();var G=u(g());N();M();e();o();var ee={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var oe=({showImage:t=!0,info:c})=>G.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:ee.lineItem},G.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:ee.title},s("wallet_extension_card_dropdown_available_network",{network:""})),t&&G.default.createElement(V,{width:16,height:16,alt:"chain",src:c.image||D,errorImg:D,pictureClassName:ee.chainIcon}),G.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:ee.switchNetwork},G.default.createElement(r.Text,{size:r.SIZE.xs},c.chainName||"")));e();o();var lo={headerTip:"_headerTip_tbl1j_1"};var uo=({isAllchain:t,isCurrentDappConnect:c})=>{let i=pe(),m=(0,_o.useSelector)(S),{provider:n}=le({dappUrl:m?.origin}),a=ae[n],f=U({localType:a}),d=()=>_.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:lo.headerTip},s("wallet_extension_sonic_desc_switch_network_btc"));if(!c)return _.default.createElement(_.default.Fragment,null,d(),i?.account[j]&&_.default.createElement(x,{providerType:C}),i?.account[q]&&_.default.createElement(x,{providerType:P}),i?.account[$]&&_.default.createElement(x,{providerType:E}),i?.account[O]&&_.default.createElement(Z,null));if(t)return _.default.createElement(_.default.Fragment,null,d(),i?.account[j]&&_.default.createElement(x,{providerType:C,isAllchain:t}),i?.account[q]&&_.default.createElement(x,{providerType:P}),i?.account[$]&&_.default.createElement(x,{providerType:E}),i?.account[O]&&_.default.createElement(Z,null));switch(n){case C:case ge["okx6963-provider"]:case ge["ethereum-provider"]:return _.default.createElement(x,{providerType:C});case P:case Pe:return _.default.createElement(_.default.Fragment,null,_.default.createElement(x.Tip,{chainName:f?.chainName}),_.default.createElement(x,{providerType:P}));case E:case Ee:return _.default.createElement(_.default.Fragment,null,_.default.createElement(x.Tip,{chainName:f?.chainName}),_.default.createElement(x,{providerType:E}));case De:case ve:return _.default.createElement(Z,{chain:f});case Ae:return _.default.createElement(oe,{info:{chainName:s("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return _.default.createElement(oe,{info:{image:f?.imageUrl,chainName:f?.chainName}})}};e();o();var w=u(g()),fo=u(b());M();ce();se();var To=({isAllchain:t,isCurrentDappConnect:c,provider:i})=>{let m=(0,fo.useSelector)(qe),n=m?.length?m[0]:{},a=ae[i],f=U({localType:a});switch(n?.localType){case j:return w.default.createElement(x,{providerType:C,isAllchain:c?t:!1});case O:return w.default.createElement(Z,{chain:f});case q:return w.default.createElement(w.default.Fragment,null,w.default.createElement(x.Tip,{chainName:n?.chainName}),w.default.createElement(x,{providerType:P}));case $:return w.default.createElement(w.default.Fragment,null,w.default.createElement(x.Tip,{chainName:n?.chainName}),w.default.createElement(x,{providerType:E}));default:return w.default.createElement(oe,{info:{image:n?.image,chainName:n?.chainName}})}};e();o();var te={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var xo=({activeTab:t,removeAccount:c,domain:i})=>{let m=(0,Ce.useSelector)(H),n=pe(),{method:a,provider:f}=le({dappUrl:t?.origin}),d=(0,y.useMemo)(()=>n?.keyringIdentityType===We.PRIVATE_KEY,[n]),T=(0,y.useMemo)(()=>Boolean((m||[]).find(xe=>xe.origin===t?.origin)),[m,t]),B=(0,Ce.useSelector)(Ye),re=(0,y.useMemo)(()=>B[t?.origin]?.isOkx,[B,t]),ne=ro({provider:f,method:a})||re;return y.default.createElement(l.Box,{className:te.main},y.default.createElement(l.FlexBox,{align:l.ALIGN.center},y.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs},s("wallet_extension_header_subtitle_current_dapp")),y.default.createElement(me,{title:s("wallet_extension_toast_tooltip_adjust_retry"),trigger:me.TRIGGER_TYPES.hover,placement:me.DIRECTION.bottom,className:te.tooltip},y.default.createElement(Me,{className:`okds-question-mark-circle-fill ${te.tipIcon}`}))),y.default.createElement(de,{className:te.connectedItem,customIcon:y.default.createElement(Ve,{alt:"connected",src:t?.icon||"/static/images/default-img.svg",errorImg:Be,className:"connect-site-page__origin-icon"}),name:i,disconnect:()=>c(t?.origin),showDisconnect:T}),d?y.default.createElement(To,{isAllchain:ne,isCurrentDappConnect:T,provider:f}):y.default.createElement(uo,{isAllchain:ne,isCurrentDappConnect:T}),y.default.createElement(so,{origin:t?.origin}))};e();o();var I=u(g()),Te=u(b());N();e();o();var ke=u(g());N();e();o();var go={main:"_main_ntvor_1"};var Do=({connectedDomains:t,onDisconnect:c,domainHostCount:i})=>{let m=a=>c(a.origin),n=a=>a.extensionId?s("wallet_dapp_conncetion_subtitle_external_extension"):i[a.host]>1?a.origin:Fe(a.origin);return ke.default.createElement("main",{className:go.main},t.map(a=>ke.default.createElement(de,{key:a.origin,icon:a.icon,name:n(a),disconnect:()=>m(a)})))},ho=Do;e();o();var yo={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var vo=({loading:t,emptyText:c,onRemoveAccount:i,onRemoveAllAccount:m,children:n})=>{let a=(0,Te.useSelector)(S),f=(0,Te.useSelector)(je),d=(0,Te.useSelector)(H),T=(0,I.useMemo)(()=>(d||[]).filter(B=>B.origin!==a?.origin),[d,a]);return I.default.createElement(I.default.Fragment,null,n,!!n&&!!T.length&&I.default.createElement(He,null),!!T.length&&I.default.createElement(l.Box,null,I.default.createElement(l.FlexBox,{align:l.ALIGN.center},I.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:yo.connectedText},s("wallet_extension_header_subtitle_connected_dapp"))),I.default.createElement(ho,{domainHostCount:f,connectedDomains:T,onDisconnect:i})),!!d.length&&I.default.createElement($e.FooterActions,null,I.default.createElement(K,{block:!0,loading:t,size:K.SIZE.lg,type:K.TYPE.highlight,category:K.CATEGORY.fill,onClick:m},s("wallet_extension_withdraw_btn_disconnected"))),!n&&!d.length&&!T.length&&c)},wo=vo;var bo=({loading:t,onRemoveAccount:c,onRemoveAllAccount:i})=>{let m=(0,Io.useSelector)(S),n=m?.origin&&m?.origin.replace(/^https?:\/\//iu,"");return Se.default.createElement(wo,{loading:t,onRemoveAccount:c,onRemoveAllAccount:i},Se.default.createElement(xo,{activeTab:m,removeAccount:c,domain:n}))},No=bo;var Co=No;e();o();var Bo=()=>{let t=(0,Y.useSelector)(H),c=(0,Y.useSelector)(Ze),i=(0,Y.useDispatch)(),[m,n]=(0,A.useState)(!1),a=(0,Y.useSelector)(S),{removeSilencePermission:f,silencePermissions:d}=_e({origin:a?.origin}),{setDisconnectUpgrade:T,isNeedShowDisconnectUpgrade:B}=to(),re=(0,A.useCallback)(()=>{B&&(ze.success({title:s("wallet_extension_card_subtitle_disconnect_update")}),T())},[B,T]),ne=async L=>{await we(L),z().clearCookie(L),await z().removePermittedAllAccount(L),re(),d.length>0&&f(L),await Ge(i)},xe=()=>{n(!0);try{Promise.all(t.map(ie=>(d.length>0&&f(ie.origin),z().clearCookie(ie.origin)))).catch(()=>{});let L=t.map(async ie=>i(Qe(ie.origin,c)));Promise.all([...L,Ie(c)]).then(()=>{n(!1),re()}).catch(()=>{n(!1)})}catch{n(!1)}};return A.default.createElement("div",{className:"connect-site-page__wrapper"},A.default.createElement(Xe,{title:s("wallet_home_dapp_connection_btn_connect"),closeable:!1}),A.default.createElement(Co,{loading:m,onRemoveAccount:ne,onRemoveAllAccount:xe}))},Lo=(0,A.memo)(Bo);export{Lo as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=DAppNetworkManage-6KYBO7A5.js.map
