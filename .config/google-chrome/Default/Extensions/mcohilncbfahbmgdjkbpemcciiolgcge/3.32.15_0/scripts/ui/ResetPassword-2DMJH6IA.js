import{a as N}from"./chunk-WW3SRM72.js";import{a as f,b as A}from"./chunk-PBNN4W46.js";import{a as P,b as C}from"./chunk-D6XWIX4H.js";import"./chunk-SMZ64QW3.js";import"./chunk-DQTTI4XL.js";import{p as T}from"./chunk-7ZRI3S6Z.js";import"./chunk-PAER4Z2U.js";import{a as x}from"./chunk-M2F2X65U.js";import{a as S}from"./chunk-S5DGV5WL.js";import"./chunk-AOXUSYRH.js";import"./chunk-WKBC6JL3.js";import"./chunk-3EO5SKIF.js";import"./chunk-LMIOM5QK.js";import{X as D}from"./chunk-VPDRXROE.js";import"./chunk-JLIPSIRU.js";import"./chunk-CIDV5VJQ.js";import"./chunk-VX55KNI4.js";import"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import"./chunk-656GFN7J.js";import"./chunk-VGT27A4M.js";import{d as F,f as Y}from"./chunk-R4G6BEPF.js";import"./chunk-RXNDJ7P3.js";import"./chunk-CYOQISC6.js";import"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import{D as t,H as b,q as e}from"./chunk-LDKM7IQF.js";import"./chunk-6O63U2D6.js";import{M,x as r}from"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-B2L2MSSC.js";import"./chunk-OIIWKMG6.js";import{ca as m}from"./chunk-OSCGYMLH.js";import"./chunk-ADWO6K2C.js";import{a as V}from"./chunk-O337TVCZ.js";import"./chunk-BWEIB2OY.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as E,m as u,o as w}from"./chunk-GLD6H5Q5.js";u();w();var s=E(V()),a=E(D());M();Y();u();w();var B={root:"_root_1r48s_1"};var ns=({history:v})=>{let n=t.useForm(),[o,z]=s.default.useState({}),[Z,h]=s.default.useState(null),[O,{setTrue:k,setFalse:I}]=(0,a.useBoolean)(!1),c=(0,s.useRef)(),y=(0,a.useMemoizedFn)(()=>{c.current=T(o.oldPassword).then(()=>(h(null),n.cleanErrors("oldPassword"),!0)).catch(()=>{let l=r("wallet_set_password_errortip_password_wrong");return h(l),n.setErrors({oldPassword:l}),!1})});(0,a.useThrottleEffect)(()=>{!o.oldPassword||y()},[o.oldPassword],{wait:500});let g=!!Z||!o.oldPassword||!o.password||!o.confirm||o.password?.length<P||o.confirm?.length<P,L=(0,a.useMemoizedFn)(async()=>{let{password:l,confirm:p}=o;if(g)return;if(l!==p){n.setErrors({confirm:r("wallet_settings_reset_passord_errortip_input_error")});return}if(k(),c.current||y(),!await c.current){I();return}await F().modifyPassword(p)&&(b.success(r("wallet_edit_wallet_toast_renamed_success")),v.push(S)),I()},[g,o]),U=N();return s.default.createElement(A,{className:B.root,title:r("wallet_settings_reset_passord_maintitle_reset_password"),desc:r("wallet_extension_subtitle_password_unlock")},({formClass:l,formErrorClass:p,itemClass:_})=>s.default.createElement(t,{form:n,size:e.SIZE.lg,validateTrigger:["onChange","onBlur"],className:l,errorClassName:p,onSubmit:L,onValuesChange:(i,d)=>{z(d)}},s.default.createElement(t.Item,{name:"oldPassword",style:{marginBottom:0},label:r("wallet_settings_reset_passord_subtitle_old_password"),className:_},s.default.createElement(e.Password,{autoFocus:!0,autoComplete:"off",size:e.SIZE.xl,inputClassName:f.passwordInput,placeholder:r("wallet_settings_reset_passord_placeholder_input_old_password")})),s.default.createElement(t.Item,{name:"password",style:{marginBottom:0,marginTop:"32px"},className:_,label:r("wallet_settings_reset_passord_subtitle_new_password")},s.default.createElement(e.Password,{autoComplete:"off",size:e.SIZE.xl,inputClassName:f.passwordInput,placeholder:r("wallet_settings_reset_passord_placeholder_input_desc")})),s.default.createElement(t.Item,{noStyle:!0,shouldUpdate:(i,d)=>i.password!==d.password},({getFieldValue:i})=>{let d=i("password");return s.default.createElement(C,{password:d})}),s.default.createElement(t.Item,{name:"confirm",className:_,label:r("wallet_settings_reset_passord_subtitle_password_confirmation"),style:{flex:1,marginTop:"32px"}},s.default.createElement(e.Password,{autoComplete:"off",size:e.SIZE.xl,inputClassName:f.passwordInput,placeholder:r("wallet_settings_reset_passord_placeholder_input_password_confirmation"),onChange:()=>{n.cleanErrors("confirm")}})),s.default.createElement(x.FooterActions,{usePortal:!0,affixStyle:U},s.default.createElement(t.Item,{noStyle:!0},s.default.createElement(m,{block:!0,htmlType:"submit",loading:O,disabled:g,category:m.CATEGORY.fill,type:m.TYPE.highlight,size:m.SIZE.lg},r("wallet_set_password_btn_confirm"))))))};export{ns as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ResetPassword-2DMJH6IA.js.map
