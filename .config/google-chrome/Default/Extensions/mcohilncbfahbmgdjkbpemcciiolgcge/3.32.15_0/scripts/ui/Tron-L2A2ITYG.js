import{a as mt}from"./chunk-YKXOTYDR.js";import{b as at}from"./chunk-4DKWH5GY.js";import"./chunk-RE7CXNX6.js";import{a as it}from"./chunk-226IQWB4.js";import"./chunk-X5KO5BYB.js";import"./chunk-Z77JUEZJ.js";import"./chunk-QHUQYXU6.js";import"./chunk-4MZS5WUT.js";import{a as nt}from"./chunk-YMNU7XNS.js";import"./chunk-V4GLNYXT.js";import"./chunk-TK3POT64.js";import"./chunk-IHRKU3VB.js";import{a as d}from"./chunk-PKCAYJL7.js";import"./chunk-D7IU2MQB.js";import{d as st}from"./chunk-HTCS5UFP.js";import"./chunk-P4KG7HC3.js";import"./chunk-2YRNNTO4.js";import{a as I}from"./chunk-FCM3KMN7.js";import{b as ot}from"./chunk-X4Z4JMVV.js";import"./chunk-RMSE4KTO.js";import"./chunk-XZFOTB6K.js";import"./chunk-ZGE3YU4L.js";import{c as B,d as w,e as rt,g as M}from"./chunk-R5U3NPEX.js";import"./chunk-JDZSGQWQ.js";import"./chunk-XY66VBX7.js";import"./chunk-GZFI5G46.js";import{q as A}from"./chunk-UAHUXCQX.js";import"./chunk-73OZ5IYN.js";import"./chunk-BWRHBLYR.js";import"./chunk-XTOYI7P4.js";import"./chunk-KSCP4BJT.js";import"./chunk-3MIEWVTZ.js";import{d as R}from"./chunk-J2H2J7IS.js";import"./chunk-SJIEUX3S.js";import"./chunk-L7LFNDLE.js";import{a as h}from"./chunk-NEFZK4RT.js";import{a as et}from"./chunk-STMKIE2Z.js";import"./chunk-GUQJR5VF.js";import"./chunk-MI6YHDAD.js";import"./chunk-ZAW6Z544.js";import"./chunk-SVAMZON6.js";import"./chunk-MF4732CU.js";import"./chunk-F52H34ZH.js";import"./chunk-3RNOIYOK.js";import"./chunk-OQFQ7WFP.js";import"./chunk-YW7TPMAR.js";import"./chunk-PGKED42N.js";import"./chunk-KSAOBFIR.js";import"./chunk-OJURW5TU.js";import"./chunk-PMGQLREC.js";import"./chunk-W6OF57RJ.js";import"./chunk-HRZ4SZVQ.js";import"./chunk-ECPXLKIL.js";import"./chunk-RK4XZYBE.js";import"./chunk-S6JYO3D5.js";import"./chunk-YYFGWXJ2.js";import"./chunk-E7HWIS7E.js";import"./chunk-ORJ3QBGC.js";import{b as Q}from"./chunk-QF25V5YC.js";import"./chunk-5KSRM7B2.js";import"./chunk-PPHSAQ52.js";import{h as L,i as tt}from"./chunk-JUOUD4EO.js";import"./chunk-4W35J5OQ.js";import"./chunk-GPJC633M.js";import"./chunk-YC6W5MPL.js";import"./chunk-ABBYZM2I.js";import"./chunk-KNUMOXQD.js";import"./chunk-JJ3ARLVE.js";import"./chunk-ZLD5XTE5.js";import"./chunk-2VRILCVI.js";import"./chunk-IRMGOW5H.js";import"./chunk-CQ64XZTP.js";import"./chunk-UXLFUD7T.js";import"./chunk-2HEOW3XO.js";import"./chunk-DLRFA5AU.js";import"./chunk-OC3IFNJW.js";import"./chunk-UI7PAU35.js";import"./chunk-SMZ64QW3.js";import"./chunk-DQTTI4XL.js";import"./chunk-FF6KJRSH.js";import"./chunk-CQ7YBDUS.js";import"./chunk-GSYNHSX4.js";import"./chunk-Y6SGFHFT.js";import"./chunk-V4NJDTLC.js";import"./chunk-OFKAKQXT.js";import"./chunk-IQUFOLSA.js";import"./chunk-KA5XDNKC.js";import{e as S}from"./chunk-HXUMX2S7.js";import"./chunk-QKXA7YNE.js";import{a as Z}from"./chunk-PAER4Z2U.js";import"./chunk-LBVWUYQX.js";import{a as J}from"./chunk-M2F2X65U.js";import"./chunk-ZYEEMVIP.js";import"./chunk-BOOOUD52.js";import"./chunk-TBLUUKKO.js";import"./chunk-S5DGV5WL.js";import"./chunk-AOXUSYRH.js";import"./chunk-WKBC6JL3.js";import"./chunk-3EO5SKIF.js";import"./chunk-LMIOM5QK.js";import"./chunk-VPDRXROE.js";import{V as $,w as Ct}from"./chunk-JLIPSIRU.js";import"./chunk-CIDV5VJQ.js";import"./chunk-VX55KNI4.js";import{i as P,m as St}from"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import"./chunk-656GFN7J.js";import{K as l,fa as X,ta as D}from"./chunk-VGT27A4M.js";import"./chunk-R4G6BEPF.js";import"./chunk-S3MY46XE.js";import"./chunk-2333N6PK.js";import"./chunk-AYCAVTPT.js";import"./chunk-OG46YTNN.js";import{c as H}from"./chunk-RXNDJ7P3.js";import"./chunk-YM7II27E.js";import{a as z,b as kt}from"./chunk-CYOQISC6.js";import{f as K,h as yt}from"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import{D as U,Jb as Tt,Mb as q,Nb as v,Pb as V,Ub as At,X as gt,lb as Y}from"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import{b as x}from"./chunk-LDKM7IQF.js";import{j as y,pa as O}from"./chunk-6O63U2D6.js";import{M as G,x as m}from"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-B2L2MSSC.js";import"./chunk-OIIWKMG6.js";import{ca as j}from"./chunk-OSCGYMLH.js";import"./chunk-ADWO6K2C.js";import{a as T}from"./chunk-O337TVCZ.js";import"./chunk-VODKDXMS.js";import"./chunk-EJP3AYQB.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-WRBXETR5.js";import"./chunk-RBB7LL2V.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as g,m as a,o as n}from"./chunk-GLD6H5Q5.js";a();n();var F=g(T());D();a();n();var E=g(T());D();Tt();a();n();var C=g(T());yt();kt();var wt=({message:o,chainId:t,method:i,originUrl:e})=>{let[c,p]=(0,C.useState)(!0),[_,f]=(0,C.useState)({});return(0,C.useEffect)(()=>{(async()=>{if(t){try{let{data:s}=await K(z.signMessageDataCheck,{data:"",source:2,chainId:t,raw:o,method:i,originUrl:e});f(s)}catch(s){console.log(s)}p(!1)}})()},[t]),{loading:c,signMessageCheckRet:_}},ct=wt;a();n();var r=g(T());G();At();gt();var Mt=o=>{let{signMessageCheckRet:t,walletAccount:i,buttonGroup:e,tipMessage:c,message:p,baseCoin:_}=o,{value:f=0}=t.addtion||{},s=U(f,$)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):f,u=I(i.walletId);return r.default.createElement(H.Container,null,r.default.createElement(Z,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),r.default.createElement(w,null,r.default.createElement(B,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:t.tokenIcon||q},title:`${s} ${t.tokenSymbol||""}`,desc:t.tokenAddress}]}),r.default.createElement(B,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.contractIcon||v},title:t.contractName||V,desc:t.contractAddress||""}]})),r.default.createElement(w,null,r.default.createElement(rt,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{u({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),r.default.createElement(w,{bordered:!1},r.default.createElement(mt,{coinId:_?.coinId}),r.default.createElement(it,{data:p,copyable:{hideDesc:!0}})),r.default.createElement(J,{placeholder:!0,offsetBottom:0,borderTop:!0},r.default.createElement(M,{...c}),r.default.createElement(A,{buttonGroup:e})))},pt=Mt;a();n();O();var lt=g(T()),ft=g(Ct());G();St();D();var It=({unapproved:o,walletAccount:t,signMessageCheckRet:i})=>{let e=(0,ft.useDispatch)(),c=I(t?.walletId),p=(0,lt.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:o.origin,network:o.localType}),await e(L(o.id)),await P(e)},[c,e,o.id,o.origin,o.localType]),_={btnText:m("wallet_dapp_connection_btn_reject"),actionType:A.ACTION_TYPE.CANCEL,onClick:p},f=S(t.initialType),s=async()=>{try{if(!await et({walletId:o.walletId,callback:async()=>{await e(L(o.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:o.origin,network:o.localType}),await e(tt(o.id)),await P(e)}catch(b){console.log(b)}},u={disabled:f,actionType:A.ACTION_TYPE.CONFIRM,onClick:s},N=ot(),W=y(i,"risk_black_list.0");return(i.risk===d.high||W)&&(u.type=j.TYPE.red,u.onClick=async()=>{try{await N({isDefraud:!0,address:W,similarType:X.EXACT}),await s()}catch{await p()}}),[_,u]},ut=It;a();n();O();G();var ht=({unapproved:o,signMessageCheckRet:t})=>{let i=h(o);if(S(i.initialType))return{type:x.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(t?.risk===d.middle)return{type:x.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:t.contractName,asset:t.tokenSymbol})};if(t?.risk===d.high){let e=y(t,"risk_black_list.0");if(e)return{type:M.TIP_TYPE.DEFRAUD,address:e}}return null},dt=ht;var Et=o=>{let{unapproved:t}=o,i=t?.params?.message||"",e=st(t),c=h(t),p=R(Y)||{},{chainId:_}=p||{},{loading:f,signMessageCheckRet:s}=ct({message:i,chainId:_,originUrl:e.host,method:l.SIGN_MESSAGE}),u=dt({unapproved:t,signMessageCheckRet:s}),N=ut({unapproved:t,walletAccount:c,signMessageCheckRet:s});return f?E.default.createElement(Q,null):[d.middle,d.high].includes(s?.risk)?E.default.createElement(pt,{signMessageCheckRet:s,walletAccount:c,baseCoin:p,message:i,tipMessage:u,buttonGroup:N}):E.default.createElement(nt,{needCheckMpc:!0,message:i,unapproved:t,tipMessage:u})},_t=Et;var qo=({unapproved:o})=>{switch(o.method){case l.SIGN_TRANSACTION:case l.RPC_SIGN_TRANSACTION:case l.SIGN_AND_SEND_TRANSACTION:return F.default.createElement(at,{unapproved:o});case l.SIGN_MESSAGE:case l.RPC_SIGN_MESSAGE:case l.SIGN_MESSAGE_V2:return F.default.createElement(_t,{unapproved:o});default:return""}};export{qo as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Tron-L2A2ITYG.js.map
