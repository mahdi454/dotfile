import{c as $,d as j,f as J}from"./chunk-4HCF54KG.js";import{b as oe}from"./chunk-GUVHO63M.js";import{c as Q,g as X,h as R,p as ee}from"./chunk-7ZRI3S6Z.js";import{a as se}from"./chunk-QKXA7YNE.js";import{a as te}from"./chunk-PAER4Z2U.js";import{a as U}from"./chunk-M2F2X65U.js";import{b as H,c as V}from"./chunk-ZYEEMVIP.js";import{h as z,i as Z}from"./chunk-BOOOUD52.js";import{a as q,fa as G,x as K,z as M}from"./chunk-S5DGV5WL.js";import{q as o}from"./chunk-WKBC6JL3.js";import{X as Le}from"./chunk-VPDRXROE.js";import{w as ge}from"./chunk-JLIPSIRU.js";import{a as O}from"./chunk-CIDV5VJQ.js";import{a as ye}from"./chunk-VX55KNI4.js";import{c as h}from"./chunk-RXNDJ7P3.js";import{Y as F,Z as Ee,r as B,v as Te}from"./chunk-YT2MPR4E.js";import{H as P,o as L,q as u}from"./chunk-LDKM7IQF.js";import{M as Y,x as t}from"./chunk-RIOWPXBZ.js";import{c as we,ca as i}from"./chunk-OSCGYMLH.js";import{a as D}from"./chunk-O337TVCZ.js";import{f as _,m as r,o as a}from"./chunk-GLD6H5Q5.js";r();a();var e=_(D()),ie=_(ge()),le=_(ye()),x=_(Le()),ne=_(we());Y();Ee();Te();r();a();var re=_(D());Y();var ae=({confirm:f,visible:p})=>re.default.createElement(L.Prompt,{visible:p,infoType:L.Prompt.INFO_TYPE.warn,title:t("wallet_extension_security_dialog_protect_seed_phrase"),confirmText:t("commonall_text_btn_ok_passive"),text:t("wallet_extension_security_dialog_no_leak"),onConfirm:f,hideCloseBtn:!0,alignBottom:!1,maskClosable:!1,confirmBtnProps:{type:i.TYPE.highlight,size:i.SIZE.lg}});r();a();r();a();var s={guard:"_guard_2qc56_1",title:"_title_2qc56_1",subTitle:"_subTitle_2qc56_6",inputPassword:"_inputPassword_2qc56_11",inputClass:"_inputClass_2qc56_15",guardInputClass:"_guardInputClass_2qc56_19",forgot:"_forgot_2qc56_22",unlockTrigger:"_unlockTrigger_2qc56_33"};var d={DELETE_WALLET:"deleteWallet",DELETE_LAST_WALLET:"deleteLastWallet",DELETE_KEYRING_WALLETS:"deleteKeyringWallets"},Pe=13,nt=f=>{let p=(0,le.useHistory)(),{current:{walletId:T,actionType:m,nextPath:E=q}}=e.default.useRef(se(p?.location.search.slice(1))),{callback:I,guard:k,onBack:_e,path:C}=f,N=(0,e.useRef)(),[g]=V(H.passwordType),l=(0,ie.useDispatch)(),[c,pe]=e.default.useState(),[A,b]=e.default.useState(),[me,y]=(0,e.useState)(!1),[ce,de]=(0,e.useState)(!1),ue=(0,x.useMemoizedFn)(({target:{value:n}})=>{pe(n),b(void 0)},[]),S=()=>{if(y(!1),I){I();return}E&&p.replace(E)},w=(0,x.useMemoizedFn)(async()=>{try{if(y(!0),await ee(N.current||c)===!0){if(k){de(!0);return}if(m===d.DELETE_LAST_WALLET){await l(Q()),await l(oe()),await l(z(1)),await l(Z(void 0)),p.push(M);return}else m===d.DELETE_WALLET?(await l(X(T)),P.success(t("wallet_editwallet_toast_delete_wallet_success"))):m===d.DELETE_KEYRING_WALLETS&&(await l(R(T)),P.success(t("wallet_editwallet_toast_delete_wallet_success")));S()}}catch{y(!1),b(t("wallet_set_password_errortip_password_wrong"))}},[E,T,c,m]),{open:fe}=j(),W=(0,e.useMemo)(()=>{switch(C){case G:return!0;default:return!1}},[C]);return e.default.createElement("div",{className:"verify_password_page__wrapper main-container",onKeyDown:n=>{n.keyCode===Pe&&w()}},e.default.createElement(te,{bordered:!1,closeable:[d.DELETE_WALLET,d.DELETE_KEYRING_WALLETS].includes(m),onBack:_e}),e.default.createElement("div",{className:"verify-password-page"},W?e.default.createElement(e.default.Fragment,null,e.default.createElement(h.FlexBox,{className:s.guard,direction:h.DIRECTION.vertical},e.default.createElement(o.Text,{strong:700,className:s.title},t("wallet_extension_security_header_backup_seed_phrase")),e.default.createElement(o.Text,{type:o.TYPE.secondary,className:s.subTitle},t("wallet_extension_security_desc_seed_phrase_leak")))):e.default.createElement("h2",{className:"verify-password-page__header"},t("wallet_set_password_maintitle_enter_password")),e.default.createElement("div",{className:`verify-password-page__input ${(0,ne.default)(s.inputClass,{[s.guardInputClass]:k})}`},g===2?e.default.createElement(J,{className:s.unlockTrigger,onPass:async n=>{N.current=n,await w()}}):e.default.createElement($,{elementName:"v"},e.default.createElement(u.Password,{autoFocus:!0,value:c,autoComplete:"off",onChange:ue,size:u.SIZE.xl,error:A,errorType:u.TIP_TYPE.always,inputClassName:"verify-password-page__input__core",label:W?t("wallet_set_password_maintitle_enter_password"):""}))),g===2&&F()!==B?e.default.createElement(o.Text,{className:s.forgot,strong:!0,align:o.ALIGN.center,size:o.SIZE.sm,type:o.TYPE.secondary,onClick:()=>{fe()}},t("wallet_extension_biometrics_dialog_title_cant_unlock")):e.default.createElement(O,{to:K,className:s.forgot},e.default.createElement(o.Text,{strong:!0,size:o.SIZE.sm,type:o.TYPE.secondary},t("wallet_footer_subtitle_forgot_password"))),e.default.createElement(U.FooterActions,{usePortal:!0},g===2?null:e.default.createElement(i,{loading:me,onClick:w,size:i.SIZE.lg,type:i.TYPE.highlight,category:i.CATEGORY.fill,disabled:!c||c?.length<6||!!A},t("wallet_set_password_btn_confirm"))),e.default.createElement(ae,{visible:ce,confirm:S})))};export{nt as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-JD37M3VX.js.map
