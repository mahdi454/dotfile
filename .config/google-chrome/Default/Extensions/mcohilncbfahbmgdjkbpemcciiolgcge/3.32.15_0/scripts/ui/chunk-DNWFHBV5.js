import{a as Mo}from"./chunk-5JK4LSTH.js";import{a as Uo}from"./chunk-OSCUV4AL.js";import{a as Yo}from"./chunk-UGA3IFLT.js";import{d as Zo}from"./chunk-SVCSAZ2J.js";import{a as _t}from"./chunk-WXXVKHTN.js";import{c as Oo,d as pt,e as Se}from"./chunk-O4KI5ERK.js";import{a as Bo}from"./chunk-445ZV7VL.js";import{c as zo}from"./chunk-A4CVLGFS.js";import{i as Ho}from"./chunk-73OZ5IYN.js";import{a as Go}from"./chunk-BWRHBLYR.js";import{d as ko,g as ct}from"./chunk-J2H2J7IS.js";import{a as dt}from"./chunk-STMKIE2Z.js";import{a as Mi}from"./chunk-O3R53BBL.js";import{a as lt}from"./chunk-ZI4ZHHA3.js";import{c as Jt}from"./chunk-4W35J5OQ.js";import{a as mt}from"./chunk-GSYNHSX4.js";import{a as Fo}from"./chunk-M2F2X65U.js";import{q as xe}from"./chunk-WKBC6JL3.js";import{X as Lo}from"./chunk-VPDRXROE.js";import{p as Qe,w as To}from"./chunk-JLIPSIRU.js";import{a as it,b as $,c as Kt,d as be,e as se,f as Pe,n as st,ta as Ee}from"./chunk-VGT27A4M.js";import{d as ot,f as Do}from"./chunk-R4G6BEPF.js";import{a as at}from"./chunk-AYCAVTPT.js";import{g as So}from"./chunk-OG46YTNN.js";import{c as Vt}from"./chunk-RXNDJ7P3.js";import{a as Ao,b as Yi}from"./chunk-CYOQISC6.js";import{c as wo,h as Ui}from"./chunk-TKYTZF2K.js";import{B as ge,Cc as ho,D as uo,E as fo,Jb as Hi,Kc as vo,Q as Xe,Uc as nt,Vb as Zi,Vc as j,X as $t,Xb as v,Yb as S,Zb as yo,gd as rt,jc as qe,ob as go,pb as xo,w as z,x as Je,y as _o,z as Ne}from"./chunk-YT2MPR4E.js";import{A as Re,G as et,H as tt,N as Le,O as Io,R as bo,S as Po,V as Eo,o as Ie,t as Co,y as jt}from"./chunk-LDKM7IQF.js";import{F as Ke,pa as po}from"./chunk-6O63U2D6.js";import{M as A,m as co,x as c}from"./chunk-RIOWPXBZ.js";import{T as W,Z as No,c as I,ca as g}from"./chunk-OSCGYMLH.js";import{a as Ce}from"./chunk-ADWO6K2C.js";import{a as x}from"./chunk-O337TVCZ.js";import{f as r,m as t,n as m,o}from"./chunk-GLD6H5Q5.js";t();o();t();o();var ne=r(x());t();o();var he=r(x()),$o=r(To());po();A();yo();rt();Ee();vo();$t();Do();t();o();var Xt=r(I()),ut=r(x());t();o();var Fe={value:"_value_1hw8x_1",feeDisplay:"_feeDisplay_1hw8x_4",feeDetailDisplay:"_feeDetailDisplay_1hw8x_10",feeDisplayHighlight:"_feeDisplayHighlight_1hw8x_17"};var Wi=({className:e,fee:i,feeDetail:n,highlight:s})=>ut.default.createElement("div",{className:(0,Xt.default)(Fe.value,e)},ut.default.createElement("div",{className:(0,Xt.default)(Fe.feeDisplay,{[Fe.feeDisplayHighlight]:s})},i),ut.default.createElement("div",{className:Fe.feeDetailDisplay},n)),ke=Wi;t();o();var q=r(x());A();t();o();var ye={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var $i=({showLoading:e,title:i,content:n,visible:s,error:l,onClose:a,onConfirm:p,confirmText:_=c("wallet_extension_btn_general_confirm"),confirmLoading:d,errContent:y,headerTitle:h})=>{let N=(0,q.useCallback)(()=>{p&&p()},[p,s]);return q.default.createElement(Ie.Confirmation,{showLoading:e,title:q.default.createElement("p",{className:ye.dialogTitle},i),topClassName:ye.dialogHeader,visible:s,closeIconClassName:ye.closeIcon,confirmLoading:d,onConfirm:N,onClose:()=>{a&&a()},confirmText:_,confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg,block:!0},renderContent:()=>q.default.createElement("div",{className:ye.transactionAccelerationContainer},q.default.createElement("div",{className:ye.transactionAccelerationHeader},q.default.createElement("p",{className:ye.transactionAccelerationTitle},h)),l?y:n),renderFooter:F=>l?null:q.default.createElement(F,null)})},ft=$i;t();o();$t();var gt=({gasLimit:e,gasPrice:i,baseCoin:n,L1FEE:s})=>{let l=Ho(),{coinAmountInt:a}=l(n?.coinId);return _=>{let d=Ne(a,_);return!uo(_o(z(i,e),s),d)}};t();o();var xt=r(x()),Wo=r(Lo());var ji=({signInfo:e={},txParams:i,coinId:n})=>{let[s,{setTrue:l,setFalse:a}]=(0,Wo.useBoolean)(!0),[p,_]=(0,xt.useState)(""),d=Zo();return(0,xt.useEffect)(()=>{try{e.needExtFee?(l(),(async()=>{let h=await d({...i,coinId:n});_(h),a()})()):(_(0),a())}catch{_(0),a()}},[e?.needExtFee]),[s,p]},yt=ji;t();o();var qt={root:"_root_1a9wr_1",value:"_value_1a9wr_4"};var Vi=({feeDisplay:e,feeDetailDisplay:i})=>he.default.createElement("div",{className:qt.root},he.default.createElement(ke,{className:qt.value,highlight:!0,fee:e,feeDetail:i}));function ht({tx:e={},visible:i=!1,onConfirm:n,onClose:s,repeatTxType:l,signInfo:a}){let p=(0,$o.useDispatch)(),[_,d]=(0,he.useState)(!1),y=mt(),{from:h,nonce:N,coinId:F,gasPrice:oe,priorityFee:b,gasLimit:k,txHash:J,txhash:de}=e,[Te,ie]=ct(F),Gt=a?.gasPrice||{},[we,Bt]=_t({address:h,tokenAddress:h,coinId:ie?.coinId,value:"0"},{wait:200,disabled:!ie||!i}),U=we?.gasLimit||k,{normal:Ot,max:zt,supportEip1559:X,proposePriorityFee:Ht,fastPriorityFee:D}=Gt,Me=(u,T=oe)=>ge(Ne(Je(u,T),"1"),"0.1"),We=(u,T,M)=>{let C=u;return ge(u,T)?(C=T,Me(T,u)&&(C=z(u,"1.1"))):fo(u,T)&&ge(u,M)?(C=M,Me(M,u)&&(C=z(u,"1.1"))):C=z(u,"1.2"),C=Xe(C,0),C},L=We(oe,Ot,zt),$e=We(b,Ht,D),ue=()=>{let u=ho(Te.localType)?.realChainIdHex,T={from:h,to:h,nonce:S(N),gasLimit:S(U),chainId:u,value:S(0)};X?(T.maxFeePerGas=S(L),T.maxPriorityFeePerGas=S($e),T.type=st.FEE_MARKET):T.gasPrice=S(L);let C={...Qe(T)};return C.walletId=y,C},Zt=u=>{let T=v(u.value),M=v(u.gasLimit),C=v(X?u.maxFeePerGas:u.gasPrice),f={...u,value:T,from:u.from,to:u.to,gas:M,gasPrice:C,priorityFee:v(X?u.maxPriorityFeePerGas:0),nonce:v(u.nonce),repeatTxType:l||be.CANCELING,oldTxHash:J||de};return{coinId:Te.coinId,coinAmount:T,fromAdr:u.from,toAdr:u.to,serviceCharge:z(M,C),extJson:JSON.stringify(f),txSource:nt.NORMAL,inputData:u.data?u.data:""}},G=ue(),Yt=()=>{if(X)return{...G,gasLimit:U,maxFeePerGas:v(G.maxFeePerGas),maxPriorityFeePerGas:v(G.maxPriorityFeePerGas),value:v(G.value)};let u={...G};return delete u.maxFeePerGas,delete u.maxPriorityFeePerGas,{...u,gasLimit:U,gasPrice:v(u.gasPrice),value:v(u.value)}},[B,je]=yt({signInfo:a,txParams:Yt(),coinId:F}),Ut=pt(L,U,ie,je),Ve=Se(L,U),Mt=gt({gasLimit:U,gasPrice:L,baseCoin:ie,L1Fee:je}),Wt=async()=>{try{d(!0);let u=Zt(G);if(!Mt(u.coinAmount)){Notification.error({title:c("extension_toast_text_insufficient_balance")}),d(!1);return}if(!await dt({callback:s})){d(!1);return}await p(lt({txParams:G,walletId:y}));let C=await ot().signAndPublishTransferTransaction({signParams:G,from:G.from,baseChain:qe,publishParams:u});n&&n(C)}catch(u){if(u.message!==at){let T=u?.data?.originalError?.msg||c("wallet_home_toast_network_error");tt.error({title:T})}}finally{d(!1)}};return he.default.createElement(ft,{title:c("wallet_extension_popup_title_cancle_transaction"),headerTitle:c("extension_defi_toast_desc_cancel_txn"),showLoading:B,visible:!Ke(a)&&i,content:he.default.createElement(Vi,{feeDisplay:Ut,feeDetailDisplay:Ve}),confirmLoading:_||Bt,onConfirm:Wt,onClose:()=>{s&&s()}})}t();o();var P=r(x()),qo=r(To());po();$t();yo();Ee();vo();rt();Do();A();t();o();var vt=r(x()),jo=r(Lo());Ui();Yi();var Ki=e=>{let[i,{setTrue:n,setFalse:s}]=(0,jo.useBoolean)(!0),[l,a]=(0,vt.useState)("");return(0,vt.useEffect)(()=>{typeof e=="string"&&!!e&&(n(),(async()=>{let{data:_}=await wo(Ao.getRawTxWithTxId,{txId:e}),{signInfo:d}=_;a(d),s()})())},[e]),[i,l]},Vo=Ki;t();o();var Ko=r(x()),Jo=r(Mi()),Tt=r(Zi()),Ji=()=>(0,Ko.useCallback)(e=>{if(typeof e!="string"||!e)return{to:"",inputData:"",chainId:"",value:"",nonce:""};let i=m.Buffer.from((0,Tt.stripHexPrefix)(e),"hex"),n=Jo.TransactionFactory.fromSerializedData(i),s=n.toJSON(),l=n.common.chainIdBN().toString("hex");return{to:s.to,inputData:s.data,chainId:(0,Tt.addHexPrefix)(l),value:s.value,nonce:s.nonce}},[]),Xo=Ji;t();o();var Ge={"retina-border-basic":"_retina-border-basic_13c01_1",retinaBorderBasic:"_retina-border-basic_13c01_1",lineWrapper:"_lineWrapper_13c01_29",line:"_line_13c01_29",tip:"_tip_13c01_38"};var Xi=({oldFee:e,oldFeeDetail:i,newFee:n,newFeeDetail:s})=>P.default.createElement(P.default.Fragment,null,P.default.createElement("div",{className:Ge.lineWrapper},P.default.createElement(Jt,{className:Ge.line,align:Vt.ALIGN.start,size:xe.SIZE.sm,label:c("wallet_extension_popup_speedup_transaction_before"),value:P.default.createElement(ke,{fee:e,feeDetail:i})}),P.default.createElement(Jt,{className:Ge.line,align:Vt.ALIGN.start,size:xe.SIZE.sm,label:c("wallet_extension_popup_speedup_transaction_after"),value:P.default.createElement(ke,{highlight:!0,fee:n,feeDetail:s})})),P.default.createElement("div",{className:Ge.tip},c("extension_defi_toast_desc_0service_fee")));function Qt({tx:e={},visible:i=!1,onConfirm:n,onClose:s,signInfo:l,repeatTxType:a,loading:p}){let _=(0,qo.useDispatch)(),[d,y]=(0,P.useState)(!1),h=mt(),{from:N,coinId:F,gasPrice:oe,priorityFee:b,gasLimit:k,txHash:J,txhash:de,txId:Te}=e,ie=Xo(),[Gt,we]=ct(F),[Bt,U]=Vo(Te),Ot=l?.gasPrice||{},{max:zt,supportEip1559:X,fastPriorityFee:Ht}=Ot,D=(0,P.useMemo)(()=>ie(U),[U]),[Me,We]=_t({address:N,inputData:D.inputData&&D.inputData!=="0x"?D.inputData:void 0,tokenAddress:D?.to,coinId:F,value:D?.value?v(D.value):"0"},{wait:200,disabled:!U||!i}),L=Me.gasLimit||k,$e=(f,E)=>{let O=f;return ge(f,E)?(O=E,ge(Ne(Je(E,f),"1"),"0.1")&&(O=z(f,"1.1"))):O=z(f,"1.2"),O=Xe(O,0),O},ue=$e(oe,zt),Zt=$e(b,Ht),G=()=>{let f={from:N,to:D.to,nonce:D.nonce,gasLimit:S(L),chainId:D.chainId,value:D.value},{inputData:E}=D;E&&E!=="0x"&&(f.data=E),X?(f.maxFeePerGas=S(ue),f.maxPriorityFeePerGas=S(Zt),f.type=st.FEE_MARKET):f.gasPrice=S(ue);let fe={...Qe(f)};return fe.walletId=h,fe},Yt=f=>{let E=v(f.value),O=v(f.gasLimit),fe=v(X?f.maxFeePerGas:f.gasPrice),zi={...f,value:E,from:f.from,to:f.to,gas:O,gasPrice:fe,priorityFee:v(X?f.maxPriorityFeePerGas:0),nonce:v(f.nonce),repeatTxType:a||be.SPEEDING,oldTxHash:J||de};return{coinId:Gt.coinId,coinAmount:E,fromAdr:f.from,toAdr:f.to,serviceCharge:z(O,fe),extJson:JSON.stringify(zi),txSource:nt.NORMAL,inputData:f.data?f.data:""}},B=G(),je=()=>{if(X)return{...B,gasLimit:L,maxFeePerGas:v(B.maxFeePerGas),maxPriorityFeePerGas:v(B.maxPriorityFeePerGas),value:v(B.value)};let f={...B};return delete f.maxFeePerGas,delete f.maxPriorityFeePerGas,{...f,gasLimit:L,gasPrice:v(f.gasPrice),value:v(f.value)}},[Ut,Ve]=yt({signInfo:l,txParams:je(),coinId:F}),Mt=Oo(oe,k,we),Wt=Se(oe,k),u=pt(ue,L,we,Ve),T=Se(ue,L),M=gt({gasLimit:L,gasPrice:ue,baseCoin:we,L1Fee:Ve}),C=async()=>{try{y(!0);let f=Yt(B);if(!M(f.coinAmount)){et.error({title:c("extension_toast_text_insufficient_balance")}),y(!1);return}if(!await dt({callback:s})){y(!1);return}await _(lt({txParams:B,walletId:h}));let fe=await ot().signAndPublishTransferTransaction({signParams:B,from:B.from,baseChain:qe,publishParams:f});n&&n(fe)}catch(f){if(f.message!==at){let E=f?.data?.originalError?.msg||c("wallet_home_toast_network_error");tt.error({title:E})}}finally{y(!1)}};return P.default.createElement(ft,{title:c("wallet_extension_popup_title_speedup_transaction"),headerTitle:c("wallet_extension_popup_speedup_transaction_desc"),showLoading:p||Bt||Ut,visible:!Ke(l)&&i,content:P.default.createElement(Xi,{oldFee:Mt,oldFeeDetail:Wt,newFee:u,newFeeDetail:T}),confirmLoading:d||We,onConfirm:C,onClose:()=>{s&&s()}})}var qi=({data:e={},type:i,onConfirm:n,onCancel:s})=>{let{from:l,coinId:a,isShowSpeedUp:p,isShowCancel:_,isShowSpeedupCancel:d}=e,y=ko(a),[h,N]=Bo({coinId:a,address:l,chainId:y?.chainId});return!p&&!_&&!d||i===0?null:ne.default.createElement(ne.default.Fragment,null,_&&ne.default.createElement(ht,{tx:e,visible:i===1,onConfirm:n,onClose:s,signInfo:N}),p&&ne.default.createElement(Qt,{tx:e,loading:h,visible:i===2,onConfirm:n,onClose:s,signInfo:N}),d&&ne.default.createElement(ht,{tx:e,visible:i===3,onConfirm:n,onClose:s,repeatTxType:3,signInfo:N}))},Qo=(0,ne.memo)(qi);t();o();var Be=r(x());var Qi=({top:e=24,buttonText:i="",onButtonClick:n,description:s})=>Be.default.createElement("div",{style:{paddingTop:e}},Be.default.createElement(jt.State,{type:jt.State.TYPE.noRecord,title:null,description:s,buttonText:i,onButtonClick:n})),Ro=(0,Be.memo)(Qi);t();o();var Nt=r(x()),ei=r(I()),V=r(Ce());Ee();var Rt=({children:e,assets:i,align:n})=>{let s=i.length>2?Pe.center:Pe.top,a=(n||s)===Pe.center?"tx-history-list-row-center":"",p=(0,ei.default)("tx-history-list-row",a);return Nt.default.createElement("div",{className:p},e)};Rt.propTypes={children:V.default.node,assets:V.default.arrayOf(V.default.shape({direction:V.default.number,coinAmount:V.default.oneOfType([V.default.number,V.default.string]),symbol:V.default.string})),align:V.default.string};Rt.defaultProps={children:null,assets:[],align:""};var ti=(0,Nt.memo)(Rt);t();o();var H=r(x()),re=r(Ce()),oi=r(I());Ee();var eo=({className:e,icons:i,title:n,details:s,label:l,data:a})=>{let p=(0,oi.default)(e,"tx-history__info"),_=(0,H.useMemo)(()=>a?.txStatus===it.PENDING&&a?.isShowPending,[a]);return H.default.createElement("div",{className:p},H.default.createElement(zo,{srcset:i}),H.default.createElement("div",{className:"tx-history__info-main"},H.default.createElement("div",{className:"tx-history__info-main-top"},H.default.createElement("div",{className:_?"tx-history__info-main-top-pending":"tx-history__info-main-top-title"},n),l),H.default.createElement("div",{className:"tx-history__info-main-details"},s.map((d,y)=>H.default.createElement("div",{className:"tx-history__info-main-details-detail",key:y},d)))))};eo.propTypes={className:re.default.string,icons:re.default.array,title:re.default.string,details:re.default.arrayOf(re.default.string),label:re.default.node,data:re.default.object};eo.defaultProps={className:"",icons:[],title:"",details:[],label:null,data:{}};var ii=H.default.memo(eo);t();o();var De=r(x()),Q=r(Ce()),Ct=r(I());rt();A();t();o();var ae=r(x()),Z=r(Ce()),si=(0,ae.memo)(({className:e,prefix:i,coinAmount:n,symbol:s})=>{let l=`${i}${n} ${s}`;return ae.default.createElement("div",{className:e},l," ")}),le=(0,ae.memo)(e=>ae.default.createElement(si,{...e,prefix:e.coinAmount===""?"":"+"}));le.propTypes={className:Z.default.string,coinAmount:Z.default.oneOfType([Z.default.number,Z.default.string]),symbol:Z.default.string};le.defaultProps={className:"",coinAmount:"",symbol:""};var me=(0,ae.memo)(e=>ae.default.createElement(si,{...e,prefix:e.coinAmount===""?"":"-"}));me.propTypes={className:Z.default.string,coinAmount:Z.default.oneOfType([Z.default.number,Z.default.string]),symbol:Z.default.string};me.defaultProps={className:"",coinAmount:"",symbol:""};t();o();var Ri=({className:e})=>De.default.createElement("div",{type:xe.TYPE.danger,size:xe.SIZE.xs,className:(0,Ct.default)("tx-history__valueless-nft",e),align:xe.ALIGN.right},c("wallet_extension_history_text_risky_transfer")),to=({className:e,assets:i,isValuelessNftTxType:n=!1})=>{let s=(0,Ct.default)(e,"tx-history__assets"),l="tx-history__assets-asset-sm",a="tx-history__assets-asset-md",p="tx-history__assets-asset-green800",_="tx-history__assets-asset-gray900",d="tx-history__assets-asset-gray400",y=i.length===1?i.map(b=>{let k=b.direction===j.IN?p:_,J=b.direction===j.IN?le:me;return{...b,className:`${a} ${k}`,Comp:J}}):i.map(b=>{let k=b.direction===j.IN?a:l,J=b.direction===j.IN?p:d,de=b.direction===j.IN?le:me;return{...b,className:`${k} ${J}`,Comp:de}}),[h,...N]=y.filter(b=>b.coinAmount!==null),oe=[h,n?{Comp:Ri}:void 0,...N].filter(Boolean);return De.default.createElement("div",{className:s},oe.map((b,k)=>{let{Comp:J,className:de,...Te}=b,ie=(0,Ct.default)("tx-history__assets-asset",de);return De.default.createElement(J,{key:k,className:ie,...Te})}))};to.propTypes={className:Q.default.string,assets:Q.default.arrayOf(Q.default.shape({direction:Q.default.number,coinAmount:Q.default.oneOfType([Q.default.number,Q.default.string]),symbol:Q.default.string}))};to.defaultProps={className:"",assets:[]};var ni=(0,De.memo)(to);t();o();var It=r(x()),es=({children:e})=>It.default.createElement("div",{className:"tx-history__date"},e),ri=(0,It.memo)(es);t();o();var ce=r(x());Ee();var ai=r(I());var ts=({type:e,text:i,isPurePending:n})=>e===se.FAILED?ce.default.createElement(bo,{iconName:"okx-wallet-plugin-failed",size:Le.SIZE.sm,className:"status-tag"},i):e===se.PENDING&&n?ce.default.createElement(W,{className:"okx-wallet-plugin-pending tx-history-label-image-purepending"}):e===se.PENDING?ce.default.createElement(Eo,{iconName:"okx-wallet-plugin-pending",iconClassName:"tx-history-label-image",className:"status-tag",size:Le.SIZE.sm},i):e===se.WAITING?ce.default.createElement(Po,{iconName:"okx-wallet-plugin-clock",size:Le.SIZE.sm,className:"status-tag"},i):e===se.CANCELED?ce.default.createElement(Io,{iconName:"okx-wallet-plugin-failed",size:Le.SIZE.sm,className:"status-tag"},i):"",li=({className:e,type:i=se.PENDING,text:n,data:s})=>{let l="tx-history-label",a=s?.txStatus===it.PENDING&&s?.isShowPending&&(s?.repeatTxType===be.CONFIRMING||s.txType===$.GAS_STATION||s.txType===$.DEX_CROSS_CHAIN_SWAP),p=(0,ai.default)(l,a?`${l}-purePending`:`${l}-${i}`,e);return ce.default.createElement("div",{className:p},ce.default.createElement(ts,{type:i,text:n,isPurePending:a}))};li.TYPE=se;var mi=li;t();o();var ve=r(x()),bt=r(I());A();var os=(e=[])=>e.length===1||e.length===2?"tx-history-nfts__image-container-size136":"tx-history-nfts__image-container-size86",is=({className:e,data:i})=>{let{nftImageUrls:n}=i,s=(n||[]).slice(0,6),l=So({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});if(s.length===0)return null;let a=(0,bt.default)("tx-history-nfts__container",e),p=os(s),_=(0,bt.default)("tx-history-nfts__image-container",p),d=y=>(0,bt.default)("tx-history-nfts__image",{"tx-history-nfts__image-border":y===5});return ve.default.createElement("div",{className:a},s.map((y,h)=>ve.default.createElement("div",{key:h,className:_},ve.default.createElement(Yo,{startStatus:!0,src:y,backupImage:l,classnames:d(h)}),h===5?ve.default.createElement("div",{className:"tx-history-nfts__image-shade"},c("wallet_extension_history_list_text_more")):null)))},ci=(0,ve.memo)(is);t();o();var K=r(x());A();var oo=({onClick:e,children:i})=>K.default.createElement(g,{className:"tx-history-actions-button",category:g.CATEGORY.outline,type:g.TYPE.primary,size:g.SIZE.xs,onClick:e},i),ss=({data:e={},onRepeat:i})=>{let{coinId:n}=e,{baseCoin:s}=Go(n,!0),{pendingToastInfo:l,isShowSpeedUp:a,isShowCancel:p,isShowSpeedupCancel:_}=e;if(s.coinId===1||!l&&!a&&!p&&!_)return null;let d=()=>!a&&!p&&!_?null:K.default.createElement("div",{className:"tx-history-actions-buttons-container"},p&&K.default.createElement(oo,{onClick:y=>{y.stopPropagation(),i(1)}},c("wallet_extension_history_list_status_btn_cancel_transaction")),a&&K.default.createElement(oo,{onClick:y=>{y.stopPropagation(),i(2)}},c("wallet_extension_history_list_status_btn_speed_up")),_&&K.default.createElement(oo,{onClick:y=>{y.stopPropagation(),i(3)}},c("wallet_extension_history_list_status_btn_speed_up_cancellation")));return K.default.createElement("div",{className:"tx-history-actions"},l?K.default.createElement("div",{className:"tx-history-actions-pending"},c("wallet_extension_card_toast_pending_transaction_speedup",{pendingTips:1})):null,d())},pi=(0,K.memo)(ss);t();o();var Pt=r(x()),_i=r(I()),ns=({children:e,className:i,onClick:n})=>{let s=(0,_i.default)("tx-history-item-container",i);return Pt.default.createElement("div",{className:s,onClick:n},e)},di=(0,Pt.memo)(ns);t();o();var Et=r(x()),rs=({children:e})=>Et.default.createElement("div",{className:"tx-history-list"},e),ui=(0,Et.memo)(rs);t();o();var Dt=r(x()),fi=r(I()),as=({className:e,style:i,children:n,onContainer:s})=>{let l=(0,fi.default)("tx-history-list-container",e);return Dt.default.createElement("div",{className:l,style:i,ref:s},n)},gi=(0,Dt.memo)(as);t();o();var Y=r(x());A();t();o();var ls=(0,Y.memo)(e=>{let{showPopup:i}=e;return Y.default.createElement("div",{className:"date-range-selection__time"},c("wallet_extension_history_dropdown_time"),Y.default.createElement(Uo,{flip:i}))});function ms({className:e,dates:i,onChange:n,customMinDate:s,mainCoinId:l,setDate:a}){let p=co.subtract(3,"M"),[_,d]=(0,Y.useState)(p),[y,h]=(0,Y.useState)(new Date);return(0,Y.useEffect)(()=>{s&&d(s)},[s,l]),Y.default.createElement(Co.RangePicker,{className:e,inputClassNames:["date-range-selection__input","date-range-selection__input"],customReference:ls,value:i,min:_,max:y,dialogProps:{maskClosable:!0,subTitle:c("wallet_extension_history_desc_select_range")},onOpenChange:N=>{N&&(d(s||p),h(new Date))},onChange:(N,F)=>{n(N,F)},onReset:()=>{a([s||p,new Date])}})}var xi=ms;t();o();var io=r(x()),so=r(I());function cs({className:e,tabs:i,value:n,onSelect:s}){return io.default.createElement("div",{className:(0,so.default)("tx-history__tabs",e)},i.map(({text:l,value:a})=>io.default.createElement("div",{className:(0,so.default)("tx-history__tabs-option",{"tx-history__tabs-option--selected":n===a}),key:a,onClick:()=>{s(a)}},l)))}var yi=cs;t();o();var w=r(x());A();function ps({initLoading:e,visible:i,onConfirm:n,loading:s,onClose:l,oldGasFeeDisplay:a,oldGasDetailDisplay:p,newGasFeeDisplay:_,newGasDetailDisplay:d}){return w.default.createElement(Ie.Prompt,{showLoading:e,visible:i,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:n,confirmLoading:s,onClose:()=>{l&&l()},confirmText:c("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg},renderContent:y=>w.default.createElement(y,null,w.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},c("wallet_extension_popup_title_speedup_transaction")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},c("wallet_extension_popup_speedup_transaction_desc")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},c("wallet_extension_popup_speedup_transaction_before")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail"},a),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},p)),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},c("wallet_extension_popup_speedup_transaction_after")),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail--speed"},_),w.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},d)))})}var hi=ps;t();o();var R=r(x());A();function _s({visible:e,onConfirm:i,loading:n,onClose:s,chainSymbol:l,newGasFeeDisplay:a,newGasDetailDisplay:p}){return R.default.createElement(Ie.Prompt,{visible:e,className:"ethereum-tx-cancel-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:i,confirmLoading:n,onClose:()=>{s&&s()},confirmText:c("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg},renderContent:_=>R.default.createElement(_,null,R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__title"},c("wallet_extension_popup_title_cancle_transaction")),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__subtitle"},c("wallet_extension_popup_cancle_transaction_desc",{symbol:l})),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__description"},c("wallet_extension_popup_cancle_transaction_desc2")),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee"},R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__fee-detail"},a),R.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__gas-detail"},p)))})}var vi=_s;t();o();var Ti=r(x()),Ni=r(I());t();o();function ds({className:e,children:i}){return Ti.default.createElement("div",{className:(0,Ni.default)("tx-page-container",e)},i)}var Ci=ds;t();o();var Ii=r(x()),bi=r(I());function us({className:e,children:i}){return Ii.default.createElement("div",{className:(0,bi.default)("tx-filter-container",e)},i)}var Pi=us;t();o();var At=r(x());t();o();A();var fs=()=>At.default.createElement("div",{className:"tx-pending__text"},c("wallet_extension_history_tab_pending")),Ei=(0,At.memo)(fs);t();o();var Oe=r(x()),no=r(I()),te=r(Ce());rt();t();o();var ee={assetContainer:"_assetContainer_1uvgf_1",baseAsset:"_baseAsset_1uvgf_5",mt2:"_mt2_1uvgf_11",titleSize:"_titleSize_1uvgf_14",titleColorIn:"_titleColorIn_1uvgf_19",titleColorOut:"_titleColorOut_1uvgf_22",subtitleSize:"_subtitleSize_1uvgf_25",subtitleColor:"_subtitleColor_1uvgf_29"};var ro=({className:e,assets:i})=>{let n=i.map((s,l)=>{if(l===0){let d=ee.titleSize,y=s.direction===j.IN?ee.titleColorIn:ee.titleColorOut,h=s.direction===j.IN?le:me;return{...s,className:`${d} ${y}`,Comp:h}}let a=ee.subtitleSize,p=ee.subtitleColor,_=s.direction===j.IN?le:me;return{...s,className:`${ee.mt2} ${a} ${p}`,Comp:_}});return Oe.default.createElement("div",{className:(0,no.default)(e,ee.assetContainer)},n.map((s,l)=>{let{Comp:a,className:p,..._}=s,d=(0,no.default)(ee.baseAsset,p);return s.coinAmount===null?null:Oe.default.createElement(a,{key:l,className:d,..._})}))};ro.propTypes={className:te.default.string,assets:te.default.arrayOf(te.default.shape({direction:te.default.number,coinAmount:te.default.oneOfType([te.default.number,te.default.string]),symbol:te.default.string}))};ro.defaultProps={className:"",assets:[]};var Di=(0,Oe.memo)(ro);t();o();var ze=r(x()),wi=r(I());t();o();var Ai={"tx-history-loading":"_tx-history-loading_ca289_1",txHistoryLoading:"_tx-history-loading_ca289_1"};var gs=({top:e=24,className:i})=>ze.default.createElement("div",{className:(0,wi.default)(Ai.txHistoryLoading,i),style:{paddingTop:e}},ze.default.createElement(No,null)),Li=(0,ze.memo)(gs);var Im={Dialogs:Qo,Empty:Ro,Row:ti,Info:ii,Assets:ni,Date:ri,Label:mi,NFTs:ci,Actions:pi,ItemContainer:di,List:ui,ListContainer:gi,DateRangeSelection:xi,FilterTabs:yi,EthereumTxSpeedDialogBase:hi,EthereumTxCancelDialogBase:vi,PageContainer:Ci,FilterContainer:Pi,PendingTag:Ei,CoinAssets:Di,Loading:Li};t();o();var Fi=r(x());t();o();var Si={root:"_root_1fewt_1"};function xs({message:e}){return e?Fi.default.createElement("div",{className:Si.root},e):null}var ys=xs;t();o();t();o();var wt=r(x()),zm=r(I());function hs({label:e,value:i,style:n}){return wt.default.createElement("div",{className:"tx-detail-info__one",style:n},wt.default.createElement("div",{className:"tx-detail-info__label"},e),wt.default.createElement("div",{className:"tx-detail-info__value"},i))}var He=hs;t();o();var pe=r(x()),ki=r(I()),Ze=r(Ce());A();function ao({className:e,label:i,value:n,message:s,tag:l,addressStyle:a}){let[p,_]=Mo(),d=()=>{p||(_(n),et.success({title:s||c("wallet_receive_toast_address_copied"),desc:pe.default.createElement("div",{className:"tx-clipboard__message"},n)}))};return pe.default.createElement("div",{className:(0,ki.default)("tx-clipboard",e)},pe.default.createElement("div",{className:"tx-clipboard__inner"},pe.default.createElement("div",{className:"tx-clipboard__inner-wrap",style:a},i,l&&pe.default.createElement("div",{className:"tx-clipboard__tag"},l)),pe.default.createElement("div",{className:"tx-clipboard__icon",onClick:d},pe.default.createElement(W,{className:"okx-wallet-plugin-copy-1"}))))}var vs=ao;ao.propTypes={label:Ze.default.any,value:Ze.default.string,message:Ze.default.string,className:Ze.default.string};ao.defaultProps={label:"",value:"",className:"",message:""};t();o();var Gi=r(I()),Ye=r(x());t();o();var Lt={"tx-detail-info__status":"_tx-detail-info__status_y51gk_1",txDetailInfoStatus:"_tx-detail-info__status_y51gk_1","tx-detail-info__status__icon":"_tx-detail-info__status__icon_y51gk_8",txDetailInfoStatusIcon:"_tx-detail-info__status__icon_y51gk_8","tx-detail-info__status__icon--loading":"_tx-detail-info__status__icon--loading_y51gk_11",txDetailInfoStatusIconLoading:"_tx-detail-info__status__icon--loading_y51gk_11",spin:"_spin_y51gk_1"};var St={SUCCESS:1,PENDING:2,WAITING:3,FAILED:4};function Bi({label:e,status:i,statusText:n}){let s,l,a=!1;return i===St.SUCCESS?(s="okx-wallet-plugin-completed",l="var(--okd-color-semantic-positive)"):i===St.PENDING?(s="okx-wallet-plugin-pending",l="var(--okd-color-semantic-notice)",a=!0):i===St.WAITING?(s="okx-wallet-plugin-clock",l="var(--okd-color-content-disabled)"):(s="okx-wallet-plugin-failed",l="var(--okd-color-semantic-negative)"),Ye.default.createElement(He,{label:e,value:Ye.default.createElement("div",{className:Lt["tx-detail-info__status"],style:{color:l}},Ye.default.createElement(W,{className:(0,Gi.default)(s,Lt["tx-detail-info__status__icon"],{[Lt["tx-detail-info__status__icon--loading"]]:a})}),Ye.default.createElement("span",null,n))})}Bi.TxStatusInfoEnum=St;var Ts=Bi;t();o();var Ue=r(x());function Ns({label:e,value:i,tip:n}){return Ue.default.createElement(Ue.default.Fragment,null,Ue.default.createElement(He,{label:e,value:i}),n&&Ue.default.createElement("div",{className:"tx-detail-info__gas-fee"},n))}var Cs=Ns;t();o();var Ft=r(x()),Oi=r(I());function Is({url:e,text:i}){return e?Ft.default.createElement("div",{className:"tx-detail-action__link",onClick:()=>{globalThis.platform.openTab({url:e})}},Ft.default.createElement("span",{className:"tx-detail-action__link-text"},i,Ft.default.createElement(W,{className:(0,Oi.default)("okx-wallet-plugin-open-link","tx-detail-action__link-icon")}))):null}var bs=Is;t();o();var _e=r(x());A();t();o();var lo={"cancel-btn":"_cancel-btn_wmkbd_1",cancelBtn:"_cancel-btn_wmkbd_1","speed-up-btn":"_speed-up-btn_wmkbd_7",speedUpBtn:"_speed-up-btn_wmkbd_7"};function Ps({isShowCancel:e,isShowSpeedUp:i,isShowSpeedupCancel:n,showCloseTransaction:s,showTxRepeatBroadcast:l,canAccelerateBtcTx:a,onCancel:p,onSpeedUp:_,onClose:d,onRepeat:y,onBtcSpeedUp:h,isLoading:N}){return!e&&!i&&!n&&!s&&!l&&!a?null:_e.default.createElement(Fo.FooterActions,null,e&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.gray,size:g.SIZE.md,className:lo.cancelBtn,onClick:p},c("wallet_extension_history_list_status_btn_cancel_transaction")),i&&_e.default.createElement(g,{className:lo.speedUpBtn,category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:_},c("wallet_extension_history_list_status_btn_speed_up")),n&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:p},c("wallet_extension_history_list_status_btn_speed_up_cancellation")),s&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.gray,size:g.SIZE.md,block:!0,onClick:d},c("extension_defi_bot_btn_release_utxo")),l&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:y},c("extension_defi_bot_btn_rebroadcast")),a&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,loading:N,onClick:h},c("wallet_extension_history_list_status_btn_speed_up")))}var Es=Ps;t();o();var Ae=r(x());t();o();var kt={"retina-border-basic":"_retina-border-basic_1osjy_1",retinaBorderBasic:"_retina-border-basic_1osjy_1","tx-detail-info":"_tx-detail-info_1osjy_29",txDetailInfo:"_tx-detail-info_1osjy_29","tx-detail-item":"_tx-detail-item_1osjy_36",txDetailItem:"_tx-detail-item_1osjy_36","tx-detail-item__label":"_tx-detail-item__label_1osjy_82",txDetailItemLabel:"_tx-detail-item__label_1osjy_82","tx-detail-item__value":"_tx-detail-item__value_1osjy_87",txDetailItemValue:"_tx-detail-item__value_1osjy_87"};function Ds({label:e,value:i,style:n,tips:s}){return Ae.default.createElement("div",{className:kt["tx-detail-item"],style:n},Ae.default.createElement("div",{className:kt["tx-detail-item__label"]},e,s&&Ae.default.createElement(Re,{title:s,placement:Re.DIRECTION.top,trigger:Re.TRIGGER_TYPES.hover},Ae.default.createElement(W,{className:"okds-information-circle",style:{fontSize:"14px",color:"var(--okd-color-content-contrast)"}}))),Ae.default.createElement("div",{className:kt["tx-detail-item__value"]},i))}var As=Ds;t();o();var mo=r(x());A();Ee();Hi();function Rc(e,i){return(0,mo.useMemo)(()=>e.filter(Boolean).length===0&&i.length===1?Pe.center:"",[e,i])}var ep=(e,i,n={})=>(0,mo.useMemo)(()=>{if(!e)return"";let s=Kt[e]||Kt[$.CONTRACTCALL],{symbol:l,collection:a}=i;if(e===$.AUTHORIZATION||e===$.CANCEL_AUTHORIZATION)return c(s,{symbol:l});if(e===$.ZK_REGISTER){let{mainCoinId:p}=n,d={[go]:"wallet_extension_history_text_register_tab",[xo]:"wallet_history_text_register_zksync_lite"}[p];return d?c(d):""}else{if(e===$.NFT_AUTHORIZATION&&a)return c("wallet_extension_toast_approve_collection",{collection:a});if(e===$.NFT_CANCEL_AUTHORIZATION&&a)return c("wallet_extension_history_list_revoke_asset",{approvedasset:a})}return c(s)},[c,e,i,n]);export{ft as a,ht as b,Qt as c,Im as d,He as e,vs as f,Ts as g,Cs as h,bs as i,Es as j,ys as k,As as l,Rc as m,ep as n};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-DNWFHBV5.js.map
