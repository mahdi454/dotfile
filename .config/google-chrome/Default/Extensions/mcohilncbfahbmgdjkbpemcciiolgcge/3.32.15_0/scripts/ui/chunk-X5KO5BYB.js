import{a as _}from"./chunk-FCM3KMN7.js";import{g as S,h as W}from"./chunk-RMSE4KTO.js";import{q as C}from"./chunk-UAHUXCQX.js";import{f as U}from"./chunk-J2H2J7IS.js";import{a as v}from"./chunk-NEFZK4RT.js";import{a as j}from"./chunk-STMKIE2Z.js";import{h as Y,i as q}from"./chunk-JUOUD4EO.js";import{X as at}from"./chunk-VPDRXROE.js";import{w as O}from"./chunk-JLIPSIRU.js";import{i as y,m as R}from"./chunk-4TYAYDA2.js";import{K as G,pa as et}from"./chunk-6O63U2D6.js";import{M as nt,x as M}from"./chunk-RIOWPXBZ.js";import{a as rt}from"./chunk-O337TVCZ.js";import{f as u,m as f,o as d}from"./chunk-GLD6H5Q5.js";f();d();var z=u(O()),H=u(at());R();function it({id:r,walletId:e,origin:a,localType:B,extraParams:T}){let c=(0,z.useDispatch)(),i=_(e);return(0,H.useMemoizedFn)(async()=>{i({trade:"contract_interaction",all_confirmation:"cancel",network:B,dapp_url:a}),await c(Y(r,T)),await y(c)})}var J=it;f();d();var o=u(rt()),K=u(O());et();nt();R();var st=({coinId:r,unapproved:e,networkFee:a,feeLoading:B,estimateFailed:T=!1,preExecuteRet:c={},isSufficientGas:i,isSufficientBalance:Q=!0,extParams:E,needCheckMpc:b=!1,chainConfirmDisabled:V=!1,onCancel:s,onConfirm:p,disabledConfirmBtn:X})=>{let{id:n,origin:k,localType:w}=e,P=(0,K.useDispatch)(),{address:h,walletId:t}=v(e),{loading:Z=!1,verifyGasLimitRet:A={}}=c,I=J({id:n,walletId:t,origin:k,localType:w}),N=!i||!Q||S(A),x=_(t),l=(0,o.useCallback)(async()=>{s&&typeof s=="function"?await s():await I()},[s,I]),$={onClick:l,actionType:C.ACTION_TYPE.CANCEL,btnText:M("wallet_dapp_connection_btn_reject")},tt=U(r,t)?.coinAmountInt,m=X||G(tt)||B||T||Z||W(A)||V,F=(0,o.useCallback)(async()=>{try{if(b&&!await j({walletId:t,callback:l}))return;p&&typeof p=="function"?p({networkFee:a}):(x({page_type:"contract_interaction",all_confirmation:"confirm",network:w,dapp_url:k}),await P(q(n,E)),await y(P))}catch(g){console.log("error",g)}},[k,b,p,t,l,a,x,w,P,n,E]),D=(0,o.useMemo)(()=>({disabled:m,onClick:F,actionType:C.ACTION_TYPE.CONFIRM}),[m,F]),L=(0,o.useMemo)(()=>({actionType:C.ACTION_TYPE.FILL_UP,txId:n,coinId:r,walletId:t,address:h}),[h,r,n,i,t]),ot=(0,o.useMemo)(()=>m?D:N?L:D,[D,m,L,N]);return{buttonGroup:[$,ot],handleCancel:l}},ht=st;export{J as a,ht as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-X5KO5BYB.js.map
