import{e as b}from"./chunk-73OZ5IYN.js";import{h as R}from"./chunk-GSYNHSX4.js";import{a as q}from"./chunk-Y6SGFHFT.js";import{m as F}from"./chunk-WKBC6JL3.js";import{X as J}from"./chunk-VPDRXROE.js";import{ga as I,r as y,w as V}from"./chunk-JLIPSIRU.js";import{r as N,s as j}from"./chunk-VGT27A4M.js";import{d as A,f as W}from"./chunk-R4G6BEPF.js";import{a as O,b as z}from"./chunk-CYOQISC6.js";import{f as x,h as G}from"./chunk-TKYTZF2K.js";import{Ha as h,Jb as v}from"./chunk-YT2MPR4E.js";import{M as P,l as g}from"./chunk-RIOWPXBZ.js";import{a as H}from"./chunk-O337TVCZ.js";import{f as T,m as k,o as M}from"./chunk-GLD6H5Q5.js";k();M();var i=T(H()),C=T(V()),w=T(J());P();W();j();v();z();G();function K(t={},e,m=!1){let s=(0,C.useSelector)(I),u=R(h)[e],a=q(h),c=e?u:a;return async()=>{let o=await A().getRequestHeaders({walletId:s,needSign:!0,currency:"usd"}),n={coinId:t?.coinId,utxoRequests:[{address:c,utxoType:12}]};try{let{data:r=[]}=await x(O.getBTCUTXO,n,{headers:o});return m?r?.map(p=>({...p,utxoList:p?.utxoList?.filter(d=>d.utxoStatusType===2)})):r}catch{return[]}}}function at(t={},e,m=!1){let s=K(t,e,m),{coinAmountInt:l=0}=b(t?.coinId,e),[u,{setTrue:a,setFalse:c}]=(0,w.useBoolean)(!1),[o,{setTrue:n}]=(0,w.useBoolean)(!1),[r,p]=(0,i.useState)(""),{coinId:d,decimals:U}=t||{};return(0,i.useEffect)(()=>{y(t)?s().then((X=[])=>{X.some((f={})=>f.utxoList?.length>0)?a():c();let B=X?.reduce((f,D)=>{let E=D?.utxoList?.reduce((S,L)=>L?.utxoStatusType===2?g.add(S,L?.coinAmount):S,0);return g.add(f,E)},0);if(B){let f=F(B,{decimals:U});p(f)}n()}).catch(()=>{n(),c()}):(n(),c())},[d,U,l,n,a]),{showManageUTXO:u,NFTAmountDisplay:r,isCheckFinished:o}}function mt(t,e){let[m,s]=(0,i.useState)(0),[l,u]=(0,i.useState)([]),a=(0,C.useSelector)(I),c=async()=>{let o=await A().getRequestHeaders({walletId:a,needSign:!0,currency:"usd"}),n={coinId:e.coinId,utxoRequests:[{address:t,utxoType:N.Occupy}]};try{let{data:r}=await x(O.getBTCUTXO,n,{headers:o});return r[0]||null}catch{return null}};return(0,i.useEffect)(()=>{y(e)?c().then(o=>{s(o?.lockAmount||0),u(o?.utxoList||[])}).catch(()=>{s(0),u([])}):(s(0),u([]))},[t,e]),{lockedAmount:m,UTXOList:l}}export{at as a,mt as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-C5ZY4QOR.js.map
