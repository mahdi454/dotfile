import{a as K}from"./chunk-U2UKW4WG.js";import{d as B}from"./chunk-YQGNRWCJ.js";import{f as Y}from"./chunk-GZFI5G46.js";import{d as v}from"./chunk-J2H2J7IS.js";import{a as j}from"./chunk-FBTKKNCQ.js";import{b as E,c as H,d as C}from"./chunk-PGKED42N.js";import{b as k}from"./chunk-KWBWAA7R.js";import{b as R,c as A}from"./chunk-TRBDC433.js";import{h as W}from"./chunk-YC6W5MPL.js";import{i as I}from"./chunk-IQUFOLSA.js";import{X as re}from"./chunk-VPDRXROE.js";import{n as h,ta as $}from"./chunk-VGT27A4M.js";import{d as a,f as Z}from"./chunk-R4G6BEPF.js";import{$ as b,$b as _,Cc as D,Kc as X,Yb as O,Zb as q,dc as Q,ea as z,gd as ee,t as d,v as J}from"./chunk-YT2MPR4E.js";import{Y as w,pa as U}from"./chunk-6O63U2D6.js";import{f as V,m as g,o as P}from"./chunk-GLD6H5Q5.js";g();P();X();q();z();Q();$();ee();var i=e=>_(e)?e:b(O(e)),se=({value:e,toAddr:r,contractAddress:t})=>!t||!Y(r)?"":j(r,e),oe="0x0",L=({data:e,value:r,nonce:t,walletId:n,gasPrice:s,gasLimit:c,localType:o,to:p,maxFeePerGas:T,from:u,supportEip1559:S,maxPriorityFeePerGas:G,chainId:l,contractAddress:x})=>{let M=u&&E(u,o),y=p&&E(p,o),N=l||D(o)?.realChainIdHex,F=e||se({value:r,toAddr:y,contractAddress:x}),f={from:M,walletId:n,data:F,nonce:i(t),chainId:i(N),gasLimit:i(c)};return S?Object.assign(f,{type:h.FEE_MARKET,maxFeePerGas:i(T),maxPriorityFeePerGas:i(G)}):Object.assign(f,{type:h.LEGACY,gasPrice:i(s)}),x?Object.assign(f,{data:F,value:oe,to:E(x,o)}):Object.assign(f,{to:y,value:i(r)}),f};var ne=["low","medium","high"],ae=(e={})=>ne.map(r=>r==="low"?{level:r,gasPrice:e?.min,maxFeePerGas:e?.min,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.safePriorityFee}:r==="medium"?{level:r,gasPrice:e?.normal,maxFeePerGas:e?.normal,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.proposePriorityFee}:{level:r,gasPrice:e?.max,maxFeePerGas:e?.max,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.fastPriorityFee});g();P();var m=V(re());U();Z();J();var He=()=>(0,m.useMemoizedFn)(async e=>{let{coinId:r}=e,t=L(e),s=await K(w(t,["to","data","from","value","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas"]));return await W({coinId:r},{inputData:s})}),Ce=({coinId:e,fromAddr:r,walletId:t})=>{let n=v(e),s=n?.localType,c=B({fromAddr:H(r,s),walletId:t,localType:C(s)});return(0,m.useMemoizedFn)(async({data:o,from:p,to:T,value:u,gasPrice:S,maxFeePerGas:G,maxPriorityFeePerGas:l,needCapture:x,systemToken:M,...y})=>{let N=L({to:T,data:o,from:p,value:u,gasPrice:S,coinId:e,walletId:t,localType:s,systemToken:M,maxFeePerGas:G,maxPriorityFeePerGas:l,contractAddress:n?.address,...y}),F=await c({needCapture:x,params:N});return F.rawTxResult||F})},Re=({walletId:e})=>{let r=I(e),t={[d.ETH_SIGN]:[A,a().signMessage],[d.PERSONAL_SIGN]:[A,a().signPersonalMessage],[d.ETH_SIGN_TYPED_DATA]:[R,a().signTypedMessage]};return(0,m.useMemoizedFn)(async({msgParams:n,baseChain:s,type:c})=>{let o=t[c];if(o)return k(r?.initialType)?o[0]({walletId:e,msgParams:n,baseChain:s}):o[1](n,s,e);throw new Error("Not Supported")})},ke=()=>(0,m.useMemoizedFn)(async e=>a().encryptionPublicKey(e)),Ie=()=>(0,m.useMemoizedFn)(async e=>a().decryptMessageInline(e)),We=()=>(0,m.useMemoizedFn)(async e=>a().decryptMessage(e));export{i as a,L as b,ae as c,He as d,Ce as e,Re as f,ke as g,Ie as h,We as i};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-SVCSAZ2J.js.map
