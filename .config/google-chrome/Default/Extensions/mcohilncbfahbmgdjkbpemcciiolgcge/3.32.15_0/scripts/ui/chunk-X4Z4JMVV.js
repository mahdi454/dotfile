import{a as B,b,i as m}from"./chunk-RMSE4KTO.js";import{e as E}from"./chunk-YC6W5MPL.js";import{ca as p,d as h,p as P,x as A}from"./chunk-FF6KJRSH.js";import{X as W}from"./chunk-VPDRXROE.js";import{m as y}from"./chunk-JLIPSIRU.js";import{ca as C,fa as _,ta as M}from"./chunk-VGT27A4M.js";import{o as c}from"./chunk-LDKM7IQF.js";import{F as k,f as g,pa as O}from"./chunk-6O63U2D6.js";import{M as R,x as e}from"./chunk-RIOWPXBZ.js";import{ca as a}from"./chunk-OSCGYMLH.js";import{a as S}from"./chunk-O337TVCZ.js";import{f as x,m as T,o as w}from"./chunk-GLD6H5Q5.js";T();w();var D=x(S()),i=x(W());O();R();M();var v=()=>(0,i.useMemoizedFn)(async n=>{try{let{data:r}=await E(n);return m(r,n?.checkTypes,n)}catch{return m([],n?.checkTypes,{preExecuteFailed:!0})}},[]);var J=()=>{let{getStrongBlackAddressModalParams:n}=B();return(0,i.useMemoizedFn)(async(r,l)=>{let t=r;if(t?.similarType!==_.EXACT&&!t?.isDefraud)return Promise.resolve();let o=r?.address||l?.address||"";t?.similarType===_.EXACT&&A({resource:"extension",black_address:o});let d=r?.rawAddress||y(o),s={};if(t?.tagExt)s=n(t.address);else{let u=t?.isDefraud?t.msg:e("wallet_extension_modaldesc_riskaddress",{accountAddress:d});s={screenOne:{title:e("wallet_extension_protocol_popup_risk_warning"),desc:u,mainBtnText:e("wallet_extension_function_btn_cancel"),subBtnText:e("wallet_extension_function_btn_advanced")},screenTwo:{title:e("wallet_extension_protocol_popup_risk_warning"),desc:e("wallet_extension_function_desc_developer_continue"),mainBtnText:e("wallet_extension_mid_dialog_btn_cancel"),subBtnText:e("wallet_extension_function_btn_continue_transaction")},monitorEvt:t?.isDefraud?P:g}}return new Promise((u,F)=>{let f=c.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:D.default.createElement(b,{modalParams:s,handleCancel:()=>{h(),F(),f.destroy()},closeModal:()=>{u(),f.destroy()}})})})},[])},K=()=>{let n=v();return(0,i.useMemoizedFn)(async(r,l)=>{let t=r;return k(r)&&(t=(await n(l))[C.CONTRACT_ADDRESS]||{}),new Promise((o,d)=>{if(t?.isContract){let s=c.prompt({alignBottom:!1,hideCloseBtn:!0,infoType:c.Prompt.INFO_TYPE.warn,confirmBtnProps:{type:a.TYPE.highlight,size:a.SIZE.lg},cancelBtnProps:{category:a.CATEGORY.outline,size:a.SIZE.lg},title:e("wallet_extension_address_popup_security_alert"),confirmText:e("wallet_extension_address_popup_btn_cancel"),cancelText:e("wallet_extension_address_popup_btn_continue"),text:e("wallet_extension_address_popup_security_alert_desc"),onConfirm:()=>{p({is_click_cancel_reject_link:!0}),s.destroy(),d()},onCancel:()=>{p({is_click_continue_link:!0}),s.destroy(),o()}})}else o()})},[])};export{v as a,J as b,K as c};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-X4Z4JMVV.js.map
