import{a as R,b as w,c as T}from"./chunk-4PQXB46K.js";import"./chunk-GNWL7PD3.js";import"./chunk-5BOMXKNH.js";import"./chunk-UJ7MX4VL.js";import{b as f}from"./chunk-JTGFDHLS.js";import{e as y}from"./chunk-PMGQLREC.js";import"./chunk-RK4XZYBE.js";import"./chunk-YSHDEOBZ.js";import"./chunk-HXUMX2S7.js";import"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import"./chunk-656GFN7J.js";import"./chunk-VGT27A4M.js";import"./chunk-R4G6BEPF.js";import"./chunk-2333N6PK.js";import{a as h,u}from"./chunk-AYCAVTPT.js";import"./chunk-OG46YTNN.js";import"./chunk-RXNDJ7P3.js";import"./chunk-YM7II27E.js";import"./chunk-CYOQISC6.js";import"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import"./chunk-LDKM7IQF.js";import{M as n,pa as K}from"./chunk-6O63U2D6.js";import"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-OSCGYMLH.js";import"./chunk-ADWO6K2C.js";import"./chunk-O337TVCZ.js";import"./chunk-BWEIB2OY.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-Y2L2VAJY.js";import"./chunk-5AYYZJMV.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as H,m as p,o as l}from"./chunk-GLD6H5Q5.js";p();l();var W=H(R());K();var b=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(u);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(h))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await y(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await b.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},C=new a;export{C as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-RZFBBHNZ.js.map
