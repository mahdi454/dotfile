import{a as z}from"./chunk-S22LJDU4.js";import{a as j}from"./chunk-V56JAUMS.js";import{b as V}from"./chunk-X5KO5BYB.js";import{a as W}from"./chunk-Z77JUEZJ.js";import{a as Y}from"./chunk-QHUQYXU6.js";import{a as K}from"./chunk-4MZS5WUT.js";import{a as q}from"./chunk-YMNU7XNS.js";import"./chunk-V4GLNYXT.js";import"./chunk-TK3POT64.js";import"./chunk-IHRKU3VB.js";import"./chunk-PKCAYJL7.js";import"./chunk-D7IU2MQB.js";import{d as U}from"./chunk-HTCS5UFP.js";import{b as v,k as X}from"./chunk-G6W7C4O7.js";import"./chunk-P4KG7HC3.js";import"./chunk-2YRNNTO4.js";import"./chunk-FCM3KMN7.js";import{a as D}from"./chunk-X4Z4JMVV.js";import{g as O}from"./chunk-RMSE4KTO.js";import"./chunk-XZFOTB6K.js";import"./chunk-ZGE3YU4L.js";import"./chunk-R5U3NPEX.js";import"./chunk-JDZSGQWQ.js";import"./chunk-XY66VBX7.js";import"./chunk-GZFI5G46.js";import"./chunk-UAHUXCQX.js";import"./chunk-73OZ5IYN.js";import"./chunk-BWRHBLYR.js";import"./chunk-XTOYI7P4.js";import"./chunk-KSCP4BJT.js";import"./chunk-3MIEWVTZ.js";import{d as N,f as b}from"./chunk-J2H2J7IS.js";import"./chunk-SJIEUX3S.js";import"./chunk-L7LFNDLE.js";import{a as F}from"./chunk-NEFZK4RT.js";import"./chunk-STMKIE2Z.js";import"./chunk-GUQJR5VF.js";import"./chunk-MI6YHDAD.js";import"./chunk-ZAW6Z544.js";import"./chunk-SVAMZON6.js";import"./chunk-MF4732CU.js";import"./chunk-F52H34ZH.js";import"./chunk-3RNOIYOK.js";import"./chunk-OQFQ7WFP.js";import"./chunk-YW7TPMAR.js";import"./chunk-PGKED42N.js";import"./chunk-KSAOBFIR.js";import"./chunk-OJURW5TU.js";import"./chunk-PMGQLREC.js";import"./chunk-W6OF57RJ.js";import"./chunk-HRZ4SZVQ.js";import"./chunk-ECPXLKIL.js";import"./chunk-RK4XZYBE.js";import"./chunk-ORJ3QBGC.js";import"./chunk-QF25V5YC.js";import"./chunk-5KSRM7B2.js";import"./chunk-PPHSAQ52.js";import"./chunk-JUOUD4EO.js";import"./chunk-4W35J5OQ.js";import"./chunk-GPJC633M.js";import"./chunk-YC6W5MPL.js";import"./chunk-ABBYZM2I.js";import"./chunk-KNUMOXQD.js";import"./chunk-JJ3ARLVE.js";import"./chunk-ZLD5XTE5.js";import"./chunk-2VRILCVI.js";import"./chunk-IRMGOW5H.js";import"./chunk-CQ64XZTP.js";import"./chunk-UXLFUD7T.js";import"./chunk-2HEOW3XO.js";import"./chunk-DLRFA5AU.js";import"./chunk-OC3IFNJW.js";import"./chunk-UI7PAU35.js";import"./chunk-SMZ64QW3.js";import"./chunk-DQTTI4XL.js";import"./chunk-FF6KJRSH.js";import"./chunk-CQ7YBDUS.js";import"./chunk-GSYNHSX4.js";import"./chunk-Y6SGFHFT.js";import"./chunk-V4NJDTLC.js";import"./chunk-OFKAKQXT.js";import"./chunk-IQUFOLSA.js";import"./chunk-KA5XDNKC.js";import"./chunk-HXUMX2S7.js";import"./chunk-QKXA7YNE.js";import"./chunk-PAER4Z2U.js";import"./chunk-LBVWUYQX.js";import"./chunk-M2F2X65U.js";import"./chunk-ZYEEMVIP.js";import"./chunk-BOOOUD52.js";import"./chunk-TBLUUKKO.js";import"./chunk-S5DGV5WL.js";import"./chunk-AOXUSYRH.js";import"./chunk-WKBC6JL3.js";import"./chunk-3EO5SKIF.js";import"./chunk-LMIOM5QK.js";import"./chunk-VPDRXROE.js";import"./chunk-JLIPSIRU.js";import"./chunk-CIDV5VJQ.js";import"./chunk-VX55KNI4.js";import"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import"./chunk-656GFN7J.js";import{M as _,ca as C,da as P,ta as h}from"./chunk-VGT27A4M.js";import"./chunk-R4G6BEPF.js";import"./chunk-S3MY46XE.js";import"./chunk-2333N6PK.js";import"./chunk-AYCAVTPT.js";import"./chunk-OG46YTNN.js";import"./chunk-RXNDJ7P3.js";import"./chunk-YM7II27E.js";import"./chunk-CYOQISC6.js";import"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import{E as B,Jb as ne,X as se,qb as k}from"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import"./chunk-LDKM7IQF.js";import{K as G,pa as oe}from"./chunk-6O63U2D6.js";import{M as re,x as L}from"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-B2L2MSSC.js";import"./chunk-OIIWKMG6.js";import"./chunk-OSCGYMLH.js";import"./chunk-ADWO6K2C.js";import{a as I}from"./chunk-O337TVCZ.js";import"./chunk-EJP3AYQB.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-WRBXETR5.js";import"./chunk-RBB7LL2V.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as A,m as i,o as a}from"./chunk-GLD6H5Q5.js";i();a();var w=A(I());h();i();a();var y=A(I());ne();i();a();oe();re();i();a();var g=A(I());var H=(e,t)=>{let{from:f,transaction:o,provider:u}=e,[x,c]=(0,g.useState)(!1),[r,n]=(0,g.useState)(null),[d,m]=(0,g.useState)(!1),[l,S]=(0,g.useState)("");return(0,g.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=X.from(o);s.setSenderIfNotSet(f);let p="";u&&(p=v(await s.build({client:u}))),t&&await t(p),n({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),m(!1),S("")}catch(s){m(!0),S(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:x,error:d,errorMsg:l,result:r}};se();var ie=({coinId:e,unapproved:t,preExecuteRet:f})=>{let o=F(t),{address:u,walletId:x}=o,{verifyGasLimitRet:c}=f,r=b(e,x)?.coinAmountInt,{loading:n,result:d={},error:m,errorMsg:l}=H({from:u,transaction:t?.params?.transaction,provider:j}),S=d?.fee,T=(G(r)||B(r,S))&&!O(c),s=G(r)||B(r,0),p={coinId:e,loading:n,estimateFailed:m,networkFee:S},R;return m&&l&&(R=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:l})),{loading:n,networkFee:d,networkFeeProps:p,isSufficientGas:T,estimateFailed:m,estimateFailedMsg:R,isSufficientBalance:s}},J=ie;i();a();var E=A(I());h();var ae=({coinId:e,unapproved:t})=>{let f=D(),[o,u]=(0,E.useState)(!0),{host:x}=U(t),{address:c}=F(t),[r,n]=(0,E.useState)({}),d=(0,E.useMemo)(()=>({checkTypes:[C.VERIFY_GAS_LIMIT,C.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:x}),[c,e]),m=async(T,s)=>{let p=await f({...d,chainId:s,inputData:T});n(p),u(!1)},l=(0,E.useMemo)(()=>r[C.VERIFY_GAS_LIMIT]||{},[r]);return{kysRet:(0,E.useMemo)(()=>({loading:o,...r[C.KYS]||{}}),[o,r]),loading:o,preExecuteRet:r,firePreExecute:m,verifyGasLimitRet:l}},Q=ae;var ce=(0,y.memo)(({unapproved:e})=>{let t=N(k)||{},f=t?.coinId||k,o=t?.chainIndex||t?.chainId||"",u=Q({unapproved:e,coinId:f}),{firePreExecute:x,kysRet:c,verifyGasLimitRet:r}=u,{networkFee:n,networkFeeProps:d,isSufficientGas:m,estimateFailed:l,estimateFailedMsg:S,loading:T,isSufficientBalance:s}=J({coinId:f,unapproved:e,preExecuteRet:u});(0,y.useEffect)(()=>{n?.txBytes&&o&&x(n?.txBytes,o)},[n?.txBytes,o]);let p=Y({kysRet:c,baseCoin:t,estimateFailed:l,estimateFailedMsg:S,isSufficientGas:m,verifyGasLimitRet:r,isSufficientBalance:s}),{buttonGroup:R,handleCancel:te}=V({coinId:f,unapproved:e,feeLoading:T,preExecuteRet:u,estimateFailed:l,isSufficientGas:m,isSufficientBalance:s,extParams:{txBytes:n?.txBytes,fee:n?.fee}});return K({kysRet:c,handleCancel:te}),y.default.createElement(W,{kysRet:c,unapproved:e,tipMessage:p,buttonGroup:R,networkFee:d})}),Z=ce;i();a();var $=A(I());function me(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var ee=({unapproved:e})=>{let t=me(z(e.params?.message));return $.default.createElement(q,{message:t,unapproved:e})};var Ze=({unapproved:e})=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:return w.default.createElement(Z,{unapproved:e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return w.default.createElement(ee,{unapproved:e});default:return""}};export{Ze as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-AHLVHGVZ.js.map
