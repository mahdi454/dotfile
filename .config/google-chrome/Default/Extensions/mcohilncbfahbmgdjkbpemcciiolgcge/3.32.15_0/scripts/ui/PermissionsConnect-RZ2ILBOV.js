import{b as Lt}from"./chunk-OSCUV4AL.js";import{c as De}from"./chunk-TMW7F7WU.js";import{a as ve,b as We}from"./chunk-O4SNKDES.js";import{a as Ne}from"./chunk-YMNU7XNS.js";import"./chunk-IHRKU3VB.js";import"./chunk-D7IU2MQB.js";import{e as xe}from"./chunk-HTCS5UFP.js";import{a as nt}from"./chunk-FCM3KMN7.js";import{a as Ie,d as Y,e as qt,g as P}from"./chunk-R5U3NPEX.js";import{f as Ee,q as N}from"./chunk-UAHUXCQX.js";import"./chunk-BWRHBLYR.js";import"./chunk-XTOYI7P4.js";import"./chunk-KSCP4BJT.js";import"./chunk-3MIEWVTZ.js";import{f as gt}from"./chunk-J2H2J7IS.js";import"./chunk-SJIEUX3S.js";import"./chunk-L7LFNDLE.js";import{a as Pe,b as Me}from"./chunk-WNAIDEAY.js";import{a as Oe,c as wt,d as be}from"./chunk-QMWYGZOJ.js";import"./chunk-NEFZK4RT.js";import"./chunk-STMKIE2Z.js";import"./chunk-GUQJR5VF.js";import{e as Ae}from"./chunk-MI6YHDAD.js";import"./chunk-ZAW6Z544.js";import{a as ye}from"./chunk-SVAMZON6.js";import"./chunk-MF4732CU.js";import"./chunk-F52H34ZH.js";import"./chunk-3RNOIYOK.js";import"./chunk-OQFQ7WFP.js";import"./chunk-PMGQLREC.js";import"./chunk-W6OF57RJ.js";import"./chunk-HRZ4SZVQ.js";import"./chunk-ECPXLKIL.js";import"./chunk-RK4XZYBE.js";import"./chunk-ORJ3QBGC.js";import{b as Rt}from"./chunk-ONV3ODOM.js";import{a as ue,b as fe}from"./chunk-3545CIHX.js";import{a as de}from"./chunk-OCCQLMQL.js";import{e as h,g as Ct}from"./chunk-JUOUD4EO.js";import"./chunk-4W35J5OQ.js";import"./chunk-GPJC633M.js";import"./chunk-YC6W5MPL.js";import"./chunk-ABBYZM2I.js";import"./chunk-KNUMOXQD.js";import"./chunk-JJ3ARLVE.js";import"./chunk-ZLD5XTE5.js";import{e as le}from"./chunk-IRMGOW5H.js";import"./chunk-CQ64XZTP.js";import"./chunk-UXLFUD7T.js";import"./chunk-2HEOW3XO.js";import"./chunk-DLRFA5AU.js";import"./chunk-OC3IFNJW.js";import"./chunk-UI7PAU35.js";import"./chunk-SMZ64QW3.js";import"./chunk-DQTTI4XL.js";import{B as he,D as Se}from"./chunk-FF6KJRSH.js";import"./chunk-CQ7YBDUS.js";import"./chunk-GSYNHSX4.js";import"./chunk-Y6SGFHFT.js";import"./chunk-V4NJDTLC.js";import"./chunk-OFKAKQXT.js";import{f as Te,h as Tt,j as ge}from"./chunk-IQUFOLSA.js";import"./chunk-KA5XDNKC.js";import"./chunk-HXUMX2S7.js";import{j as Ce}from"./chunk-7ZRI3S6Z.js";import{a as we}from"./chunk-PAER4Z2U.js";import"./chunk-LBVWUYQX.js";import{a as _e}from"./chunk-M2F2X65U.js";import"./chunk-ZYEEMVIP.js";import"./chunk-BOOOUD52.js";import"./chunk-TBLUUKKO.js";import{$a as ce,a as Dt,b as ae,h as b,j as L}from"./chunk-S5DGV5WL.js";import"./chunk-AOXUSYRH.js";import"./chunk-WKBC6JL3.js";import"./chunk-3EO5SKIF.js";import"./chunk-LMIOM5QK.js";import{X as ie}from"./chunk-VPDRXROE.js";import{Aa as re,Va as ne,ga as F,ia as oe,w as I}from"./chunk-JLIPSIRU.js";import"./chunk-CIDV5VJQ.js";import{a as ft}from"./chunk-VX55KNI4.js";import{i as B,k as pe,m as _t}from"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import{m as dt,n as Wo}from"./chunk-656GFN7J.js";import{B as Zt,ta as vo}from"./chunk-VGT27A4M.js";import{d as rt,f as Jt}from"./chunk-R4G6BEPF.js";import"./chunk-S3MY46XE.js";import"./chunk-2333N6PK.js";import"./chunk-AYCAVTPT.js";import{g as me}from"./chunk-OG46YTNN.js";import{c as ot}from"./chunk-RXNDJ7P3.js";import"./chunk-YM7II27E.js";import"./chunk-CYOQISC6.js";import{d as se,h as Do}from"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import{F as lt,Jb as ut,Nb as jt,Sc as Qt,Tc as te,Ub as Oo,X as Gt,_ as vt,ab as $,ea as Mo,gd as ee,ja as $t,k as bt,sa as Ft,ua as Yt,v as Po,va as Vt,wa as Ht,xb as et}from"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import{H as Xt,b as Kt,d as zt}from"./chunk-LDKM7IQF.js";import{K as pt,f as mt,pa as Ot}from"./chunk-6O63U2D6.js";import{M as q,x as d}from"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-B2L2MSSC.js";import"./chunk-OIIWKMG6.js";import{Z as Wt}from"./chunk-OSCGYMLH.js";import{a as bo}from"./chunk-ADWO6K2C.js";import{a as w}from"./chunk-O337TVCZ.js";import"./chunk-BWEIB2OY.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-WRBXETR5.js";import"./chunk-RBB7LL2V.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as p,m as o,o as r}from"./chunk-GLD6H5Q5.js";o();r();var W=p(w()),Z=p(I()),D=p(ft()),So=p(ie());Oo();Mo();Po();_t();o();r();var Re=p(w()),qe=(0,Re.lazy)(()=>import("./Comp-LR7BMVAN.js"));o();r();o();r();var Le=p(I());_t();function Be(){let t=(0,Le.useDispatch)();return()=>t(pe())}var ke=Be;o();r();o();r();var v=p(w());Vt();o();r();var Ze=p(w());Ht();o();r();var x=p(w()),Ye=p(I()),Ve=p(ft());q();ee();o();r();var S=p(w()),Ue=p(ft());Ot();var Ge=p(bo());q();Vt();Ht();o();r();var yt={root:"_root_oli0p_1",multiAccount:"_multiAccount_oli0p_4",count:"_count_oli0p_9"};var qo="account-selector",$e=t=>{let e=(0,Ue.useHistory)(),{permissionsRequestId:n,request:s,dappSelectAccount:i,walletInfo:a={},connectable:c=!0,hiddenAddress:m=!1,disableSelectAccount:l=!1}=t,{method:f,provider:T,status:g}=wt({dappUrl:s?.metadata?.origin}),_=()=>{e.push({pathname:`${b}/${n}${L}`})},C=(0,S.useMemo)(()=>m?"":s?.providerType===$t?d("wallet_extension_cosmos_text_cosmos_network"):a.address,[m,s?.providerType,a.address]),E=Oe({provider:T,method:f}),M=()=>i.length<=1?E?S.default.createElement(Y,{bordered:!1},S.default.createElement(qt,{onClick:l?void 0:mt,hiddenAddress:m,copyable:!1,title:d("wallet_dapp_conncetion_requesr_subtitle_current_account"),walletId:a.walletId,address:d("wallet_extension_expand_all_networks")})):S.default.createElement(Y,{bordered:!1},S.default.createElement(qt,{onClick:l?void 0:mt,copyable:!1,title:d("wallet_dapp_conncetion_requesr_subtitle_current_account"),walletId:a.walletId,address:C,hiddenAddress:m,connectable:c})):S.default.createElement(Y,{bordered:!1},S.default.createElement(Ie,{title:d("wallet_dapp_conncetion_requesr_subtitle_current_account")},S.default.createElement(ot.Box,{className:yt.multiAccount},S.default.createElement(ot.Box,{className:yt.count},d("wallet_extension_mid_text_accounts",{num:i.length})),S.default.createElement(Lt,{className:`${qo}__info-arrow`,side:Lt.SIDE.RIGHT}))));return S.default.createElement("div",{className:yt.root,onClick:l?mt:_},g!=="PENDING"&&M())};$e.propTypes={permissionsRequestId:Ge.default.string.isRequired};var Fe=$e;function Lo({targetDomainMetadata:t,permissionsRequestId:e,request:n,walletInfo:s,connectable:i,tipMessage:a,buttonGroup:c,hiddenAddress:m,disableSelectAccount:l,RequestedNetworks:f}){let T=(0,Ve.useHistory)(),g=(0,Ye.useSelector)(h),_=Te();return x.default.createElement(ot.Container,null,x.default.createElement(we,{backable:!1,closeable:!1,title:d("wallet_dapp_conncetion_maintitle_conncet_account")}),x.default.createElement(Y,null,x.default.createElement(xe,{...t})),x.default.createElement(Fe,{targetDomainMetadata:t,permissionsRequestId:e,request:n,dappSelectAccount:g,walletInfo:s,disableSelectAccount:l,hiddenAddress:m,connectable:i}),f&&x.default.createElement(f,{request:n}),x.default.createElement(_e,{placeholder:!0,offsetBottom:0,borderTop:!0},x.default.createElement(P,{...a}),x.default.createElement(N,{buttonGroup:c})),s?.keyringIdentityType===te.MPC&&x.default.createElement(ve,{keyringId:s.keyringId,customConfig:_?.length===1?{confirmText:d("wallet_extension_btn_general_gotit")}:{},actionMap:{["RECOVER"]:()=>{T.push(`${ce}?action=${ye.RECOVER}&walletId=${s.walletId}`)},["SWITCH_WALLET"]:async()=>_?.length===1?(await c[0]?.onClick(),T.push(ae)):T.push({pathname:`${b}/${e}${L}`})}}))}var V=Lo;o();r();var He=p(I());function Bo(t){let e=Tt(),s=(0,He.useSelector)(h)[0]||e,{walletInfo:i,connectable:a,chainName:c,status:m}=be({dappUrl:t,walletId:s}),l=We(s);return{targetWalletId:s,walletInfo:i,connectable:a,chainName:c,mpcConnectable:l,status:m}}var H=Bo;o();r();var j=p(I()),je=p(ft());q();_t();function Bt({disabled:t,request:e,targetDomainMetadata:n,cancelPermissionsRequest:s,approvePermissionsRequest:i,connectSource:a,connectChains:c}){let m=(0,j.useDispatch)(),l=n?.origin,f=nt(),T=(0,j.useSelector)(h),g=wt({dappUrl:l});return async()=>{if(t)return;f({trade:"connect_wallet",all_confirmation:"confirm"});let C={...e,permissions:{...e.permissions}};if(Object.keys(C.permissions).length>0){if(await i(C,T),T.length===1&&await m(Ce(T[0],!0)),Se({dapp_url:l}),g?.dappUrl&&g?.provider){let E={dappurl:g.dappUrl,connect_method:a||g.provider,dappname:n?.name};c&&(E.chain=c),he(E)}}else await s(C.metadata.id);await B(m)}}var ko=({props:t,isMpcError:e,connectable:n,confirmBtnText:s,onConfirm:i,onCancel:a,connectSource:c,connectChains:m})=>{let l=(0,j.useDispatch)(),f=(0,je.useHistory)(),T=(0,j.useSelector)(h),{permissionsRequestId:g,targetDomainMetadata:_,cancelPermissionsRequest:C,approvePermissionsRequest:E,request:M}=t,A=nt(),R={actionType:N.ACTION_TYPE.CANCEL,async onClick(){A({trade:"connect_wallet",all_confirmation:"cancel"}),a?await a(g):await C(g),await B(l)}},Q=Bt({request:M,targetDomainMetadata:_,approvePermissionsRequest:E,cancelPermissionsRequest:C,connectSource:c,connectChains:m}),k={actionType:N.ACTION_TYPE.CONFIRM,disabled:n&&(T.length===0||e),btnText:n?s||d("wallet_extension_connect_btn_connect"):d("wallet_extension_connect_btn_switch_wallet"),async onClick(){n?i?await i():await Q():f.push({pathname:`${b}/${g}${L}`})}};return[R,k]},K=ko;o();r();var Ke=p(w());var At=p(I());function Uo(t,e){let n=(0,At.useDispatch)(),s=(0,At.useSelector)(h),{connectable:i,mpcConnectable:a}=t;(0,Ke.useEffect)(()=>{if(!s.length&&i&&a&&e){let c=Array.isArray(e)?e:[e];n(Ct.setSelectAccounts(c))}},[s,i,a,e])}var z=Uo;o();r();var ze=p(w());q();function Go({isMpcError:t,connectable:e,chainName:n}){return(0,ze.useMemo)(()=>t?{type:P.TIP_TYPE.COMMON_ERROR,message:d("extension_wallet_error_toast_not_supported")}:e?{type:P.TIP_TYPE.NORMAL,message:d("wallet_dapp_conncetion_notify_conncet_permission")}:{type:P.TIP_TYPE.COMMON_WARN,message:d("wallet_extension_connect_alert_text_doesnt_support_network",{network:n})},[t,e,n])}var ht=Go;o();r();var Je=p(w()),kt=p(I());ee();o();r();var St=p(w());var Xe=(t,e)=>{let[n,s]=(0,St.useState)(!1);return(0,St.useEffect)(()=>{(async()=>{if(t&&e){let{data:i}=await Ae({dappUrl:t});s(i.result)}})()},[t,e]),n};function $o(t){let e=(0,kt.useSelector)(h),n=(0,kt.useSelector)(oe),s=(0,Je.useMemo)(()=>e.some(a=>n.find(c=>c.walletId===a)?.initialType===Qt.MPC_KEYRING),[e,n]),i=Xe(t?.host,s);return s&&!i}var X=$o;function Fo(t){let{targetDomainMetadata:e,permissionsRequestId:n,request:s}=t,i=Tt(),a=H(e?.origin),{walletInfo:c,connectable:m,chainName:l,status:f}=a,T=X(e),g=ht({isMpcError:T,connectable:m,chainName:l}),_=K({props:t,isMpcError:T,connectable:m});return z(a,i),f==="PENDING"?null:Ze.default.createElement(V,{targetDomainMetadata:e,permissionsRequestId:n,request:s,walletInfo:c,connectable:m,tipMessage:g,buttonGroup:_})}var Qe=Fo;o();r();var ro=p(w()),no=p(I());o();r();var to=p(w());Ot();Gt();q();ut();function Yo({targetWalletId:t,isMpcError:e,connectable:n,chainName:s}){let i=gt(et,t)?.coinAmountInt;return(0,to.useMemo)(()=>!pt(i)&&lt(i,0)?{type:Kt.TYPE.warn,message:d("wallet_extension_conncetion_alert_add_more")}:e?{type:P.TIP_TYPE.COMMON_ERROR,message:d("extension_wallet_error_toast_not_supported")}:n?{type:P.TIP_TYPE.NORMAL,message:d("wallet_extension_conncetion_alert_check_balance")}:{type:P.TIP_TYPE.COMMON_WARN,message:d("wallet_extension_connect_alert_text_doesnt_support_network",{network:s})},[i,e,n,s])}var eo=Yo;o();r();Ot();ut();Gt();var Vo=({props:t,isMpcError:e,connectable:n,walletInfo:s={}})=>{let{walletId:i,address:a}=s,c=K({props:t,isMpcError:e,connectable:n}),m=gt(et,i)?.coinAmountInt;return!pt(m)&&lt(m,0)&&(c[1]={actionType:N.ACTION_TYPE.FILL_UP,coinId:et,walletId:i,address:a,receiveOnly:!0}),c},oo=Vo;var Ho=t=>{let{targetDomainMetadata:e,permissionsRequestId:n,request:s}=t,i=(0,no.useSelector)(F),a=H(e?.origin),{walletInfo:c,connectable:m,chainName:l,targetWalletId:f}=a,T=X(e),g=eo({targetWalletId:f,isMpcError:T,connectable:m,chainName:l}),_=oo({props:t,isMpcError:T,connectable:m,walletInfo:c});return z(a,i),ro.default.createElement(V,{targetDomainMetadata:e,permissionsRequestId:n,request:s,walletInfo:c,connectable:m,tipMessage:g,buttonGroup:_})},so=Ho;o();r();o();r();var jo=()=>null,io=jo;var ao=io;o();r();var G=p(w());q();o();r();var Nt=p(w());q();Jt();Wo();vo();ut();o();r();var co=p(I());_t();function Ko({disabledSubmit:t,confirmBtnLoading:e,permissionsRequestId:n,cancelPermissionsRequest:s,request:i,targetDomainMetadata:a,approvePermissionsRequest:c}){let m=(0,co.useDispatch)(),l=nt(),f={actionType:N.ACTION_TYPE.CANCEL,async onClick(){l({trade:"connect_wallet",all_confirmation:"cancel"}),await s(n),await B(m)}},T=Bt({request:i,targetDomainMetadata:a,approvePermissionsRequest:c,cancelPermissionsRequest:s}),g={loading:e,disabled:t,actionType:N.ACTION_TYPE.CONFIRM,onClick:T};return[f,g]}var mo=Ko;o();r();var po=p(ie());Do();var Et=p(w());ut();function zo(t,e){let n=(0,Et.useRef)(e?.origin),i=(t?.providersExts?.[$]??t?.exts)?.message?.manifestUrl,[a,c]=(0,Et.useState)(!0);return(0,po.useMount)(()=>{(async()=>{if(i)try{let l=await se(i);if(l?.status===200){let f=l.data;typeof f?.url=="string"&&(n.current=f.url)}}finally{c(!1)}else c(!1)})()}),{loading:a,domain:n.current}}var lo=zo;o();r();var It=p(I());var xt=p(w());function Xo(t){let e=(0,It.useSelector)(F),n=(0,It.useSelector)(h),s=(0,It.useSelector)(ne),i=de(t?.origin,s),[a,c]=(0,xt.useState)(null);return(0,xt.useEffect)(()=>{(async()=>{e&&n.includes(e)?c(e):i&&n.includes(i)?c(i):c(n[0])})()},[e,n,i]),a}var uo=Xo;function Jo({request:t,targetDomainMetadata:e,permissionsRequestId:n,approvePermissionsRequest:s,cancelPermissionsRequest:i,isSilentConnected:a}){let c=uo(e),{loading:m,domain:l}=lo(t,e),f=ge(c,$),_=((t?.providersExts?.[$]??t?.exts)?.message?.items||[]).filter(({name:A})=>A===Ee.TON_PROOF),C=_.length===1?`${_[0].payload||""}`:_.map(({payload:A})=>({value:A})),E={localType:$,origin:e?.origin,walletId:c};(0,Nt.useEffect)(()=>{dt("Sign Ton Proof UI",{tonAddress:f})},[f]);let M=mo({disabledSubmit:m,permissionsRequestId:n,request:t,targetDomainMetadata:e,approvePermissionsRequest:async(A,R,Q)=>{try{let k=Math.round(Date.now()/1e3),Mt=new URL(l).host,it=await Promise.all(_.map(async({payload:at})=>{let ct;try{dt("Call Sign Ton Proof",{tonAddress:f}),ct=await rt().signTonProof({proof:{timestamp:k,domain:Mt,payload:at}},f,c)}catch(tt){throw dt("Error Sign Ton Proof",{tonAddress:f,isReject:tt?.message===Zt}),tt}return{payload:at,signature:ct}}));A.resultParams={domain:l,timestamp:k,signatures:it}}catch{return Xt.error({title:d("wallet_extension_ton_error_signature_support")}),null}return s(A,R,Q,!a)},cancelPermissionsRequest:i});return Nt.default.createElement(Ne,{message:C,unapproved:E,customButtonGroup:M})}var fo=Jo;o();r();var st=p(w()),_o=p(I());Jt();function Zo({targetDomainMetadata:t,dappMetadata:e,alwaysNeedProof:n}){let s=(0,_o.useSelector)(F),[i,a]=(0,st.useState)(null),[c,m]=(0,st.useState)(!0);return(0,st.useEffect)(()=>{(async()=>{if(!n){m(!1);return}try{(await rt().getPermittedWallets(t?.origin,!1)).length>0&&a(await rt().getPermittedWallets(t?.origin,!0))}finally{m(!1)}})()},[n]),z(e,c?null:i||s),{loading:c,isSilentConnected:!!i}}var To=Zo;o();r();var go={loading:"_loading_po7pc_1"};function Qo(t){let{alwaysNeedProof:e,targetDomainMetadata:n,permissionsRequestId:s,request:i}=t,[a,c]=(0,G.useState)(!1),m=H(n?.origin),{walletInfo:l,connectable:f,chainName:T}=m,g=X(n),_=ht({isMpcError:g,connectable:f,chainName:T}),C={props:t,isMpcError:g,connectable:f,connectSource:i?.exts?.connectSource};e&&(C.confirmBtnText=d("wallet_extension_ton_btn_next"),C.onConfirm=()=>{c(!0)});let E=K(C),{loading:M,isSilentConnected:A}=To({targetDomainMetadata:n,dappMetadata:m,alwaysNeedProof:e}),R=a||A;return M?G.default.createElement("div",{className:go.loading},G.default.createElement(Wt.Circle,{size:Wt.SIZE.lg})):R?G.default.createElement(fo,{...t,isSilentConnected:A}):G.default.createElement(V,{targetDomainMetadata:{...n,host:n.origin||n.host},permissionsRequestId:s,request:i,walletInfo:l,connectable:f,tipMessage:_,buttonGroup:E})}var Co=Qo;o();r();o();r();var tr=()=>null,wo=tr;var yo=wo;o();r();var J=p(w());q();o();r();var Pt={root:"_root_h6iyb_1",animation:"_animation_h6iyb_14",text:"_text_h6iyb_17"};var er=({onComplete:t})=>{let[e,n]=(0,J.useState)(!1),s=me({dark:"/static/images/dapp/connected-success-dark.json",light:"/static/images/dapp/connected-success-light.json"});return J.default.createElement("div",{className:Pt.root},J.default.createElement(zt,{className:Pt.animation,path:s,loop:!1,onDataReady:()=>{n(!0)},onComplete:t}),e?J.default.createElement("span",{className:Pt.text},d("wallet_home_foot_dapp_connceted")):null)},Ao=er;var ho=({chooseAccountProps:t,showAni:e})=>{let n=t?.request?.providerTypes,s=t?.request?.providersExts,i=t?.request?.exts?.alwaysNeedProof,a=t?.request?.providerType,c=!!n,m=t?.request?.exts?.isShowWalletConnect;return v.default.createElement(v.default.Fragment,null,(()=>{switch(!0){case m:return v.default.createElement(yo,{providerTypes:n,providersExts:s,...t});case c:return v.default.createElement(ao,{providerTypes:n,providersExts:s,...t});case(a===Ft&&i):return v.default.createElement(so,{...t});case a===Yt:return v.default.createElement(Co,{alwaysNeedProof:i,...t});default:return v.default.createElement(Qe,{...t})}})(),e&&v.default.createElement(Ao,{onComplete:()=>{t?.onComplete()}}))};var qa=()=>{let t=(0,Z.useDispatch)(),e=(0,D.useHistory)(),s=(0,D.useRouteMatch)().params.id,a=(0,Z.useSelector)(le).find(y=>y.metadata.id===s),c=a?.providerTypes,[m,l]=(0,W.useState)(!1),f=(0,Z.useSelector)(fe),T=(0,Z.useSelector)(re),{metadata:g={}}=a||{},{origin:_}=g,C=null;if(_)if(T[_])C={...T[_],origin:_},C.icon??=jt;else{let y=new URL(_);C={host:y.host,name:y.hostname,origin:_}}let E=`${b}/${s}`,M=`${b}/${s}${L}`,A=async(y,O,U)=>{await t(Pe(y,O,U))},R=async(y,O,U)=>{await t(Me(y,O,U)),await t(Rt())},Q=()=>t(De()),k=ke(),Mt=()=>t(Ct.setSelectAccounts([])),it=()=>{s&&f===ue.connect&&R(s,_)},at=()=>{vt()===bt&&window.addEventListener("beforeunload",it)},ct=()=>{vt()===bt&&window.removeEventListener("beforeunload",it)},tt=()=>(ct(),e.push(Dt)),Eo=async(y,O)=>{y&&(await R(y,_,O),await B(t),tt())},Ut=()=>{l(!1),tt(),t(Rt())};(0,So.useMount)(()=>{if(k(),Q(),!a){e.push(Dt);return}at(),Mt()});let Io=c;return W.default.createElement("div",{className:"page-container permissions-connect"},W.default.createElement(D.Switch,null,W.default.createElement(D.Route,{path:M,exact:!0,render:()=>W.default.createElement(qe,{request:a||{},multi:!Io})}),W.default.createElement(D.Route,{path:E,exact:!0,render:()=>W.default.createElement(ho,{chooseAccountProps:{request:a||{},cancelPermissionsRequest:(O,U)=>Eo(O,U),permissionsRequestId:s,targetDomainMetadata:C,onComplete:Ut,approvePermissionsRequest:async(O,U,xo,No=!0)=>{await A(O,U,xo),await B(t),No?l(!0):Ut()}},showAni:m})})))};export{qa as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=PermissionsConnect-RZ2ILBOV.js.map
