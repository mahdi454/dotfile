import{a as qt,b as zt}from"./chunk-DIVHVDM3.js";import{a as Rt}from"./chunk-3WBTVAEI.js";import{a as Ot}from"./chunk-UYTBS3GV.js";import{a as j}from"./chunk-KL6US7RS.js";import{a as Ut}from"./chunk-PTWLRD3D.js";import{a as Mt}from"./chunk-L7LFNDLE.js";import{a as At}from"./chunk-2WSM2BL6.js";import{a as Ft}from"./chunk-Z4A553U5.js";import{a as $,b as L,c as St,d as Pt}from"./chunk-UBFVE3Q4.js";import"./chunk-KSAOBFIR.js";import"./chunk-OJURW5TU.js";import"./chunk-VVCHQHKB.js";import"./chunk-N3OY7GLG.js";import"./chunk-GJCTNUAU.js";import"./chunk-OCCQLMQL.js";import"./chunk-3DI6NEAD.js";import{a as It,d as Lt}from"./chunk-4W35J5OQ.js";import"./chunk-ZLD5XTE5.js";import"./chunk-IRMGOW5H.js";import{a as vt}from"./chunk-DLRFA5AU.js";import{b as v}from"./chunk-UI7PAU35.js";import{a as Et}from"./chunk-SMZ64QW3.js";import"./chunk-DQTTI4XL.js";import"./chunk-OFKAKQXT.js";import"./chunk-IQUFOLSA.js";import"./chunk-KA5XDNKC.js";import"./chunk-HXUMX2S7.js";import{a as Dt}from"./chunk-PAER4Z2U.js";import{a as bt}from"./chunk-M2F2X65U.js";import"./chunk-TBLUUKKO.js";import{R as xt,S as O,a as ht,va as st}from"./chunk-S5DGV5WL.js";import{b as N}from"./chunk-AOXUSYRH.js";import{q as f}from"./chunk-WKBC6JL3.js";import"./chunk-3EO5SKIF.js";import"./chunk-LMIOM5QK.js";import{X as Nt}from"./chunk-VPDRXROE.js";import{w as yt}from"./chunk-JLIPSIRU.js";import"./chunk-CIDV5VJQ.js";import{a as Z}from"./chunk-VX55KNI4.js";import{i as Tt,m as ke}from"./chunk-4TYAYDA2.js";import"./chunk-LDX3S2CG.js";import"./chunk-TS5DNQFS.js";import"./chunk-656GFN7J.js";import"./chunk-VGT27A4M.js";import{d as Ct,f as ye}from"./chunk-R4G6BEPF.js";import"./chunk-S3MY46XE.js";import"./chunk-2333N6PK.js";import"./chunk-AYCAVTPT.js";import"./chunk-OG46YTNN.js";import{c as k}from"./chunk-RXNDJ7P3.js";import"./chunk-YM7II27E.js";import"./chunk-CYOQISC6.js";import"./chunk-TKYTZF2K.js";import"./chunk-RY27BWZR.js";import"./chunk-WIWWLEBZ.js";import{Mb as wt,Ub as we}from"./chunk-YT2MPR4E.js";import"./chunk-R4ZXRZL6.js";import{M as H,q as it,x as Y,y as gt}from"./chunk-LDKM7IQF.js";import"./chunk-6O63U2D6.js";import{M as P,x as l}from"./chunk-RIOWPXBZ.js";import"./chunk-BAWLRI3I.js";import"./chunk-USKTQDCY.js";import"./chunk-B2L2MSSC.js";import"./chunk-OIIWKMG6.js";import{T as kt,Z as nt,c as V,ca as B}from"./chunk-OSCGYMLH.js";import"./chunk-ADWO6K2C.js";import{a as T}from"./chunk-O337TVCZ.js";import"./chunk-2T657SRL.js";import"./chunk-QJAZEJHH.js";import"./chunk-LCKQ7YKT.js";import"./chunk-ZVYHIM2Y.js";import"./chunk-VBARKITZ.js";import"./chunk-NCANHNXF.js";import{f as a,m as t,o as e}from"./chunk-GLD6H5Q5.js";t();e();var c=a(T()),ne=a(yt()),ie=a(Z()),se=a(Nt());P();ye();ke();t();e();var F=a(T());var Bt=a(Z());t();e();var R={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Ht=({currentTab:o,onTabChange:r,tabsConfig:m})=>{let n=(0,Bt.useHistory)(),s=(0,F.useCallback)(i=>{r(i),n.replace(`${xt}?tab=${String(i)}`)},[n]);return F.default.createElement(F.default.Fragment,null,F.default.createElement(H,{className:R.tabsContainer,headerClassName:R.tabs,panelListClassName:R.panelList,activeId:o,size:H.SIZE.xl,color:H.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:s,navLeftClassName:R.left,navRightClassName:R.right},m.map(i=>{let{title:_,id:w}=i;return F.default.createElement(H.TabPane,{tab:_,key:w,id:w},i.contentComponent)})))};t();e();var U=a(T()),$t=a(yt()),jt=a(Z()),Qt=a(V());P();t();e();var h=a(T()),Kt=a(V());P();t();e();var q={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var ge=({onViewDetail:o,onDelete:r})=>{let m=(0,h.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:l("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:l("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>h.default.createElement(N.IconButton,{icon:"okx-wallet-plugin-more",className:q.moreIcon}),s=({option:_})=>{let w=_;return h.default.createElement("div",{className:q.option},h.default.createElement(N,{className:(0,Kt.default)(w.icon,q.optionIcon)}),h.default.createElement("span",{className:q.optionText},w.label))},i=(0,h.useCallback)(_=>{_.preventDefault(),_.stopPropagation()},[]);return h.default.createElement("div",{onClick:i},h.default.createElement(Y,{options:m,align:Y.DIRECTION.right,optionAlign:Y.DIRECTION.left,displayArea:n,renderOption:s,onChange:_=>{_?.action()},optionItemClassName:q.optionItem}))},Gt=ge;t();e();var I=a(T());t();e();var g=a(T()),Wt=a(V());we();t();e();var K={root:"_root_1lmgy_1",title__wrap:"_title__wrap_1lmgy_4",titleWrap:"_title__wrap_1lmgy_4",desc__wrap:"_desc__wrap_1lmgy_9",descWrap:"_desc__wrap_1lmgy_9",checkIcon:"_checkIcon_1lmgy_12"};var Ce=({icon:o,name:r,rpcUrl:m,children:n,keyword:s,className:i,onClick:_,id:w,...x})=>{let E=j(),M=w===E,C=(0,g.useMemo)(()=>{if(o&&g.default.isValidElement(o))return o;let d={size:N.SIZE.lg};return o&&typeof o=="string"?{src:o,type:N.TYPE.image,defaultIcon:wt,...d}:o&&typeof o=="object"?{...d,...o}:r&&typeof r=="string"?{text:r,type:N.TYPE.text,textTheme:N.TEXT_THEME.black,...d}:!1},[o,r]);return g.default.createElement(It,{icon:C,className:(0,Wt.default)(K["wallet-list-token"],i),onClick:_,keyword:s,...x},g.default.createElement(k.FlexBox,{style:{flex:1,overflow:"hidden"},direction:k.DIRECTION.vertical},g.default.createElement(k.FlexBox,{align:k.ALIGN.center,className:K.title__wrap},g.default.createElement(f.HighlightKeyword,{strong:!0,text:r,keyword:s,ellipsis:{tooltip:!0}})),!!m&&g.default.createElement(k.FlexBox,{align:k.ALIGN.center,className:K.desc__wrap},g.default.createElement(f.Text,{strong:!0,ellipsis:{tooltip:!0},size:f.SIZE.xs,type:f.TYPE.secondary},m))),M&&g.default.createElement(N,{icon:"okds-success-circle-fill",className:K.checkIcon}),n)},Zt=g.default.memo(Ce);var Vt=a(Nt()),Yt=a(V());P();t();e();var Q={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var D=({listData:o,keywords:r,onSelect:m,emptyText:n,renderCustomItem:s,isRpcMode:i,children:_,listContainerClassName:w,searchMode:x=!1})=>{let E=(0,I.useRef)(null),M=(0,I.useCallback)(S=>{let{chainName:tt,icon:et,rpcUrl:ot}=S||{};return I.default.createElement(Zt,{id:S.id,name:tt,icon:et,rpcUrl:ot,keyword:r,onClick:()=>{m(S,i)}},s?.(S))},[r,m,i,s]),C=(0,I.useCallback)(()=>x?null:I.default.createElement(gt.State,{className:Q.emptyContainer,title:n??l("wallet_extension_cryptodetail_text_nodata_found")}),[n,x]),d=(0,Vt.useSize)(E);return I.default.createElement("div",{ref:E,className:(0,Yt.default)(Q.listContainer,w,{[Q.searchMode]:x})},I.default.createElement(Lt,{virtualable:!x,itemKey:"id",searchable:!1,dataSource:o,renderItem:M,renderEmpty:C}),_)};t();e();var at={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var X=({isEVMChainExisted:o,disableScroll:r=!1,...m})=>{let n=(0,jt.useHistory)(),s=(0,$t.useDispatch)(),i=j(),_=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(O):At(O)},w=async d=>{n.push(`${O}?id=${encodeURIComponent(d.id)}&modify=${$.CAN}`)},x=Rt(),E=d=>{x({editRpcInfo:{uniqueId:d.id,rpcUrl:d.rpcUrl},onDeleted:()=>{i===d.id&&(s(v("currentNetworkUniqueId","")),s(v("isRpcMode",!1)))}})},M=d=>U.default.createElement(Gt,{onDelete:()=>{E(d)},onViewDetail:()=>{w(d)}}),C=o;return U.default.createElement(U.default.Fragment,null,U.default.createElement(D,{...m,listContainerClassName:(0,Qt.default)({[at.listContainer]:C,[at.unScollListContainer]:r}),renderCustomItem:M},C&&U.default.createElement(bt.FooterActions,null,U.default.createElement(B,{block:!0,size:B.SIZE.lg,type:B.TYPE.highlight,category:B.CATEGORY.fill,onClick:_},l("developer_mode_network_maintitle_add_network")))))};t();e();var Jt=a(T());P();t();e();var Xt={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var te=({onSearch:o,searchKeyword:r})=>Jt.default.createElement(it.Search,{className:Xt.searchInput,placeholder:l("extension_wallet_network_input_search_network"),size:it.SIZE.md,value:r,onChange:m=>{let n=m.target.value;o(n)}});t();e();var mt=a(T());var ee=a(Z());t();e();var lt={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var J=o=>{let r=(0,ee.useHistory)();return mt.default.createElement(D,{...o,renderCustomItem:n=>mt.default.createElement(N.IconButton,{icon:"okx-wallet-plugin-more",className:lt.moreIcon,coreClassName:lt["more-icon__core"],onClick:s=>{s.preventDefault(),s.stopPropagation(),r.push(`${O}?id=${encodeURIComponent(n.id)}&modify=${$.CANT}`)}})})};t();e();var z=a(T());P();t();e();var oe=o=>{let{onClose:r,visible:m,network:n}=o;return m?z.default.createElement(k.Portal,{component:k.Container,className:"net-loading"},z.default.createElement(kt,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),z.default.createElement("div",{className:"net-loading__content"},z.default.createElement(nt,{size:nt.SIZE.xl}),z.default.createElement("div",{className:"net-loading__content-text"},l("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=a(T());P();t();e();var G={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function ct(o){let{mainnetList:r,testnetList:m,customList:n,debouncedKeywords:s,onSelect:i}=o;return u.default.createElement("div",{className:G.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:G.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("extension_wallet_network_tab_main_network")),u.default.createElement(D,{listData:r,keywords:s,onSelect:i,isRpcMode:!1,searchMode:!0})):null,m.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:G.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("developer_mode_network_title_test_network")),u.default.createElement(J,{listData:m,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:G.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("developer_mode_network_title_editcustom")),u.default.createElement(X,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}t();e();var re={root:"_root_1basx_1","header-gulf":"_header-gulf_1basx_7",headerGulf:"_header-gulf_1basx_7"};var Ne=()=>{let o=(0,ie.useHistory)(),r=(0,ne.useDispatch)(),m=Mt(),n=(0,c.useCallback)(()=>{o.replace(ht)},[o]),[s,i]=(0,c.useState)(L.init),[_,w]=(0,c.useState)({rpcUrl:"",uniqueId:"",name:""}),{rpcNetworks:x}=Pt(),{extensionConfig:E,setExtensionConfig:M}=vt("rpc_info"),C=(0,c.useRef)(!1),d=async y=>{i(L.loading),C.current=!1;try{let{rpcUrl:b,uniqueId:rt}=y;await qt(b),C.current||(await r(v("isRpcMode",!0)),await r(v("currentNetworkUniqueId",rt)),await M(y),i(L.success),o.replace(st))}catch{C.current||i(L.failed)}},[S,tt]=(0,c.useState)(""),et=y=>{tt(y)},[ot,ae]=(0,c.useState)(parseInt(m.get("tab")||"0",10)),le=y=>{ae(y)},A=(0,se.useDebounce)(S,{wait:300}),{resetFilterInfo:me}=Ut(),{mainnetListForUI:pt,customListForUI:_t,testnetListForUI:dt,isEVMChainExisted:ft}=Ot(A),{isRpcMode:ce}=Ft(),pe=async y=>{let b=x.find(rt=>rt.uniqueId===y.id);if(ce&&St(E,b)){o.replace(st);return}b&&(w(b),await d(b))},_e=async y=>{await r(v("isRpcMode",!1)),await r(v("currentNetworkUniqueId",y.id)),me(!0),n()},de=async()=>{await Ct().clearDappData(),await Tt(r)},W=async(y,b)=>{await de(),b?await pe(y):await _e(y)},fe=Et(),he=()=>{globalThis.platform.openTab({url:fe.faucetCenter})},ut=ft?l("wallet_extension_cryptodetail_text_nodata_found"):l("extension_wallet_network_text_unused_testnet"),ue=[{title:l("extension_wallet_network_tab_main_network"),id:0,contentComponent:c.default.createElement(D,{listData:pt,keywords:A,onSelect:W,isRpcMode:!1})},{title:l("developer_mode_network_title_test_network"),id:1,contentComponent:c.default.createElement(J,{listData:dt,keywords:A,onSelect:W,emptyText:ut,isRpcMode:!0})},{title:l("developer_mode_network_title_editcustom"),id:2,contentComponent:c.default.createElement(X,{isEVMChainExisted:ft,emptyText:ut,listData:_t,keywords:A,onSelect:W,isRpcMode:!0})}];return c.default.createElement(k.Container,{className:re.root},c.default.createElement(Dt,{title:l("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),c.default.createElement(te,{onSearch:et,searchKeyword:S}),A?c.default.createElement(ct,{mainnetList:pt,testnetList:dt,customList:_t,debouncedKeywords:A,onSelect:W}):c.default.createElement(Ht,{currentTab:ot,onTabChange:le,tabsConfig:ue}),c.default.createElement(zt,{visible:s===L.failed,onRetry:async()=>{await d(_)},onChangeNet:()=>{i(L.init)}}),c.default.createElement(oe,{visible:s===L.loading,network:_?.name,onClose:()=>{i(L.init),C.current=!0}}))},En=Ne;export{Ne as NetworkManagement,En as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NetworkManagement-JN2YPP23.js.map
