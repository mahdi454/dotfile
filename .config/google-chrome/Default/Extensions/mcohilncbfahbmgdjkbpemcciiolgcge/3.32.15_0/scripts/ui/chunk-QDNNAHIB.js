import{a as Ri,b as Oi,c as Pi,d as F,f as ot,j as it,k as Ui,l as z,m as Wt,n as Zt}from"./chunk-DNWFHBV5.js";import{a as ki}from"./chunk-5JK4LSTH.js";import{b as $t}from"./chunk-OSCUV4AL.js";import{a as Vt}from"./chunk-TE6MX46F.js";import{a as Fi}from"./chunk-OQY6TZK5.js";import{a as Ei,e as yi,m as hi,t as vi}from"./chunk-GL5KZF23.js";import{a as Ii}from"./chunk-445ZV7VL.js";import{a as Di}from"./chunk-Y4Q624TF.js";import{a as Nt,b as gi,c as Ut}from"./chunk-A4CVLGFS.js";import{a as qe}from"./chunk-BWRHBLYR.js";import{d as Ci}from"./chunk-XTOYI7P4.js";import{a as kt}from"./chunk-3MIEWVTZ.js";import{b as ui,d as Ot,g as Pt}from"./chunk-J2H2J7IS.js";import{b as Mt,e as Ai}from"./chunk-SSCLN42L.js";import{a as wi}from"./chunk-STMKIE2Z.js";import{a as fi}from"./chunk-MF4732CU.js";import{c as Rt}from"./chunk-F52H34ZH.js";import{c as ti,d as Ft,f as oi}from"./chunk-KSAOBFIR.js";import{b as qt,f as Si,g as Gt,j as Ht,k as Li,l as Bi}from"./chunk-NVJFLL3D.js";import{a as bi}from"./chunk-XIDZSPWD.js";import{c as ni}from"./chunk-VVL4IZMM.js";import{a as ii}from"./chunk-GJCTNUAU.js";import{b as xt}from"./chunk-RIWLOEHK.js";import{b as No}from"./chunk-PPHSAQ52.js";import{d as To}from"./chunk-4W35J5OQ.js";import{D as di,O as pi}from"./chunk-YC6W5MPL.js";import{a as si}from"./chunk-IQQANR3G.js";import{a as mi}from"./chunk-CQ64XZTP.js";import{I as Tt,N as xi,X as Ti,Y as Co,Z as Ni}from"./chunk-FF6KJRSH.js";import{a as _i,f as ai,h as ci}from"./chunk-GSYNHSX4.js";import{h as ri,i as li}from"./chunk-IQUFOLSA.js";import{Ya as Bt}from"./chunk-S5DGV5WL.js";import{b as Xo}from"./chunk-AOXUSYRH.js";import{l as Yo,m as J,q as tt}from"./chunk-WKBC6JL3.js";import{e as vt,f as At}from"./chunk-3EO5SKIF.js";import{X as ei}from"./chunk-VPDRXROE.js";import{m as j,sa as St,w as he,y as zo}from"./chunk-JLIPSIRU.js";import{a as Wo}from"./chunk-VX55KNI4.js";import{a as S,b as o,d as Z,e as pt,g as Ie,ta as ie}from"./chunk-VGT27A4M.js";import{d as et,f as Ko}from"./chunk-R4G6BEPF.js";import{c as le}from"./chunk-RXNDJ7P3.js";import{a as Lt}from"./chunk-YM7II27E.js";import{a as ft,b as Jo}from"./chunk-CYOQISC6.js";import{f as ut,h as Qo}from"./chunk-TKYTZF2K.js";import{Jb as fo,M as mo,Mb as Ce,Mc as Dt,Pc as bt,Q as Go,Rc as jo,Ub as uo,X as po,a as Po,b as Us,ob as dt,pb as Ho,w as yt,y as ht,yb as Vo,z as qo}from"./chunk-YT2MPR4E.js";import{A as ae,G as Zo,H as fe,K as Se,N as We,O as ue,o as ve,y as xo}from"./chunk-LDKM7IQF.js";import{F as Uo,K as be,fa as Mo,pa as Je}from"./chunk-6O63U2D6.js";import{D as ko,M as G,e as Pe,x as s}from"./chunk-RIOWPXBZ.js";import{T as Ue,Z as Qe,c as ke,ca as Me}from"./chunk-OSCGYMLH.js";import{a as $o}from"./chunk-ADWO6K2C.js";import{a as A}from"./chunk-O337TVCZ.js";import{f as u,m as l,o as _}from"./chunk-GLD6H5Q5.js";l();_();ie();G();Je();var Mi="okx-wallet-plugin-report-centre",qi="okx-wallet-plugin-nft",Ms="okx-wallet-plugin-report-centre",qs="okx-wallet-plugin-lock-1",Gs="okx-wallet-plugin-swap-1",Hs="okx-wallet-plugin-documentation",Gi=(e=[],t="en-US",i=!1)=>{if(!Array.isArray(e))return[[],[]];let n=new Map,a=[],r=[],c=0,m=p=>{let d=Pe(p.txTime,{format:"yyyyMMdd",locale:t});be(n.get(d))&&(n.set(d,c),r[c]={},r[c].date=d,r[c].list=[],c++);let I=n.get(d);r[I].list.push(p)};return e.forEach(p=>{p.txStatus===S.PENDING?!p.isShowPending&&i?m(p):a.push(p):m(p)}),[a,r]},Io=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.MINT_NFT||t===o.CANCEL_NFT||t===o.NFT_AUTHORIZATION?qi:t===o.NFT_CANCEL_AUTHORIZATION?Hs:t===o.DAPP_NFT||t===o.CONTRACTCALL?Ms:t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION?qs:t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT?Gs:Mi},Hi=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.BUY_NFT||t===o.SELL_NFT||t===o.MINT_NFT||t===o.DAPP_NFT||t===o.CANCEL_NFT},Vi=(e={},t={})=>{let{nftId:i}=e,{txType:n}=t;return i||n===o.ORDINAL_NFT?qi:n===o.ORDINAL_TEXT?`${Lt()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:Mi},$i=(e={})=>{let{hideTxType:t}=e;return Number.isInteger(t)&&t!==qt.NORMAL},nt=e=>e.txType===o.TRANS_OUT&&e.okexAccount;l();_();var M=u(A());Je();l();_();var ne=u(A());ie();l();_();var Ge=u(A());l();_();var Ze=u(A());G();Ko();Jo();Qo();var Vs=({tx:e,closeVisible:t,repeatVisible:i,onClose:n,onConfirm:a})=>{let r=a,c=t||i,{txHash:m,coinId:f,txId:p,include:d,coinSymbol:I}=e,N=d?.[0]?.protocolName,h=I,w=_i(),C=Ot(f)?.chainId||0,k=async()=>{try{let b=await et().getRequestHeaders({walletId:w,needSign:!0,currency:"usd"}),B={txHash:m,accountId:w,chainId:C};return await ut(ft.postCloseTranscation,B,{headers:b})}catch(b){let B=ve.tip({title:s("extension_biz_title_cancel_transaction_failed"),confirmText:s("commonall_text_btn_ok_active"),children:Ze.default.createElement("div",null,b.msg),onConfirm:()=>{r(p),B.destroy()}});throw b}},L=async()=>{try{let b=await et().getRequestHeaders({walletId:w,needSign:!0,currency:"usd"}),B={txHash:m,accountId:w,chainId:C};await ut(ft.postRepeatTranscation,B,{headers:b})}catch(b){let B=ve.tip({title:s("extension_biz_title_cancel_broadcast_failed"),confirmText:s("commonall_text_btn_ok_active"),children:Ze.default.createElement("div",null,b.msg),onConfirm:()=>{r(p),B.destroy()}});throw b}},V=async()=>{try{t?(Ti({token_name:h,protocol:N}),await k()):i&&(Ni({token_name:h,protocol:N}),await L())}catch{return}a(p),fe.success({title:s("extension_defi_toast_header_tips_request_submit")})};return Ze.default.createElement(ve.Prompt,{visible:c,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:V,onClose:()=>{n&&n()},confirmText:s("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:Me.TYPE.highlight,size:Me.SIZE.lg},renderContent:b=>Ze.default.createElement(b,null,Ze.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},t&&s("extension_defi_toast_title_release_utxo"),i&&s("extension_defi_toast_title_rebroadcast")),Ze.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},t&&s("extension_defi_toast_desc_release_utxo"),i&&s("extension_defi_toast_desc_rebroadcast")))})},Wi=Vs;function $s({data:e,onRefresh:t}){let{showCloseTransaction:i,showTxRepeatBroadcast:n,include:a,coinSymbol:r}=e,[c,m]=(0,Ge.useState)(!1),[f,p]=(0,Ge.useState)(!1),d=a?.[0]?.protocolName,I=r;return Ge.default.createElement(Ge.default.Fragment,null,Ge.default.createElement(it,{showCloseTransaction:i,showTxRepeatBroadcast:n,onClose:()=>{m(!0),Co({token_name:I,protocol:d,button_name:"releaseutxo"})},onRepeat:()=>{p(!0),Co({token_name:I,protocol:d,button_name:"rebroadcast"})}}),(c||f)&&Ge.default.createElement(Wi,{tx:e,closeVisible:c,repeatVisible:f,onConfirm:N=>{t(N),m(!1),p(!1)},onClose:()=>{m(!1),p(!1)}}))}var Zi=$s;l();_();var Ct=u(A());l();_();var U=u(A()),st=u(ke());G();po();l();_();var H={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Ws=({currentAvgFeeRate:e,expectedFeeRate:t,currentTxSize:i,ancestorsTxSize:n,totalFee:a,totalFeeUSD:r})=>U.default.createElement("div",{className:H.transactionDetailBox},U.default.createElement("div",{className:H.transactionAccelerationDetails},U.default.createElement("p",{className:H.transactionDetailRow},n?U.default.createElement(ae,{title:s("extension_defi_popup_tooltips_feerate_before_speedup"),placement:ae.DIRECTION.topLeft,arrowAlignBoundary:!0},U.default.createElement("span",{className:(0,st.default)(H.transactionDetailLabel,H.textUnderline)},s("extension_defi_toast_item_current_fee_rate"))):U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_current_fee_rate")),U.default.createElement("span",{className:H.transactionDetailValue},`${e} sats/vb`)),U.default.createElement("p",{className:H.transactionDetailRow},U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_speedup_rate")),U.default.createElement("span",{className:H.transactionDetailValue},`${t} sats/vb`)),U.default.createElement("p",{className:H.transactionDetailRow},U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_txn_size")),U.default.createElement("span",{className:H.transactionDetailValue},`${i}vb`)),n?U.default.createElement("p",{className:H.transactionDetailRow},U.default.createElement("span",{className:H.transactionDetailLabel},s("extension_defi_toast_item_ancestor_txn")),U.default.createElement("span",{className:H.transactionDetailValue},`${n}vb`)):null,U.default.createElement("div",{className:H.transactionDetailRow},n?U.default.createElement(ae,{title:s("extension_defi_popup_tooltips_desc_total_fee_meaning")},U.default.createElement("span",{className:(0,st.default)(H.transactionDetailLabel,H.textUnderline)},s("extension_defi_toast_item_total_fee"))):U.default.createElement("span",{className:(0,st.default)(H.transactionDetailLabel)},s("extension_defi_toast_item_total_fee")),U.default.createElement("p",{className:(0,st.default)(H.transactionDetailValue,H.transactionDetailFiatValue)},mo(a)," ~ ",r))),U.default.createElement("p",{className:H.transactionAccelerationFooter},s("extension_defi_toast_desc_0service_fee"))),Zs=({tx:e,feeInfo:t,visible:i,networkError:n,onClose:a,onConfirm:r,onRetry:c})=>{let{currencyPrice:m,currencySymbol:f}=Ci(e.mainCoinId),p=`${f}${Go(yt(mo(t.totalFee),m),2)}`;return U.default.createElement(Ri,{visible:i,error:n,onClose:a,onConfirm:r,title:s("extension_defi_toast_title_speedup_txn"),headerTitle:ko("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:U.default.createElement(ae,{title:s("extension_defi_popup_tooltips_cpfp_meaning")},U.default.createElement("span",{className:(0,st.default)(H.transactionAccelerationSubtitle,H.textUnderline)},`${s("extension_defi_toast_subtitle_using_cpfp")}`))}),content:U.default.createElement(Ws,{...t,totalFeeUSD:p}),errContent:U.default.createElement(xo.State,{title:s("extension_defi_toast_title_internet_error"),type:xo.State.TYPE.noNetwork,description:s("extension_defi_toast_subtitle_cant_get_fee"),buttonText:s("extension_defi_toast_btn_retry"),onButtonClick:()=>{c&&c()},className:H.emptyState}),confirmText:s("wallet_extension_btn_general_confirm")})},Yi=Zs;l();_();var te=u(A()),Ki=u(he());G();ie();po();var Ys=(e,t)=>{let{address:i,mainCoinId:n,txHash:a,txId:r,btcSpeedUpInfo:c}=e,m=c?.cpfpSpeedUpUtxo?.[0].address||i,f=400002,[p,d]=(0,te.useState)(!1),[I,N]=(0,te.useState)(!1),[h,w]=(0,te.useState)(!1),[E,C]=(0,te.useState)(!1),[k,L]=(0,te.useState)(!1),[V,b]=(0,te.useState)({}),[B,se]=(0,te.useState)({}),[W,q,Xe,Te,Oe]=Ei({...e,address:m}),O=(0,Ki.useSelector)(St),{currencyId:y}=O,v=hi({address:i,coinId:n,currencyId:y,doubleConfirmSource:yi.ACCELERATE});(0,te.useEffect)(()=>{(async()=>{if(W&&q?.expectedFeeRate){let[Ne,ye,,mt]=await Te(W,q);(Ne||ye)&&b({...q,totalFee:ht(Number(q.increaseFee)+mt)})}})()},[q,W,Te]);let g=(0,te.useCallback)((de,Ne)=>{if(Ne==="init")if(de.msg){let ye=ve.tip({title:s("extension_biz_title_speed_up_failed"),confirmText:s("commonall_text_btn_ok_active"),children:te.default.createElement("div",null,de.msg),onConfirm:()=>{t(r),ye.destroy()}})}else N(!0),d(!0);else{if(de?.code===f){fe.error({title:s("extension_defi_top_toast_speedup_fail")}),t(r);return}if(de?.code===Fi.BALANCE_NOT_ENOUGH){Tt({accelerate_status:"utxo_fail"}),fe.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}Tt({accelerate_status:"other_fail"}),w(!0)}},[]),D=(0,te.useCallback)(async()=>{if(!E){try{if(Oe)throw Oe;C(!0);let[de,Ne,,ye]=await Te(W,q);if(de||Ne)b({...q,totalFee:ht(Number(q.increaseFee)+ye)});else{fe.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}d(!0),N(!1),w(!1)}catch(de){g(de,"init")}C(!1)}},[Oe,W,q,g,E,Te]),R=mi()?.find(de=>de.coinId===n)?.localType,K=vi({coinId:n,fromAddr:m,toAddr:m,outputs:[{address:m,amount:B.sendAmountInt}],networkFee:B.networkFeeInt,localType:R,dustSize:B.totalInput,satBytes:q.expectedFeeRate,coinAmount:B.sendAmountInt,extraPublishParams:{coinAmount:B.sendAmountInt,txType:o.TRANS_OUT}});(0,te.useEffect)(()=>{(async()=>{try{let{confirm:Ne,utxoList:ye}=B;Ne&&(await K({utxoList:ye}),fe.success(s("extension_defi_top_toast_speedup_success")),Tt({accelerate_status:"success"}),t(r))}catch{fe.error({title:s("extension_defi_top_toast_speedup_fail")})}})()},[B]);let pe=(0,te.useCallback)(async()=>{if(k)return;if(L(!0),await wi())try{let[Ne,ye,mt,Os]=await Te(W,q);if(!Ne&&!ye){fe.error({title:s("extension_defi_top_text_insufficient_utxo_pay")}),Tt({accelerate_status:"utxo_fail"}),L(!1);return}try{await v(mt)}catch{L(!1);return}let Fo=mt.reduce((Ps,ks)=>Ps+ks.coinAmount,0),Ro=ht(Os,Number(q.increaseFee)),Oo=Number(qo(Fo,Ro));ye&&(Oo=Xe),se({totalInput:Fo,sendAmountInt:Oo,networkFeeInt:Ro,utxoList:mt,confirm:!0}),N(!1),w(!1),L(!1),d(!1)}catch(Ne){g(Ne,"confirm"),L(!1)}},[W,q,a]),co=(0,te.useCallback)(async()=>{I&&D(),h&&pe()},[D,h,I,pe]);return{isFetchingTxFee:E,btcSpeedUpHandle:D,isBTCSpeedUpDialogVisible:p,displayFee:V,isFetchBTCFeeInfoNetworkError:I,isConfirmAccelerateError:h,onConfirmAccelerateBTCTX:pe,setIsBTCSpeedUpDialogVisible:d,onRetryBtcSpeedUp:co}},ji=Ys;function Ks({data:e,onRefresh:t}){let{isFetchingTxFee:i,btcSpeedUpHandle:n,isBTCSpeedUpDialogVisible:a,displayFee:r,isFetchBTCFeeInfoNetworkError:c,isConfirmAccelerateError:m,onConfirmAccelerateBTCTX:f,setIsBTCSpeedUpDialogVisible:p,onRetryBtcSpeedUp:d}=ji(e,t);return Ct.default.createElement(Ct.default.Fragment,null,Ct.default.createElement(it,{isLoading:i,canAccelerateBtcTx:!0,onBtcSpeedUp:n}),a&&Ct.default.createElement(Yi,{tx:e,feeInfo:r,networkError:c||m,visible:a,onConfirm:async()=>{await f()},onClose:()=>{p(!1)},onRetry:d}))}var zi=Ks;function js({data:e,onRefresh:t}){let{from:i,coinId:n,txStatus:a,isShowSpeedUp:r,isShowCancel:c,isShowSpeedupCancel:m,mainCoinId:f,showCloseTransaction:p,showTxRepeatBroadcast:d}=e,I=Ot(n),[N,h]=(0,ne.useState)(!1),[w,E]=(0,ne.useState)(!1),C=ti(f),k=oi(f),L=C&&a===S.PENDING,V=k&&a===S.PENDING,b=p||d,[B]=(0,ne.useState)(k&&r);(0,ne.useEffect)(()=>{xi({button_appear:B?"yes":"no"})},[B]);let[se,W]=Ii({coinId:n,address:i,chainId:I?.chainId},{ready:L});return ne.default.createElement("div",{className:"tx-detail-action"},L&&ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(it,{isShowCancel:c,isShowSpeedUp:r&&C,isShowSpeedupCancel:m,onCancel:()=>{h(!0)},onSpeedUp:()=>{E(!0)}}),N&&ne.default.createElement(Oi,{tx:e,signInfo:W,visible:N,onConfirm:q=>{t(q),h(!1)},onClose:()=>{h(!1)}}),w&&ne.default.createElement(Pi,{tx:e,loading:se,signInfo:W,visible:w,onConfirm:q=>{t(q),E(!1)},onClose:()=>{E(!1)}})),V&&ne.default.createElement(ne.default.Fragment,null,b&&ne.default.createElement(Zi,{data:e,onRefresh:t}),B&&ne.default.createElement(zi,{data:e,onRefresh:t})))}var Xi=js;l();_();var ee=u(A()),Kt=u(ke()),Fn=u($o());ie();l();_();var Y=u(A()),nn=u(ke());G();l();_();var Yt=u(A());G();l();_();var Ji=u(A()),Qi=u(ei());G();Qo();Jo();Ko();var zs=e=>{let{coinId:t}=e||{},i=(0,Ji.useRef)(!1),n=ri();return(0,Qi.useMemoizedFn)(async()=>{try{if(i.current===!0||!t)return;i.current=!0;let a=await et().getUserUniqueId(),r={coinId:t,accountId:n,userUniqueId:a},m={headers:await et().getSignRequestHeaders({walletId:n})},[f]=await Promise.all([pi({coinId:t}),ut(ft.postAddCoin,r,m)]);await ni(f),fe.success(s("wallet_extension_customtoken_notification_title_token_added"))}catch{fe.error(s("wallet_home_toast_network_error"))}finally{i.current=!1}})},en=zs;l();_();var tn={root:"_root_4qsur_1"};function Xs({coinId:e,hideTxType:t}){let i=Di(),n=(0,Yt.useMemo)(()=>!i||!e||!!i.some(r=>(r?.childrenCoin||[]).some(c=>c.coinId===e)||r.coinId===e),[e,i]),a=en({coinId:e});return n||t===qt.RISKY?null:Yt.default.createElement(Xo.IconButton,{className:tn.root,icon:"okx-wallet-plugin-add",tooltip:{title:s("wallet_extension_customtoken_tooltips_add_token"),placement:ae.DIRECTION.topLeft},onClick:a})}var on=Xs;l();_();var T={"retina-border-basic":"_retina-border-basic_1qsyv_1",retinaBorderBasic:"_retina-border-basic_1qsyv_1","coin-flow":"_coin-flow_1qsyv_29",coinFlow:"_coin-flow_1qsyv_29","coin-flow__include":"_coin-flow__include_1qsyv_35",coinFlowInclude:"_coin-flow__include_1qsyv_35","coin-flow__include-title":"_coin-flow__include-title_1qsyv_42",coinFlowIncludeTitle:"_coin-flow__include-title_1qsyv_42","coin-flow__include-item":"_coin-flow__include-item_1qsyv_49",coinFlowIncludeItem:"_coin-flow__include-item_1qsyv_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1qsyv_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1qsyv_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1qsyv_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1qsyv_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1qsyv_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1qsyv_70","coin-flow__protocol":"_coin-flow__protocol_1qsyv_74",coinFlowProtocol:"_coin-flow__protocol_1qsyv_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1qsyv_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1qsyv_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1qsyv_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1qsyv_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1qsyv_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1qsyv_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1qsyv_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1qsyv_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1qsyv_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1qsyv_109","coin-flow__mul-icons__top-right":"_coin-flow__mul-icons__top-right_1qsyv_113",coinFlowMulIconsTopRight:"_coin-flow__mul-icons__top-right_1qsyv_113","coin-flow__mul-icons__bottom-right":"_coin-flow__mul-icons__bottom-right_1qsyv_117",coinFlowMulIconsBottomRight:"_coin-flow__mul-icons__bottom-right_1qsyv_117","coin-flow__hidden-label":"_coin-flow__hidden-label_1qsyv_121",coinFlowHiddenLabel:"_coin-flow__hidden-label_1qsyv_121","coin-flow__label-text":"_coin-flow__label-text_1qsyv_121",coinFlowLabelText:"_coin-flow__label-text_1qsyv_121","coin-flow__label":"_coin-flow__label_1qsyv_121",coinFlowLabel:"_coin-flow__label_1qsyv_121","coin-flow__label__overflow":"_coin-flow__label__overflow_1qsyv_133",coinFlowLabelOverflow:"_coin-flow__label__overflow_1qsyv_133","coin-flow__label__expand":"_coin-flow__label__expand_1qsyv_136",coinFlowLabelExpand:"_coin-flow__label__expand_1qsyv_136","coin-flow__receive":"_coin-flow__receive_1qsyv_149",coinFlowReceive:"_coin-flow__receive_1qsyv_149","coin-flow__record-title":"_coin-flow__record-title_1qsyv_149",coinFlowRecordTitle:"_coin-flow__record-title_1qsyv_149","coin-flow__record":"_coin-flow__record_1qsyv_149",coinFlowRecord:"_coin-flow__record_1qsyv_149","coin-flow__record-left-box":"_coin-flow__record-left-box_1qsyv_160",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1qsyv_160","coin-flow__record-title-box":"_coin-flow__record-title-box_1qsyv_166",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1qsyv_166","coin-flow__tool-tip":"_coin-flow__tool-tip_1qsyv_172",coinFlowToolTip:"_coin-flow__tool-tip_1qsyv_172","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1qsyv_176",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1qsyv_176","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1qsyv_180",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1qsyv_180","protocol-margin":"_protocol-margin_1qsyv_196",protocolMargin:"_protocol-margin_1qsyv_196","coin-flow__record-icon":"_coin-flow__record-icon_1qsyv_201",coinFlowRecordIcon:"_coin-flow__record-icon_1qsyv_201","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1qsyv_209",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1qsyv_209","coin-flow__record-icon__mul-icons-wrap":"_coin-flow__record-icon__mul-icons-wrap_1qsyv_212",coinFlowRecordIconMulIconsWrap:"_coin-flow__record-icon__mul-icons-wrap_1qsyv_212","coin-flow__record-right-box":"_coin-flow__record-right-box_1qsyv_229",coinFlowRecordRightBox:"_coin-flow__record-right-box_1qsyv_229","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1qsyv_234",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1qsyv_234","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1qsyv_238",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1qsyv_238","coin-flow__record__plus":"_coin-flow__record__plus_1qsyv_245",coinFlowRecordPlus:"_coin-flow__record__plus_1qsyv_245","coin-flow__pointer":"_coin-flow__pointer_1qsyv_250",coinFlowPointer:"_coin-flow__pointer_1qsyv_250","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1qsyv_253",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1qsyv_253","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1qsyv_259",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1qsyv_259","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1qsyv_269",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1qsyv_269","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1qsyv_275",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1qsyv_275","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1qsyv_281",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1qsyv_281","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1qsyv_292",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1qsyv_292","coin-flow__claim":"_coin-flow__claim_1qsyv_297",coinFlowClaim:"_coin-flow__claim_1qsyv_297","coin-flow__claim__icon":"_coin-flow__claim__icon_1qsyv_301",coinFlowClaimIcon:"_coin-flow__claim__icon_1qsyv_301","coin-flow__claim-info":"_coin-flow__claim-info_1qsyv_304",coinFlowClaimInfo:"_coin-flow__claim-info_1qsyv_304",flowRightToken:"_flowRightToken_1qsyv_346",flowRightApply:"_flowRightApply_1qsyv_351"};var Js=(e,t)=>{!e||globalThis.platform.openTab({url:`https://${t}/${e}`})},Qs=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=15?"18px":t<=17?"16px":t<=19?"14px":(t<=22,"12px")};function er(e){e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=13?"32px":t===14?"30px":t===15?"28px":t===16?"26px":t===17?"24px":t<=19?"22px":t<=21?"20px":t<=23?"18px":t<=26?"16px":t<=30?"14px":"12px"}function tr({recordData:e,isNFT:t,icon:i,title:n,subTitle:a,right:r,autoWidth:c,jumpInfo:m,hasPlus:f,isNewInclude:p,addCustomCoin:d}){let I=si(),N=Lt(),h=typeof i=="string"?Y.default.createElement(gi,{isNFT:t,className:(0,nn.default)({}),src:i,alt:""}):i;return p?Y.default.createElement("div",{className:`${p?T["coin-flow__protocol"]:T["coin-flow__include"]}`},Y.default.createElement("div",{className:`${T["coin-flow__include-title"]}`},s("extension_defi_card_text_include_assets")),(e?.items||[]).map(w=>Y.default.createElement("div",{className:`${T["coin-flow__include-item"]}`},Y.default.createElement("img",{className:`${T["coin-flow__include-item-icon"]}`,alt:"",src:w.icon}),Y.default.createElement(tt.AdaptiveText,{className:`${T["coin-flow__include-item-token"]}`,text:w.title,ellipsis:{tooltip:!0},autoSize:Qs},w.title),w.right))):Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("div",{className:`${T["coin-flow__record"]} ${m?T["coin-flow__pointer"]:""}`,onClick:()=>{Js(m,I)}},Y.default.createElement("div",{className:T["coin-flow__record-icon"]},h),Y.default.createElement("div",{className:T["coin-flow__record-left-box--middle"]},Y.default.createElement("div",{className:r?T["coin-flow__record-left-box--has-right"]:T["coin-flow__record-left-box"]},Y.default.createElement("div",{className:`${c?T["protocol-margin"]:T["coin-flow__record-title-box"]}`},!r||c?Y.default.createElement(tt.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:er},n):Y.default.createElement(tt.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${T["coin-flow__record-title"]}`},n),a&&Y.default.createElement("div",{className:T["coin-flow__record-sub-title"]},a)),r&&Y.default.createElement("div",{className:`${T["coin-flow__record-right-box"]} ${c?"":T["coin-flow__record-halfwidth"]}`},r))),d&&Y.default.createElement(on,{...d}),m&&Y.default.createElement("img",{className:T["coin-flow__record-jumpInfo-box"],src:`${N}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),f&&Y.default.createElement(Ue,{className:`${T["coin-flow__record__plus"]} okds-plus`}))}var It=tr;l();_();var Q=u(A()),go=u(ke());G();uo();ie();l();_();var Ye=u(A());uo();function or({logo:e}){let{middleLogo:t,bottomRightLogo:i,topRightLogo:n}=e||{},a=i&&i.length>0,r=n&&n.length>0;return Ye.default.createElement(Ye.default.Fragment,null,Ye.default.createElement(Ut,{srcset:t&&t.length>0?t:[Ce],topRightLogo:n,bottomRightLogo:i}),(r||a)&&Ye.default.createElement("div",{className:T["coin-flow__record-icon__mul-icons-wrap"]},r&&Ye.default.createElement(Ut,{className:T["coin-flow__mul-icons__top-right"],size:"small",srcset:n}),a&&Ye.default.createElement(Ut,{className:T["coin-flow__mul-icons__bottom-right"],size:"small",srcset:i})))}var rt=or;l();_();var Le=(e,t)=>e?t?`+ ${J(e,{symbol:t})}`:`+ ${J(e)}`:"--",Ke=(e,t)=>e?t?`- ${J(e,{symbol:t})}`:`- ${J(e)}`:"--";var{NFT_AUTHORIZATION:sn,NFT_CANCEL_AUTHORIZATION:rn,CANCEL_NFT:wo,AUTHORIZATION:ln,CANCEL_AUTHORIZATION:_n,REGISTRATION:ir,DAPP_APPLY:an,DAPP_REDEEM:cn,DAPP_CLAIM:mn,BRC20_TRADE:dn,BRC20_SEND:pn,BRC20_RECEIVE:fn,BRC20_MINT:un,BRC20_INSCRIBE:xn,BRC20_DEPLOY:Tn,BRC30_TRADE:nr,EARN_BRC30_APPLY:Nn,EARN_BRC30_REDEEM:Cn,EARN_BRC30_CLAIM:In,EARN_BRC30_DEPLOY:sr,BRC30_SEND:gn,BRC30_RECEIVE:wn,BRC30_INSCRIBE:En,ORDINAL_NFT:yn,ORDINAL_TEXT:hn,MINT_NFT:rr,BTC_NFT_BULK_RECEIVE:lr,BTC_NFT_BULK_SEND:_r,BTC_NFT_BULK_TRADE:ar,DEFI_MINT:cr,DEFI_REPAY:mr,RUNES_ETCH:vn,RUNES_SWEEP:An}=o,dr="/static/images/tx-history/default-nft-detail.svg";function pr(e){return e?dr:Ce}var He={[ln]:"wallet_extension_header_approval_title_for",[_n]:"wallet_extension_header_approval_title_for",[wo]:"wallet_extension_text_cancel_listing_on",[sn]:"wallet_extension_approve_text_for",[rn]:"wallet_extension_approve_text_for",[an]:"wallet_extension_subtitle_into",[cn]:"wallet_extension_subtitle_receive",[mn]:"wallet_extension_subtitle_from",[Cn]:"wallet_extension_subtitle_receive",[Nn]:"wallet_extension_subtitle_into",[In]:"wallet_extension_subtitle_receive",[En]:"wallet_extension_header_redeem_title_reveive",[xn]:"wallet_extension_header_redeem_title_reveive",[wn]:"extension_wallet_details_text_include",[fn]:"extension_wallet_details_text_include",[yn]:"extension_wallet_details_text_receive",[hn]:"extension_wallet_details_text_receive",[Tn]:"extension_wallet_details_text_receive",[un]:"extension_wallet_details_text_receive",[gn]:"extension_wallet_details_text_include",[pn]:"extension_wallet_details_text_include",[dn]:"extension_wallet_details_text_receive",[vn]:"extension_wallet_details_text_receive",[An]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},fr="/static/images/tx-history/default-protocol.svg",gt="/static/images/tx-history/default-brcnft.svg";function ur(e){let t=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,Q.useMemo)(()=>{let{txType:a,input:r,include:c,investTxData:m,contractInfo:f,output:p,hideTxType:d}=e,{investInfo:I,investOutCoins:N}=m??{},h=()=>!r||!r.length?null:{label:s("wallet_extension_header_redeem_title_reveive"),items:r.map(({name:y,amount:v,icon:g,nftId:D,protocolName:P,coinId:R})=>(g=g||pr(D),{isNFT:!!D,icon:g,title:Le(v,y),right:P?Q.default.createElement(ue,{className:T.protocol,size:We.SIZE.sm},P):null,autoWidth:!!P,addCustomCoin:{coinId:R,hideTxType:d}})),className:"coin-flow__receive"},w=()=>m?{label:s("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:m?.investInfo?.investLogo?.middleLogo[0]||Ce,title:m?.investInfo?.investName,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},m?.investInfo?.poolId?`ID: ${m?.investInfo?.poolId}`:"")}]}:null,E=()=>r&&r.length>0?{label:s(He[e.txType]),items:r.map(({name:y,amount:v,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R,protocolName:K})=>(g=g||gt,{isNFT:!!D||P||R,icon:g,title:Le(v,y),right:K?Q.default.createElement(ue,{className:T.protocol,size:We.SIZE.sm},K):null,autoWidth:!!K})),className:"coin-flow__receive"}:null,C=()=>c?.length?{isNewInclude:!0,items:(c||[]).map(({name:y,amount:v,icon:g,vdecimalNum:D,nftId:P,brc20Coin:R,brc20sCoin:K,protocolName:pe})=>({isNFT:!!P||R||K,icon:g||gt,title:`- ${No(v,{fixed:D})} ${y}`,right:pe?Q.default.createElement(ue,{className:T.protocol,size:We.SIZE.sm},pe):null,autoWidth:!!pe}))}:null,k=()=>({items:(p||[]).map(({name:y,amount:v,icon:g,vdecimalNum:D,nftId:P,brc20Coin:R,brc20sCoin:K})=>({isNFT:!!P||R||K,icon:g||gt,title:`- ${No(v,{fixed:D})} ${y}`}))}),L=()=>r&&r.length>0?{items:(r||[]).map(({name:y,amount:v,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R})=>({isNFT:!!D||P||R,icon:g||gt,title:`+ ${J(v,{symbol:y})}`}))}:null,V=()=>({label:s(He[e.txType]),items:[{icon:f?.icon||fr,title:f?.name||i,subTitle:e.txType!==wo&&f?.address&&Q.default.createElement(ot,{className:T["coin-flow__record-address"],label:j(f.address),value:f.address,message:s("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),b=()=>{let{investName:y,investLogo:v,poolId:g}=I||{},D;return{isNFT:!0,label:s(He[e.txType]),items:[{icon:Q.default.createElement(rt,{logo:v}),title:y??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},g?`ID: ${g}`:""),right:D}]}},B=()=>{let{investName:y,platformName:v,investLogo:g}=I||{},D,P="",R="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===Ie.FARM_OTHER_TOKEN&&(P=T.flowRightToken,R=T.flowRightApply),(e.investTxData.investmentDetailType===Ie.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===Ie.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===Ie.FARM_OTHER_TOKEN)&&N&&N.length>0){let[{tokenName:K,num:pe}]=N;D=Q.default.createElement("div",{className:(0,go.default)(T["coin-flow__invest-apply-right"],R)},Q.default.createElement("div",{className:T["coin-flow__invest-apply-num"]},Q.default.createElement(Nt,{text:J(pe),maxWidth:"85px"})),Q.default.createElement("div",{className:(0,go.default)(T["coin-flow__invest-apply-token"],P)},K))}return{label:s(He[e.txType]),items:[{icon:Q.default.createElement(rt,{logo:g}),title:y??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},v??i),right:D}]}},se=()=>({label:s(He[e.txType]),items:(m.investInCoins||[]).map(({tokenName:v,num:g,tokenLogo:D})=>(g=Le(g),{icon:D??t,title:`${g} ${v}`})),className:"coin-flow__receive"}),W=()=>!N||N?.length===0?null:{label:s(He[e.txType]),items:(N||[]).map(({tokenName:y,num:v,tokenLogo:g,tokenId:D})=>{let P=Le(v),R=e.txStatus===S.SUCCESS&&D,K=R?`${P} ${y} #${R}`:`${P} ${y}`;return{icon:g,title:K}}),className:"coin-flow__receive"},q=()=>{let y=s(He[e.txType]);return m?{isNFT:!0,label:y,items:(m.investInCoins||[]).map(({tokenName:v,num:g,tokenLogo:D})=>(g=Le(g),{icon:D??t,title:`${g} ${v}`})),className:"coin-flow__receive"}:null},Xe=()=>{let{platformName:y,investLogo:v,investName:g}=I||{};return{label:s(He[e.txType]),items:[{icon:Q.default.createElement(rt,{logo:v}),title:g??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},y??i)}]}},Te=()=>c&&c.length>0?{isNewInclude:!0,items:(c||[]).map(({name:y,amount:v,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R,protocolName:K})=>({isNFT:!!D||P||R,icon:g||gt,title:`+ ${J(v,{symbol:y})}`,right:K?Q.default.createElement(ue,{className:T.protocol,size:We.SIZE.sm},K):null,autoWidth:!!K,includeAssets:c}))}:null,Oe=()=>null,O={[sr]:w,[En]:E,[xn]:E,[yn]:E,[hn]:E,[Tn]:E,[un]:E,[vn]:E,[An]:E,[wn]:Te,[fn]:Te,[nr]:E,[dn]:E,[gn]:C,[pn]:C,[sn]:V,[rn]:V,[_n]:V,[ln]:V,[wo]:V,[Nn]:b,[an]:B,[Cn]:se,[cn]:W,[In]:q,[mn]:Xe,[ir]:Oe,[rr]:h,[_r]:k,[lr]:L,[ar]:E,[cr]:W,[mr]:B};return O[a]?O[a]():n.includes(a)?h():null},[e])}var Dn=ur;l();_();var oe=u(A()),lt=u(ke());G();uo();ie();var Ln="/static/images/tx-history/default-nft-detail.svg",xr="/static/images/tx-history/default-nft.svg",bn="/static/images/tx-history/default-brcnft.svg";function Sn(e){return e?Ln:Ce}var Ae={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function Tr(e){let t=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol");return(0,oe.useMemo)(()=>{let{txType:n,txStatus:a,approveInfo:r,input:c,output:m,investTxData:f,poolId:p}=e,{investInCoins:d}=e.investTxData||{},I=Object.values(o),N=()=>m&&m.length>0?{label:s(Ae[n]),items:(m||[]).map(({name:O,amount:y,icon:v,nftId:g,brc20Coin:D,brc20sCoin:P,protocolName:R})=>({isNFT:!!g||D||P,icon:v||bn,title:Ke(y,O),right:R?oe.default.createElement(ue,{className:T.protocol,size:We.SIZE.sm},R):null,autoWidth:!!R}))}:null,h=()=>!c||!c?.length?null:{label:s("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(c||[]).map(({name:O,amount:y,icon:v,nftId:g,brc20Coin:D,brc20sCoin:P,protocolName:R})=>({isNFT:!!g||D||P,icon:v||bn,title:Le(y,O),right:R?oe.default.createElement("div",{className:(0,lt.default)(T.protocol)},R):null,autoWidth:!!R}))},w=()=>({label:s(Ae[n]),items:[{icon:r?.icon||Ce,title:r?.name||t}]}),E=()=>({label:s(Ae[n]),items:[{icon:r?.nftCollectionIcon||xr,title:r?.nftCollectionName||s("wallet_extension_title_approve_nft_collection")}]}),C=()=>({label:s(Ae[n]),items:(m||[]).map(({nftId:O,icon:y,name:v})=>({isNFT:!!O,icon:y||Ln,title:v||s("wallet_extension_title_approve_nft")}))}),k=()=>{let{registerInfo:O}=e;return O?{label:"",items:[{icon:O?.icon||Ce,title:O?.name||t}],title:s("wallet_extension_title_approve_nft")}:null},L=()=>({label:s(Ae[n]),items:(d||[]).map(({tokenName:O,num:y,tokenLogo:v})=>(y=Ke(y),{icon:v??t,title:`${y} ${O}`}))}),V=()=>({label:s(Ae[n]),items:(d||[]).map(({tokenName:O,num:y,tokenLogo:v})=>(y=Ke(y),{icon:v??t,title:`${y} ${O}`}))}),b=()=>{let{investInfo:O,redeemShowNum:y}=e.investTxData||{},{investName:v,platformName:g,investLogo:D}=O||{},P=null,R="",K="";if(!e.investTxData)return null;let pe=e.investTxData.investmentDetailType;if((pe==Ie.FARM_LP_TOKEN||pe==Ie.FARM_OTHER_TOKEN)&&(R=T.flowRightToken,K=T.flowRightApply),y&&d&&d.length){let co=Ke(d[0]?.num);P=oe.default.createElement("div",{className:(0,lt.default)(T["coin-flow__invest-apply-right"],K)},oe.default.createElement("div",{className:T["coin-flow__invest-apply-num"]},oe.default.createElement(tt.Text,{ellipsis:{tooltip:!0},className:T["coin-flow__invest-apply-num__tooltip"]},co)),oe.default.createElement("div",{className:(0,lt.default)(T["coin-flow__invest-apply-token"],R)},d[0]?.tokenName))}return{label:s(Ae[n]),items:[{icon:oe.default.createElement(rt,{logo:D}),title:v??t,right:P,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},g??i)}]}},B=()=>f?{label:s(Ae[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||Ce,title:f.investInfo.investName,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},f.investInfo.poolId?`ID: ${f.investInfo.poolId}`:"")}]}:null,se=()=>f?{label:s(Ae[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||Ce,title:f.investInfo.investName,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},p?`ID: ${p}`:"")}]}:null,W=()=>{let O;return a===S.PENDING?O=oe.default.createElement("div",{className:T["coin-flow__claim"]},s("wallet_extension_subtitle_claimwith"),oe.default.createElement(ae,{title:s("wallet_extension_card_ntfy_claim_text"),placement:ae.DIRECTION.bottomLeft},oe.default.createElement("span",{className:`okds-information-circle ${T["coin-flow__claim__icon"]}`}))):O=s(Ae[n]),{label:O,items:(d||[]).map(({tokenName:y,num:v,tokenLogo:g})=>(v=Le(v),{icon:g??t,title:`${v} ${y}`,className:"coin-flow__receive"}))}},q=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:O,amount:y,icon:v,nftId:g,protocolName:D,include:P})=>({isNFT:!!g,icon:v||Sn(g),title:Ke(y,O),right:D?oe.default.createElement("div",{className:(0,lt.default)(T.protocol)},D):null,autoWidth:!!D,includeAssets:P}))}:null,Xe=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:O,amount:y,icon:v,nftId:g,protocolName:D})=>({isNFT:!!g,icon:v||Sn(g),title:Ke(y,O),right:D?oe.default.createElement("div",{className:(0,lt.default)(T.protocol)},D):null,autoWidth:!!D}))}:null,Te=()=>null,Oe={[o.BRC30_INSCRIBE]:N,[o.BRC20_INSCRIBE]:N,[o.BRC20_DEPLOY]:N,[o.ORDINAL_NFT]:N,[o.ORDINAL_TEXT]:N,[o.BRC20_MINT]:N,[o.BRC20_TRADE]:N,[o.BRC30_TRADE]:N,[o.BRC20_RECEIVE]:h,[o.BRC30_RECEIVE]:h,[o.RUNES_SWEEP]:N,[o.CANCEL_AUTHORIZATION]:w,[o.AUTHORIZATION]:w,[o.NFT_CANCEL_AUTHORIZATION]:E,[o.NFT_AUTHORIZATION]:E,[o.CANCEL_NFT]:C,[o.REGISTRATION]:k,[o.EARN_BRC30_APPLY]:L,[o.DAPP_APPLY]:V,[o.EARN_BRC30_REDEEM]:B,[o.DAPP_REDEEM]:b,[o.EARN_BRC30_CLAIM]:se,[o.DAPP_CLAIM]:W,[o.BTC_NFT_BULK_SEND]:Te,[o.BTC_NFT_BULK_RECEIVE]:Te,[o.BRC20_SEND]:q,[o.BRC30_SEND]:q,[o.DEFI_MINT]:b,[o.DEFI_REPAY]:V,default:Xe};return Oe[n]?Oe[n]():I.includes(n)?Xe():null},[e])}var Bn=Tr;function Eo({className:e,label:t,children:i}){return ee.default.createElement("div",{className:(0,Kt.default)(t?T["coin-flow__label"]:"",e)},ee.default.createElement("div",{className:T["coin-flow__label-text"]},t),ee.default.createElement("div",null,i))}function Nr({className:e,label:t,children:i,isExpand:n,setExpand:a}){return ee.default.createElement("div",{className:(0,Kt.default)(t?T["coin-flow__label__overflow"]:"",e)},ee.default.createElement("div",{className:T["coin-flow__label-text"]},t),ee.default.createElement("div",null,n?i:i.slice(0,2)),ee.default.createElement($t,{className:T["coin-flow__label__expand"],side:n?$t.SIDE.TOP:$t.SIDE.BOTTOM,onClick:()=>{a(!n)}}))}function yo({data:e}){let{txType:t}=e,i=Bn(e),n=Dn(e),[a,r]=(0,ee.useState)(!1);if(!i&&!n||t===o.CANCEL_NFT&&i.items.length===0)return null;let c=!i||!n,m=f=>{if(!f)return null;let{items:p,label:d,...I}=f,N=e?.investmentPath;return f?.isNewInclude?ee.default.createElement(Eo,{...I,label:d},ee.default.createElement(It,{recordData:f,isNewInclude:f?.isNewInclude})):t===o.DAPP_APPLY||t===o.DAPP_REDEEM?ee.default.createElement(Eo,{...I,label:d},p.map((h,w)=>ee.default.createElement(It,{jumpInfo:h.subTitle?N:void 0,...h,key:w,hasPlus:p.length>=2&&w!==p.length-1,label:d}))):p?.length>2?ee.default.createElement(Nr,{...I,label:d,isExpand:a,setExpand:r},p.map((h,w)=>ee.default.createElement(It,{...h,key:w}))):ee.default.createElement(Eo,{...I,label:d},p?.map((h,w)=>ee.default.createElement(It,{jumpInfo:h.subTitle?N:void 0,...h,key:w})))};return ee.default.createElement("div",{className:(0,Kt.default)(T["coin-flow"],{[T["coin-flow__hidden-label"]]:c})},m(i),m(n))}var Rn=yo;yo.propTypes={data:Fn.default.object};yo.defaultProps={data:{}};l();_();var _e=u(A()),On=u(ei());Je();G();ie();jo();l();_();var ge=u(A());G();l();_();var jt={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function Cr({address:e,network:t}){let[i,n]=(0,ge.useState)(!1),[a,r]=(0,ge.useState)({}),[c,m]=(0,ge.useState)(""),f=Ai(()=>{m(Vt.TYPE.ADD),r({address:e,network:t}),n(!0)}),p=I=>{n(!1),setTimeout(()=>{m(Vt.TYPE.EDIT),r({...I,network:t}),n(!0)})},d=()=>{n(!1),r({}),m("")};return ge.default.createElement(ge.default.Fragment,null,ge.default.createElement("div",{className:jt["tx-detail-info__add-address"]},ge.default.createElement(ae,{className:jt["tx-detail-info__add-address__tooltip"],title:i?null:s("wallet_extension_history_pop_tap_to_add"),type:ae.TYPES.neutral,placement:ae.DIRECTION.bottomRight},ge.default.createElement(Ue,{className:`${jt["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:f}))),ge.default.createElement(Vt,{visible:i,type:c,data:a,onClose:d,onChangeToEdit:p}))}var zt=Cr;l();_();var we={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function Ir(e,t){let i=e||[{address:t}];return[...new Set(i.map(({address:n})=>n))]}function gr({data:e}){let{inAdrList:t,txType:i,mainCoinId:n,coinId:a,okexAccount:r,txStatus:c}=e,[,m]=Pt(a),p=Rt({coinId:+n})?.localType,[d,I]=_e.default.useState(!0),N=Mt(p),h=ai(),w=Ir(t,r),E=(0,On.useCreation)(()=>w.map(C=>{let k=!1,L;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(L=N(C),k=!L),i===o.REDEEM&&c===S.SUCCESS&&(L={address:C,name:r});let b=Object.values(h).find(W=>!be(W[C]))?.[C],B=b?kt(s,b,m?.symbol):s("wallet_extension_popup_title_receiving_address_copied"),se=b?s(Dt[bt[b]]):"";return{address:C,canAdd:k,msg:B,tag:se,tag2:L}}),[t,i,N,h,m,s]);return!E||E.length===0?null:_e.default.createElement("div",{className:we.address},_e.default.createElement("div",{className:we["address-type"]},s("wallet_extension_mid_text_from")),E.map(C=>_e.default.createElement(_e.default.Fragment,null,_e.default.createElement("div",{className:we["address-content"]},_e.default.createElement("div",{className:we["address-string"]},C.address),_e.default.createElement("div",{className:we["address-right"]},_e.default.createElement(ot,{label:C.label,value:C.address,message:C.msg}),C.canAdd&&_e.default.createElement(zt,{address:C.address,network:p}))),_e.default.createElement("div",{className:we["address-container"]},C.tag&&_e.default.createElement(ue,{className:we["address-tag"]},C?.tag),C?.tag2?.name&&_e.default.createElement(ue,{className:we["address-tag"]},C?.tag2?.name)))),_e.default.createElement("div",{className:d?we.fold:we.unfold,onClick:()=>{I(!d)}}))}var Pn=gr;l();_();var re=u(A());l();_();var kn={loaderContainer:"_loaderContainer_1dvk5_1"};var wr=()=>re.default.createElement(le.Space,{space:54,direction:le.DIRECTION.vertical,className:kn.loaderContainer},re.default.createElement(le.Space,{space:30,direction:le.DIRECTION.vertical},re.default.createElement(le.Space,{space:12,direction:le.DIRECTION.vertical},re.default.createElement(Se.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(Se.Input,{active:!0,style:{width:"178px",height:"32px"}})),re.default.createElement(le.Space,{space:12,direction:le.DIRECTION.vertical},re.default.createElement(Se.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(Se.Input,{active:!0,style:{width:"178px",height:"32px"}}))),re.default.createElement(le.Space,{space:30,direction:le.DIRECTION.vertical},re.default.createElement(le.Space,{space:12,direction:le.DIRECTION.vertical},re.default.createElement(Se.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(Se.Input,{active:!0,style:{width:"250px",height:"32px"}})),re.default.createElement(le.Space,{space:12,direction:le.DIRECTION.vertical},re.default.createElement(Se.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(Se.Input,{active:!0,style:{width:"250px",height:"32px"}})))),Un=wr;l();_();var ce=u(A());G();ie();jo();l();_();var Ve={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function Er({data:e}){let{to:t,txType:i,contractInfo:n,mainCoinId:a,coinId:r}=e,[,c]=Pt(r),f=Rt({coinId:+a})?.localType,p=Mt(f),d=ci(f),{label:I,toAddress:N,msg:h,tags:w,canAdd:E}=(0,ce.useMemo)(()=>{let C,k,L=!1,V=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.REDEEM||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let W=p(t);L=!W,C=s("wallet_extension_mid_text_to"),W?.name&&V.push(W.name);let q=nt(e);q&&V.push(q),k=t}else{let{address:W,name:q}=n||{};C=i===o.REGISTRATION?s("wallet_extension_item_register_address"):s("wallet_extension_mid_text_interaction_address"),V.push(q),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?k=t:k=W}let b=d[k],B=b?s(Dt[bt[b]]):"",se=b?kt(s,b,c?.symbol):s("wallet_extension_popup_title_receiving_address_copied");return V.unshift(B),{label:C,toAddress:k,tags:V,canAdd:L,msg:se}},[i,d,p,t,s,n]);return i===o.ZK_REGISTER||!N?null:ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("div",{className:Ve["address-to"]},ce.default.createElement("div",{className:Ve["address-type"]},I),ce.default.createElement("div",{className:Ve["address-content"]},ce.default.createElement("div",{className:Ve["address-string"]},N),ce.default.createElement("div",{className:Ve["address-right"]},ce.default.createElement(ot,{value:N,message:h}),E&&ce.default.createElement(zt,{address:N,network:f}))),ce.default.createElement("div",{className:Ve["address-container"]},w.map(C=>C&&ce.default.createElement(ue,{className:Ve["tx-clipboard__tag"]},C)))))}var Mn=Er;l();_();var $=u(A()),os=u(he());Je();G();fo();l();_();var Fe=u(A()),qn=u(ke()),wt=u($o());G();l();_();var Be={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function ho({className:e,label:t,value:i,message:n,tag:a,url:r,showExplorerUrl:c}){let[m,f]=ki(),p=()=>{m||(f(i),Zo.success({title:n||s("wallet_receive_toast_address_copied"),desc:Fe.default.createElement("div",{className:Be["tx-hash__message"]},i)}))},d=()=>{!c||globalThis.platform.openTab({url:r})};return Fe.default.createElement("div",{className:(0,qn.default)(Be["tx-hash"],e)},Fe.default.createElement("div",{className:Be["tx-hash__inner"]},Fe.default.createElement("div",{className:Be[c?"tx-hash__inner-wrap":""],onClick:d},t,a&&Fe.default.createElement("div",{className:Be["tx-hash__tag"]},a)),Fe.default.createElement("div",{className:Be["tx-hash__vertical"]}),Fe.default.createElement("div",{className:Be["tx-hash__icon"],onClick:p},Fe.default.createElement(Ue,{className:`okx-wallet-plugin-copy-1 ${Be["okx-wallet-plugin-copy-1"]}`}))))}var Xt=ho;ho.propTypes={label:wt.default.any,value:wt.default.string,message:wt.default.string,className:wt.default.string};ho.defaultProps={label:"",value:"",className:"",message:""};l();_();var Jt=u(A());G();ie();function yr(e){let{txType:t,approveInfo:i}=e,{amount:n,decimalNum:a}=i||{},r=(0,Jt.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?s("wallet_extension_mid_text_unlimited"):J(n,{decimals:a}),[n]);return t!==o.AUTHORIZATION?null:Jt.default.createElement(z,{label:s("wallet_extension_mid_text_approved_amount"),value:r})}var Gn=yr;l();_();var Hn=u(A());G();ie();fo();function hr({txType:e,mainCoinId:t,confirmedCount:i}){return e===o.ZK_REGISTER&&t===dt?null:Hn.default.createElement(z,{label:s("wallet_extension_mid_text_block_confirmation"),value:i})}var Vn=hr;l();_();var Qt=u(A());G();l();_();var $n=u(A());Us();function vo(){let e=ui(),t=fi();return(0,$n.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;Po.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:e,coinsMapSize:Object.keys(t??{}).length,coinExisted:i!=null?t?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[e,t])}function vr({mainCoinId:e}){let{coin:t}=qe(e,!1),i=vo();return(0,Qt.useEffect)(()=>{setTimeout(()=>{t?.coinId||i(e)},1500)},[t,e,i]),Qt.default.createElement(z,{label:s("wallet_extension_mid_text_network"),value:t.chainName})}var Wn=vr;l();_();var eo=u(A()),Zn=u(he());G();ie();fo();po();var Ar=[dt,Ho];function Dr({mainCoinId:e,txStatus:t,feeRebate:i,feeRebateUsd:n,serviceCharge:a,chainSymbol:r,serviceChargeUsd:c,feeName:m,feeDecimalNum:f,txType:p}){let d=Ar.includes(e),{coin:I}=qe(e,!1),N=(0,Zn.useSelector)(St),h,w;if(p===o.DAPP_UNISAT||p===o.ZK_REGISTER&&e===dt)return null;d?(h=f,w=m):(h=I.decimals,w=r);let C=J(i||a||0,{symbol:w,decimals:h||0});if(t!==S.PENDING){let k=n||c,{usdToThisRate:L}=N,V=yt(k,L);C+=` (${Yo(V,{useApproximate:!1,symbol:N.symbol})})`}return eo.default.createElement(eo.default.Fragment,null,eo.default.createElement(z,{label:i?s("wallet_extension_sui_desc_network_fee_refund"):s("wallet_extension_mid_text_network_fee"),value:C}))}var Yn=Dr;l();_();var Kn=u(A());G();ie();function br({txType:e,investTxData:t}){if(!t||!t.lpTokenInfo||[Ie.FARM_LP_TOKEN,Ie.FARM_OTHER_TOKEN].includes(t?.investmentDetailType))return null;let i;if(e===o.DAPP_APPLY?i="wallet_extension_info_receive":e===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:a}=t.lpTokenInfo;return Kn.default.createElement(z,{label:s(i),value:J(n,{symbol:a})})}var jn=br;l();_();var Qn=u(A());G();l();_();Je();G();ie();var Sr="okx-wallet-plugin-lock-1",Lr="okx-wallet-plugin-enrollment",zn=(e={})=>{let{txType:t,assetChange:i=[],poolLogo:n}=e;if(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION||t===o.DAPP_NFT||t===o.CONTRACTCALL||t===o.CANCEL_NFT||t===o.NFT_CANCEL_AUTHORIZATION)return[e.contractIcon||Io(e)];if(t===o.NFT_AUTHORIZATION)return[e.contractIcon||Sr];if(t===o.ZK_REGISTER)return[Lr];if(t===o.EARN_BRC30_DEPLOY)return[n];let a=i.map(r=>{let{coinImgUrl:c}=r||{};return c||Vi(r,e)});return a.reverse(),a.length===0?[Io(e)]:a},to=(e={})=>{let{txType:t,approveSymbol:i,nftCollectionName:n}=e;return Zt(t,{symbol:i,collection:n},e)};function Br(e){let t=nt(e)||j(e.to);return`${s("wallet_extension_history_list_send_to")}   ${t}`}function Fr(e){let t=j(e.from);return`${s("wallet_extension_history_list_receive_from")}   ${t}`}function Rr(e){return e.contractName||j(e.to)}function Or(e){return j(e.from)}function Pr(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function kr(e){return j(e.from)}function Ur(e){return`${s("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function Mr(e){let{contractName:t,contractAddress:i}=e;return t||j(i)||""}function qr(e,t){return[o.TRANS_OUT,o.SEND_NFT,o.BRC20_SEND,o.BRC20_RECEIVE,o.BRC30_TRADE,o.BRC30_SEND].includes(e)?Br(t):[o.TRANS_IN,o.RECEIVE_NFT,o.BRC30_RECEIVE].includes(e)?Fr(t):e===o.CANCEL_NFT?Rr(t):e===o.ZK_REGISTER?Or(t):[o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY].includes(e)?Pr(t):e===o.BRC30_INSCRIBE?kr(t):e===o.REDEEM?Ur(t):Mr(t)}var Xn=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:a}=e,r=qr(n,e);if(r&&i.push(r),a===S.PENDING){let c=Pe(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(c)}return i},Jn=(e={})=>{let{assetChange:t=[],txType:i,repeatTxType:n,coinId:a}=e,{baseCoin:r}=qe(a,!0),c=Ft(r.coinId);return t.map(f=>{let{direction:p,coinAmount:d,coinSymbol:I}=f||{};if(be(d))return null;let N=null;return(d!=="0"||c&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==Z.CANCELING&&n!==Z.SPEEDING_CANCEL)&&(N=J(d)),i===o.CANCEL_NFT?{coinAmount:"",symbol:I}:{direction:p,coinAmount:N,symbol:I}}).filter(Boolean)};ie();function Gr(e){let{txType:t}=e,i=to(e);return t===o.ZK_REGISTER&&(i=s("wallet_extension_history_text_change_pubkey")),Qn.default.createElement(z,{label:s("wallet_extension_info_text_type"),value:i})}var es=Gr;l();_();var ts={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function Hr({memo:e,mainCoinId:t}){return be(e)?null:$.default.createElement(z,{label:t===Vo?s("wallet_extension_import_desc_comment"):s("wallet_extension_text_memocontent"),value:$.default.createElement(Nt,{text:e||"--",maxWidth:"260px"})})}function Vr({mev:e}){return be(e)?null:$.default.createElement(z,{label:s("wallet_extension_ton_order_header_mev"),value:$.default.createElement(Nt,{text:e||"--",maxWidth:"260px"})})}function $r({data:e}){let t=(0,os.useSelector)(At),{txTime:i,txHash:n,investTxData:a,txHash1:r,txHash2:c,explorerUrl:m,explorerUrl1:f,explorerUrl2:p,showExplorerUrl:d}=e;return $.default.createElement("div",{className:ts["tx-detail-info"]},$.default.createElement(z,{label:s("wallet_extension_mid_text_time"),value:Pe(i,{format:"yyyyMMddHHmmss",locale:t})}),$.default.createElement(es,{...e}),$.default.createElement(jn,{...e}),$.default.createElement(Yn,{...e}),$.default.createElement(Wn,{...e}),!r&&n&&$.default.createElement(z,{label:s("wallet_extension_mid_text_transaction_hash"),value:$.default.createElement(Xt,{showExplorerUrl:d,label:j(n),value:n,url:m,message:s("wallet_extension_popup_title_transaction_hash_copied")})}),r&&$.default.createElement(z,{label:s("extension_wallet_details_item_transaction_hash1"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(Xt,{showExplorerUrl:d,label:j(r),value:r,url:f,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),c&&$.default.createElement(z,{label:s("extension_wallet_details_item_transaction_hash2"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(Xt,{showExplorerUrl:d,label:j(c),value:c,url:p,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),$.default.createElement(Vn,{...e}),a?.validateName&&$.default.createElement(z,{label:s("extension_wallet_history_text_validator"),value:j(a?.validateName)}),$.default.createElement(Gn,{...e}),$.default.createElement(Vr,{...e}),$.default.createElement(Hr,{...e}))}var is=$r;l();_();var je={"retina-border-basic":"_retina-border-basic_1m2sh_1",retinaBorderBasic:"_retina-border-basic_1m2sh_1","tx-detail":"_tx-detail_1m2sh_29",txDetail:"_tx-detail_1m2sh_29","metax-ok-navigator":"_metax-ok-navigator_1m2sh_34",metaxOkNavigator:"_metax-ok-navigator_1m2sh_34","tx-detail__inner":"_tx-detail__inner_1m2sh_40",txDetailInner:"_tx-detail__inner_1m2sh_40","tx-detail__underline":"_tx-detail__underline_1m2sh_45",txDetailUnderline:"_tx-detail__underline_1m2sh_45","tx-detail__loading":"_tx-detail__loading_1m2sh_80",txDetailLoading:"_tx-detail__loading_1m2sh_80"};l();_();var ze=u(A()),ns=u(ke());G();ie();l();_();var _t={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var Wr={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},Zr={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function Yr({className:e,data:t}){if(!t)return ze.default.createElement(ze.default.Fragment,null);let{txStatus:i,isShowPending:n,repeatTxType:a}=t,r="";i===S.CONFIRMING||i===S.SUCCESS?i===S.SUCCESS&&a===Z.SPEEDING_CANCEL||a===Z.CANCELING?r="tx-detail-canceled":r="tx-detail-completed":i===S.PENDING?(n&&a===Z.CONFIRMING&&(r="tx-detail-pending"),!n&&a===Z.CONFIRMING&&(r="tx-detail-waiting"),a===Z.SPEEDING&&(r="tx-detail-speeding"),a===Z.CANCELING&&(r="tx-detail-canceling"),a===Z.SPEEDING_CANCEL&&(r="tx-detail-speedingcancel")):i===S.ERROR?r="tx-detail-failed":i===S.WITHDRAWING&&(r="tx-detail-withdraw");let c=Zr[r]||"";return ze.default.createElement("div",{className:(0,ns.default)(_t["tx-detail-status"],{[_t["tx-detail-failed"]]:r==="tx-detail-failed"},e)},ze.default.createElement(Ue,{className:`${_t["tx-detail-icon"]} ${c}`}),!c&&ze.default.createElement(Qe.Circle,{size:Qe.SIZE.md,className:_t["tx-detail-loading"],loaderClassName:_t["tx-detail-loader"]}),ze.default.createElement("div",null,s(Wr[r])))}var ss=Yr;l();_();function jr({params:e,onRefresh:t,onClose:i,visible:n}){let a=(0,M.useRef)(""),r=(0,M.useRef)(null),[c,m]=(0,M.useState)(),[f,p]=(0,M.useState)(!1),d=()=>{if(!e)return;let{coinId:w,address:E,orderType:C,orderId:k}=e;p(!0),di({coinId:w,txId:a.current,address:E,orderType:C,orderId:k}).then(L=>{e&&!Uo(L)&&m({...L,address:E})}).catch(()=>{}).finally(()=>{p(!1)})};(0,M.useEffect)(()=>{e?(a.current=e.txId,d(),r.current=d):(a.current="",m(null))},[e]);let I=()=>{r.current&&a.current&&r.current()},N=xt("wallet-transaction"),h=xt("wallet-tx-confirm",{onError:I,pollingInterval:10*1e3});return(0,M.useEffect)(()=>{(N&&c?.orderTxIdList?.includes(N.data?.txId)||h&&h.data?.txId===a.current&&h.data?.confirmedCount<=h.data?.totalConfirm)&&d()},[N,h]),M.default.createElement(ve.Action,{isFull:!0,titleCenter:!0,visible:n,onClose:i,title:c?M.default.createElement(ss,{data:c,className:je["tx-detail__status"]}):M.default.createElement(M.default.Fragment,null)},M.default.createElement("div",{className:je["tx-detail"]},c&&!f&&M.default.createElement(M.default.Fragment,null,M.default.createElement("div",{className:je["tx-detail__underline"]}),M.default.createElement(Ui,{message:c.failReason}),M.default.createElement("div",{className:je["tx-detail__inner"]},M.default.createElement(Rn,{data:c})," ",M.default.createElement("div",{className:je["tx-detail__underline"]}),c&&M.default.createElement(Pn,{data:c}),c&&M.default.createElement(Mn,{data:c}),M.default.createElement("div",{className:je["tx-detail__underline"]}),M.default.createElement(is,{data:c}),M.default.createElement(Xi,{data:c,onRefresh:w=>{a.current=w,d(),t&&t()}}))),f&&M.default.createElement(Un,null)))}var Ao=jr;l();_();l();_();var no=u(A());l();_();var De=u(A()),rs=u(he()),ls=u(Wo());l();_();G();ie();function zr(e,t,i){if(e===S.PENDING&&!t)return s("wallet_extension_history_list_status_waiting");if(e===S.PENDING&&t){if(i===Z.CONFIRMING)return"";if(i===Z.SPEEDING)return s("wallet_extension_send_status_speedingup");if(i===Z.CANCELING)return s("wallet_extension_send_status_canceling");if(i===Z.SPEEDING_CANCEL)return s("wallet_extension_send_status_canceling")}return""}var oo=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===S.SUCCESS&&(n===Z.CANCELING||n===Z.SPEEDING_CANCEL)?s("wallet_extension_send_status_canceled"):t===S.CONFIRMING||t===S.SUCCESS?"":t===S.ERROR?s("wallet_extension_history_status_failed"):t===S.WITHDRAWING?s("wallet_extension_status_tag_withdraw"):zr(t,i,n)},io=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===S.SUCCESS&&(n===Z.CANCELING||n===Z.SPEEDING_CANCEL)?pt.CANCELED:t===S.CONFIRMING||t===S.SUCCESS?"":t===S.ERROR?pt.FAILED:t===S.PENDING&&!i?pt.WAITING:pt.PENDING};var Xr=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,ls.useHistory)(),a=(0,rs.useSelector)(vt),r=zn(e),c=Jn(e),m=to(e),f=Xn(e,a),p=io(e),d=oo(e),I=Hi(e),N=$i(e),h=Wt(f,c),w=De.default.createElement(F.Label,{className:"tx-history-ml4",type:p,text:d,data:e}),E=e?.dexOrderId;return De.default.createElement(F.ItemContainer,{onClick:()=>{E&&n.push(`${Bt}/${e.dexOrderId}`),t()}},De.default.createElement(F.Row,{assets:c,align:h},De.default.createElement(F.Info,{icons:r,title:m,details:f,label:w,data:e}),De.default.createElement(F.Assets,{assets:c,isValuelessNftTxType:N})),I&&De.default.createElement(F.NFTs,{data:e}),!E&&De.default.createElement(F.Actions,{data:e,onRepeat:i}))},_s=(0,De.memo)(Xr);var Jr=({data:e={},onClick:t,onRepeat:i})=>no.default.createElement(_s,{data:e,onClick:t,onRepeat:i}),at=(0,no.memo)(Jr);l();_();var X=u(A()),Et=u(he());G();l();_();var Do=u(A()),cs=u(ke());l();_();var as={root:"_root_17ca3_1"};function Qr({className:e}){return Do.default.createElement("div",{className:(0,cs.default)(as.root,e)},Do.default.createElement(Qe.Circle,{size:Qe.SIZE.md}))}var so=Qr;l();_();var ct=u(A());var el=({date:e,list:t,onClick:i})=>ct.default.createElement(F.List,null,ct.default.createElement(F.Date,null,e),t.map((n,a)=>ct.default.createElement(at,{data:n,key:a,onClick:()=>{i(n)}}))),ms=(0,ct.memo)(el);l();_();var lo=u(A());l();_();var ro=u(A());G();l();_();var ds={dialogContainer:"_dialogContainer_1av5q_1"};var ps=({onClose:e,visible:t,onClick:i,options:n})=>{let a=(r,c)=>{let{label:m,image:f}=r||{};return ro.default.createElement(To.Coin,{symbol:m,icon:f,keyword:c,onClick:()=>{i(r)}})};return ro.default.createElement(ve,{isFull:!0,onClose:e,visible:t,title:s("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:ds.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},ro.default.createElement(To,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:s("wallet_extension_input_search_network")},dataSource:n,renderItem:a,emptyText:s("wallet_extension_text_noresults")}))};var bo=({visible:e,setVisible:t,handleSelectNetwork:i,options:n,children:a})=>lo.default.createElement(lo.default.Fragment,null,a,lo.default.createElement(ps,{visible:e,onClose:()=>t(!1),onClick:i,options:n}));l();_();var Ts=u(A()),Ns=u(he());l();_();var fs=u(A()),us=u(he());var xs=(e="coinId")=>{let t=(0,us.useSelector)(ii),[i]=zo(t);return{options:(0,fs.useMemo)(()=>(i||[]).map(a=>{let{chainName:r}=a;return{label:r,value:a[e],...a}}),[t])}};var Cs=({explorerUrl:e})=>{let[t,i]=Ts.default.useState(!1),n=(0,Ns.useSelector)(Gt),{account:a}=li(),{options:r}=xs(),c=n?.mainCoinId;return{visible:t,setVisible:i,gotoExplore:()=>{if(!c)i(!0);else{let p=r.find(d=>d.coinId===c)?.localType;globalThis.open(`${e?.[c]}${a?.[p]}`)}},handleSelectNetwork:p=>{let d=p.coinId;i(!1),globalThis.open(`${e?.[d]}${a?.[p.localType]}`)},options:r}};l();_();var So={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var tl=({pendingList:e,completedList:t,isLoading:i,onRepeat:n,onClick:a,onContainer:r,explorerUrl:c})=>{let m=(0,Et.useSelector)(Ht),f=(0,Et.useSelector)(Bi),{init:p}=(0,Et.useSelector)(Gt),d=(0,Et.useSelector)(Li),[I,N]=(0,X.useState)({}),[h,w]=(0,X.useState)(0),{visible:E,setVisible:C,gotoExplore:k,handleSelectNetwork:L,options:V}=Cs({explorerUrl:c});return f?X.default.createElement(F.Loading,{top:160}):i||!e?null:!i&&e.length===0&&t.length===0?X.default.createElement(bo,{visible:E,setVisible:C,handleSelectNetwork:L,options:V},X.default.createElement(F.Empty,{top:72,onButtonClick:k,buttonText:s("wallet_extension_history_btn_check_in_explorer"),description:p?s("wallet_extension_history_emptystate_no_transactions_day",{num:bi}):s("wallet_extension_history_emptystate_no_transactions_range")})):X.default.createElement(F.ListContainer,{onContainer:r,className:"tx-history-extra"},X.default.createElement(F.Dialogs,{data:I,type:h,onConfirm:()=>{N({}),w(0),n()},onCancel:()=>{w(0)}}),e.length>0?X.default.createElement(X.default.Fragment,null,X.default.createElement(F.PendingTag,null),X.default.createElement("div",{className:So.list},e.map((b,B)=>X.default.createElement(at,{data:b,key:B,onClick:()=>{a(b)},onRepeat:se=>{N(b),w(se)}})))):null,t.map(({date:b,list:B},se)=>X.default.createElement(ms,{date:b,list:B,key:se,onClick:a})),!d&&X.default.createElement(bo,{visible:E,setVisible:C,handleSelectNetwork:L,options:V},X.default.createElement(Me,{category:Me.CATEGORY.fill,type:Me.TYPE.gray,size:Me.SIZE.md,className:So.explore,onClick:k},s("wallet_extension_history_btn_check_in_explorer"))),m&&X.default.createElement(so,null))},Is=(0,X.memo)(tl);var ol={VirtualItem:at,HistoryList:Is};l();_();l();_();l();_();var me=u(A()),Bo=u(he()),Bs=u(Wo());l();_();var $e=u(A());l();_();var _o=u(A());l();_();var Re=u(A()),As=u(he());l();_();G();ie();var il="okx-wallet-plugin-report-centre",gs="okx-wallet-plugin-pointer-up",ws="okx-wallet-plugin-pointer-down",nl="okx-wallet-plugin-lock-1",sl="okx-wallet-plugin-swap-1",rl="okx-wallet-plugin-mint-nft",ll="okx-wallet-plugin-report-centre",_l="okx-wallet-plugin-supply",al="okx-wallet-plugin-claim",cl="okx-wallet-plugin-enrollment",ml="okx-wallet-plugin-mint",dl="okx-wallet-plugin-mint",pl="okx-wallet-plugin-coin-inscribe-brc20",fl="okx-wallet-plugin-pointer-down",ul="okx-wallet-plugin-pointer-up",xl="okx-wallet-plugin-quick",Es=(e={})=>{let{txType:t}=e,i=[];return t===o.TRANS_OUT&&i.push(gs),t===o.PERPETUAIL&&i.push(fl),t===o.WITHDRAW&&i.push(ul),t===o.QUICK_WITHDRAW&&i.push(xl),t===o.TRANS_IN&&i.push(ws),(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION)&&i.push(nl),(t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT||t===o.GAS_STATION||t===o.DEX_CROSS_CHAIN_SWAP||t===o.BRC20_TRADE||t===o.BRC30_TRADE||t===o.RUNES_SWEEP)&&i.push(sl),t===o.MINT_NFT&&i.push(rl),(t===o.CONTRACTCALL||t===o.DAPP_NFT)&&i.push(ll),t===o.DAPP_APPLY&&i.push(_l),(t===o.DAPP_REDEEM||t===o.DAPP_CLAIM||t===o.EARN_BRC30_CLAIM||t===o.EARN_BRC30_APPLY||t===o.EARN_BRC30_REDEEM)&&i.push(al),(t===o.REGISTRATION||t===o.ZK_REGISTER)&&i.push(cl),(t===o.BRC20_RECEIVE||t===o.BRC30_RECEIVE||t===o.DEFI_MINT)&&i.push(ws),(t===o.BRC20_INSCRIBE||t===o.BRC30_INSCRIBE)&&i.push(pl),(t===o.BRC20_MINT||t===o.ORDINAL_NFT||t===o.ORDINAL_TEXT||t===o.BRC20_DEPLOY)&&i.push(ml),(t===o.BRC20_SEND||t===o.BRC30_SEND||t===o.DEFI_REPAY)&&i.push(gs),t===o.EARN_BRC30_DEPLOY&&i.push(dl),i.length||i.push(il),i},ys=(e={})=>{let{txType:t,coinSymbol:i}=e;return Zt(t,{symbol:i},e)},hs=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:a}=e;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let r=nt(e)||j(e.to),c=`${s("wallet_extension_history_list_send_to")}  ${r}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let r=j(e.from),c=`${s("wallet_extension_history_list_receive_from")}   ${r}`;i.push(c)}else if(n===o.BRC30_INSCRIBE){let r=j(e.to);i.push(r)}else if(n===o.ZK_REGISTER)i.push(j(e.from));else{let{contractName:r,contractAddress:c}=e,m=r||j(c)||"";i.push(m)}if(a===S.PENDING){let r=Pe(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(r)}return i},vs=(e={})=>{let t=[],{direction:i,coinAmount:n,coinSymbol:a,txType:r,repeatTxType:c,coinId:m}=e,{baseCoin:f}=qe(m,!0),p=Ft(f.coinId);if(r===o.AUTHORIZATION||r===o.CANCEL_AUTHORIZATION||r===o.REGISTRATION)return t;let d=null;return(n!=="0"||p&&(r===o.TRANS_IN||r===o.TRANS_OUT)&&c!==Z.CANCELING&&c!==Z.SPEEDING_CANCEL)&&(d=J(n)),t.push({direction:i,coinAmount:d,symbol:a}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&t.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),t};var Tl=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,As.useSelector)(vt),a=Es(e),r=ys(e),c=hs(e,n),m=vs(e),f=Wt(c,m),p=io(e),d=oo(e),I=Re.default.createElement(F.Label,{className:"tx-history-ml4",type:p,text:d,data:e});return Re.default.createElement(F.ItemContainer,{onClick:t},Re.default.createElement(F.Row,{assets:m,align:f},Re.default.createElement(F.Info,{icons:a,title:r,details:c,label:I,data:e}),Re.default.createElement(F.CoinAssets,{assets:m})),Re.default.createElement(F.Actions,{data:e,onRepeat:i}))},Ds=(0,Re.memo)(Tl);var Nl=({data:e={},onRepeat:t,onClick:i})=>_o.default.createElement(Ds,{data:e,onClick:i,onRepeat:t}),ao=(0,_o.memo)(Nl);var Cl=({completedList:e,onClick:t})=>$e.default.createElement($e.default.Fragment,null,e.map(({date:i,list:n},a)=>$e.default.createElement(F.List,{key:a},$e.default.createElement(F.Date,null,i),n.map((r,c)=>$e.default.createElement(ao,{data:r,key:c,onClick:()=>{t(r)}}))))),bs=(0,$e.memo)(Cl);l();_();var Ee=u(A());l();_();var Ss={root:"_root_1otry_1"};var Il=({pendingList:e,onRepeat:t,onClick:i})=>{let[n,a]=(0,Ee.useState)({}),[r,c]=(0,Ee.useState)(0);return e.length===0?null:Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement(F.Dialogs,{data:n,type:r,onConfirm:()=>{a({}),c(0),t()},onCancel:()=>{c(0)}}),Ee.default.createElement("div",{className:Ss.root},e.map((m,f)=>Ee.default.createElement(ao,{data:m,key:f,onRepeat:p=>{a(m),c(p)},onClick:()=>{i(m)}}))))},Ls=(0,Ee.memo)(Il);l();_();var Lo={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};G();var gl=({txList:e,isLoading:t,onRepeat:i,txDetailData:n,setTxDetailData:a})=>{let r=(0,Bo.useSelector)(At),c=(0,Bo.useSelector)(Ht),m=(0,Bs.useHistory)(),[f,p]=(0,me.useMemo)(()=>Gi(e,r,!0),[e,r]);if(!t&&f.length===0&&p.length===0)return me.default.createElement(F.Empty,{description:s("wallet_transaction_history_subtitle_no_records")});if(t)return me.default.createElement(F.Loading,{top:0,className:Lo.loading});if(!Array.isArray(e))return null;let d=I=>{I?.dexOrderId?m.push(`${Bt}/${I.dexOrderId}`):a(I)};return me.default.createElement(me.default.Fragment,null,me.default.createElement("div",{className:"coin-history__list"},me.default.createElement(Ls,{pendingList:f,onRepeat:i,onClick:d}),me.default.createElement(bs,{completedList:p,onClick:d}),c&&me.default.createElement(so,{className:Lo.scrollLoading})),me.default.createElement(Ao,{visible:!!n,params:n,onRefresh:i,onClose:()=>{a(null)}}))},Fs=(0,me.memo)(gl);var wl={TxList:Fs};l();_();var xe=u(A()),Rs=u(he());Je();function gT({scrollContainer:e,selector:t=".tx-history-item-container",index:i=15},n){let a=(0,xe.useRef)(null),r=(0,xe.useRef)(null),c=(0,Rs.useSelector)(Si),m=()=>{if(a.current)if(r.current){let{bottom:E}=a.current.getBoundingClientRect(),{top:C}=r.current.getBoundingClientRect();C>=E&&n()}else n()},f=xt("wallet-transaction",{onError:m}),[p,d]=(0,xe.useState)(!1),[I,N]=(0,xe.useState)(!1),[h,w]=(0,xe.useState)(0);(0,xe.useEffect)(()=>{f&&N(!0)},[f]),(0,xe.useLayoutEffect)(()=>{let E;if(e){let C=e.querySelectorAll(t);E=Mo(()=>{let{bottom:k}=e.getBoundingClientRect(),{top:L}=r.current.getBoundingClientRect();d(L>=k)},200),r.current=C[i],r.current?(E(),e.addEventListener("scroll",E)):d(!0),a.current=e}else d(!0);return()=>{e&&(e.removeEventListener("scroll",E),r.current=null)}},[h,e,t,i,c]),(0,xe.useEffect)(()=>{p&&I&&(n&&n(),d(!1),N(!1),w(E=>{let C=E+1;return C>=1e6&&(C=1),C}))},[p,I])}export{Gi as a,Ao as b,wl as c,ol as d,gT as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-QDNNAHIB.js.map
