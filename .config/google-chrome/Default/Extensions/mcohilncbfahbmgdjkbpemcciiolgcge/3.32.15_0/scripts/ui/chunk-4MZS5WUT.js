import{c as xe,d as ge}from"./chunk-TK3POT64.js";import{b as Ne}from"./chunk-PKCAYJL7.js";import{c as fe,e as Ae}from"./chunk-HTCS5UFP.js";import{d as Te,e as ye}from"./chunk-P4KG7HC3.js";import{a as ue,b as ce,c as D,d as _e}from"./chunk-RMSE4KTO.js";import{a as de,c as x,d as g}from"./chunk-R5U3NPEX.js";import{d as le}from"./chunk-4W35J5OQ.js";import{b as pe}from"./chunk-V4NJDTLC.js";import{l as ne,m as $,q as i}from"./chunk-WKBC6JL3.js";import{X as Fe}from"./chunk-VPDRXROE.js";import{W as me}from"./chunk-JLIPSIRU.js";import{b as S,ta as We}from"./chunk-VGT27A4M.js";import{c as T}from"./chunk-RXNDJ7P3.js";import{G as R,Jb as Ue,Mb as U,Nb as re,Ob as B,Pb as M,Ub as j,Vb as De,X as ee,Xb as z,Zb as te,lb as Z,w as Q,x as X}from"./chunk-YT2MPR4E.js";import{c as ie,o as ae}from"./chunk-LDKM7IQF.js";import{M as O,x as n}from"./chunk-RIOWPXBZ.js";import{T as se,c as oe}from"./chunk-OSCGYMLH.js";import{a as L}from"./chunk-O337TVCZ.js";import{f as c,m as o,o as s}from"./chunk-GLD6H5Q5.js";o();s();var P=c(L());Ue();var Y={eoa:"eoa",contract:"contract"},Ve="eth_sign",Oe="suspicion_withdraw_address",Be="lower_value",je=({connectRet:e={},kysRet:r={},coinId:t="",handleCancel:p})=>{let{getEoaModalParams:f,getEthSignModalParams:A,getLowerValueModalParams:I,getTronPermissionsModalParams:N,getSolPermissionsModalParams:u,getBlackAddressWarnModalParams:E,getStrongBlackAddressModalParams:h,getSuspicionWithdrawAddressModalParams:v,getNotSameParamsModalParams:Me,getRiskRejectParamsModalParams:Se,getRiskAlertParamsModalParams:Pe,getMaliciousTokenModalParams:Ce,getConnectRiskModalParams:Ie}=ue(),{permissionMsg:G,approveList:ve,causeRiskItem:d=[],blackAddress:b}=r||{},{whetherShowRisk:q,origin:J}=e,[w={}]=ve||[],k=(0,P.useRef)(),m=be=>{k.current||(k.current=ae.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:P.default.createElement(ce,{modalParams:be,handleCancel:async()=>{await p(),k.current.destroy(),k.current=null},closeModal:()=>{k.current.destroy(),k.current=null}})}))};(0,P.useEffect)(()=>{if(b?.tagExt){m(h(b.address));return}if(d.includes("not_same_params")){m(Me());return}if(d.includes(Ve)){m(A());return}if(G&&t!==Z){m(u());return}if(d.includes("purchase_malicious_token")){m(Ce());return}if(d.includes("basic_risk_reject")){m(Se());return}if((xe(w.approvalType)||ge(w.approvalType))&&w.addressType===Y.eoa){m(f(w.address));return}if(b?.msg){m(E(b.msg));return}if(d.includes(Be)){m(I());return}if(d.includes(Oe)){m(v());return}if(G&&t===Z){m(N());return}d.includes("basic_risk_alert")&&m(Pe()),q&&m(Ie(J))},[t,G,b?.msg,d?.length,w.addressType,w.approvalType,q,J])},or=je;o();s();var a=c(L()),Ee=c(Fe()),H=c(oe()),he=c(De());O();j();te();ee();o();s();var _={root:"_root_pbsli_1",tokenImg:"_tokenImg_pbsli_5",coinDetail:"_coinDetail_pbsli_12",title:"_title_pbsli_16",in:"_in_pbsli_20",arrow:"_arrow_pbsli_23",fold:"_fold_pbsli_35"};var ze=e=>e.nftName?e.nftName:e.tokenId?n("wallet_extension_network_text_unknown_tokenid",{tokenId:e.tokenId}):M,$e=e=>{let r=e.asset||{},t="";if(r.assetType===D.NFT)t=`${e.tokenNum?`${e.tokenNum} `:""}${ze(e)}`;else{let p=(0,he.isHexString)(e.rawValue)?z(e.rawValue):e.rawValue;t=$(p,{symbol:r.symbol,decimals:r.decimals})}return`${e.operator}${t}`},Ge=e=>{let r=e.asset||{},t;return r.assetType===D.NFT?t=e.nftImageUrl||B:t=r.imageUrl||U,t},Ze=({data:e,maxTitle:r})=>{let t=pe(),p=(0,a.useMemo)(()=>{let f=e.asset||{};return[D.NATIVE,D.TOKEN].includes(f.assetType)?e.usdValue?ne(Q(e.usdValue,t.usdToThisRate),{symbol:t.symbol}):n("wallet_extension_text_barmark"):null},[e?.asset,e?.usdValue,t]);return a.default.createElement(T.Box,{className:_.root},a.default.createElement(ie,{src:Ge(e||{}),className:_.tokenImg,errorImg:U}),a.default.createElement(T.FlexBox,{direction:T.DIRECTION.vertical,className:_.coinDetail},a.default.createElement(i.AdaptiveText,{text:r,autoSize:Ne,ellipsis:{tooltip:!0},className:(0,H.default)(_.title,{[_.in]:e.operator===_e.add})},e.title),p?a.default.createElement(i.Text,{size:i.SIZE.sm,type:i.TYPE.secondary,forceWrap:!0},p):null))},Ye=({assetChange:e=[],dappInfo:r,showDappInfo:t=!0,noFold:p})=>{let f=p?!1:e?.length>4,[A,{toggle:I}]=(0,Ee.useBoolean)(f),N=A?e.slice(0,4):e,u="",E=N.map(h=>{let v=$e(h||{});return u=v.length>u.length?v:u,{...h,title:v}});return a.default.createElement(g,null,a.default.createElement(de,{className:_.root,title:n("wallet_extension_modaltitle_asset_change"),tooltip:n("wallet_extension_modaldesc_asset_change")},a.default.createElement(le,{space:8,dataSource:E,renderItem:h=>a.default.createElement(Ze,{data:h||{},maxTitle:u})}),f&&a.default.createElement(T.Box,{align:T.ALIGN.center,className:(0,H.default)(_.arrow,{[_.fold]:A}),onClick:I},a.default.createElement(se,{className:"okx-wallet-plugin-add-arrow-chevrons"}))),t&&a.default.createElement(Ae,{...r}))},Pr=Ye;o();s();var F=c(L());O();j();o();s();var ke=c(L());o();s();var we={root:"_root_1wfix_1"};var He=({text:e,type:r=i.TYPE.secondary})=>{let t=fe();return ke.default.createElement(i.Text,{forceWrap:!0,size:i.SIZE.xs,type:r,className:we.root,onClick:()=>{t(e)}},e)},C=He;o();s();var K=c(L());O();j();var Ke=({approveInfo:e})=>{let r=e?.addressType===Y.eoa&&ye(e?.approvalType)?i.TYPE.danger:i.TYPE.secondary;return K.default.createElement(x,{title:n("wallet_extension_popup_text_project"),summaryList:[{icon:{src:e.imageUrl||re},title:e.name||M,desc:K.default.createElement(C,{text:e.address,type:r})}]})},W=Ke;var qe=({approveInfo:e})=>F.default.createElement(g,null,F.default.createElement(x,{title:n(Te(e.approvalType)?"extension_approve_maintitle_approve":"extension_revoke_approval_maintitle_revoke_approval"),summaryList:[{icon:{src:e.asset?.imageUrl||B},title:e.asset?.name||M,desc:F.default.createElement(C,{text:e.asset?.address})}]}),F.default.createElement(W,{approveInfo:e})),mt=qe;o();s();var l=c(L()),Le=c(oe());O();j();te();We();ee();o();s();var V={approve:"_approve_ojrap_1",title:"_title_ojrap_1",titleContent:"_titleContent_ojrap_6",warning:"_warning_ojrap_10"};var Je=e=>{typeof e!="string"&&(e=e.toString());let r=e?.length;return r<=15?30:r<=16?28:r<=17?26:r<=18?24:r<=20?22:r<=21?20:r<=23?18:r<=25?16:r<=29?14:12},Qe=({approveInfo:e,editBtnSlot:r=null,authAmount:t})=>{let{symbol:p,decimals:f,imageUrl:A=U}=e?.asset||{},{approvalRaw:I}=e||{},N=t||X(z(I),R.pow(10,f));if([S.AUTHORIZATION,S.INCREASE_ALLOWANCE,S.COMMON_APPROVE].includes(e.approvalType)){let u=me(N),E=`${u?n("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):$(N)} ${p}`;return l.default.createElement(g,{className:V.approve},l.default.createElement(x,{title:n(e.approvalType===S.INCREASE_ALLOWANCE?"wallet_extension_approve_text_increase_approval_amount":"extension_approve_maintitle_approve"),summaryList:[{title:l.default.createElement(T.Box,{className:V.title},l.default.createElement(i.AdaptiveText,{text:E,className:(0,Le.default)(V.titleContent,{[V.warning]:u}),autoSize:Je,ellipsis:{tooltip:!0}},E),r),desc:!!u&&l.default.createElement(i.Text,{size:i.SIZE.xs,type:i.TYPE.warnig},n("wallet_extension_transfer_text_unlimited_approval_risk")),icon:{src:A},descSize:i.SIZE.xs}]}),l.default.createElement(W,{approveInfo:e}))}return l.default.createElement(g,null,l.default.createElement(x,{title:n(e.approvalType===S.CANCEL_AUTHORIZATION?"extension_revoke_approval_maintitle_revoke_approval":"wallet_extension_approve_text_reduce_approval_amount"),summaryList:[{desc:l.default.createElement(C,{text:e.asset?.address}),title:e.asset?.symbol,icon:{src:e.asset?.imageUrl}}]}),l.default.createElement(W,{approveInfo:e}))},vt=Qe;export{or as a,Pr as b,mt as c,vt as d};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-4MZS5WUT.js.map
